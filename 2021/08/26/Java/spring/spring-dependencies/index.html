<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"chenpeng.pages.dev","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"always","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="å³ä½¿æ˜¯æœ€ç®€å•çš„åº”ç”¨ç¨‹åºä¹Ÿæœ‰ä¸€äº›å¯¹è±¡ï¼Œå®ƒä»¬ååŒå·¥ä½œä»¥å‘ˆç°æœ€ç»ˆç”¨æˆ·æ‰€çœ‹åˆ°çš„è¿è´¯åº”ç”¨ç¨‹åºã€‚">
<meta property="og:type" content="article">
<meta property="og:title" content="spring-dependencies">
<meta property="og:url" content="https://chenpeng.pages.dev/2021/08/26/Java/spring/spring-dependencies/index.html">
<meta property="og:site_name" content="é™ˆé¹çš„åšå®¢">
<meta property="og:description" content="å³ä½¿æ˜¯æœ€ç®€å•çš„åº”ç”¨ç¨‹åºä¹Ÿæœ‰ä¸€äº›å¯¹è±¡ï¼Œå®ƒä»¬ååŒå·¥ä½œä»¥å‘ˆç°æœ€ç»ˆç”¨æˆ·æ‰€çœ‹åˆ°çš„è¿è´¯åº”ç”¨ç¨‹åºã€‚">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2021-08-26T08:55:15.000Z">
<meta property="article:modified_time" content="2022-04-14T04:23:46.790Z">
<meta property="article:author" content="CHENPENGBLOG">
<meta property="article:tag" content="java">
<meta property="article:tag" content="spring">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://chenpeng.pages.dev/2021/08/26/Java/spring/spring-dependencies/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>spring-dependencies | é™ˆé¹çš„åšå®¢</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ ">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">é™ˆé¹çš„åšå®¢</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">æ¯å¤©è¿›æ­¥ä¸€ç‚¹ç‚¹ğŸ˜‰</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>é¦–é¡µ</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>å…³äº</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>æ ‡ç­¾</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>åˆ†ç±»</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>å½’æ¡£</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://chenpeng.pages.dev/2021/08/26/Java/spring/spring-dependencies/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="CHENPENGBLOG">
      <meta itemprop="description" content="å…¨æ ˆæèµ·æ¥ï¼">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="é™ˆé¹çš„åšå®¢">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          spring-dependencies
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2021-08-26 16:55:15" itemprop="dateCreated datePublished" datetime="2021-08-26T16:55:15+08:00">2021-08-26</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2022-04-14 12:23:46" itemprop="dateModified" datetime="2022-04-14T12:23:46+08:00">2022-04-14</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>å³ä½¿æ˜¯æœ€ç®€å•çš„åº”ç”¨ç¨‹åºä¹Ÿæœ‰ä¸€äº›å¯¹è±¡ï¼Œå®ƒä»¬ååŒå·¥ä½œä»¥å‘ˆç°æœ€ç»ˆç”¨æˆ·æ‰€çœ‹åˆ°çš„è¿è´¯åº”ç”¨ç¨‹åºã€‚</p>
<span id="more"></span>

<h2 id="ä¾èµ–æ³¨å…¥"><a href="#ä¾èµ–æ³¨å…¥" class="headerlink" title="ä¾èµ–æ³¨å…¥"></a>ä¾èµ–æ³¨å…¥</h2><p>ä¾èµ–æ€§æ³¨å…¥ï¼ˆDIï¼‰æ˜¯ä¸€ä¸ªè¿‡ç¨‹ï¼Œé€šè¿‡åœ¨å¯¹è±¡ä¸Šè®¾ç½®å±æ€§æ¥å®šä¹‰å®ƒä»¬ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œç„¶åå®¹å™¨åœ¨åˆ›å»ºbeanæ—¶æ³¨å…¥è¿™äº›ä¾èµ–ã€‚</p>
<p>é‡‡ç”¨DIåŸåˆ™ï¼Œä»£ç ä¼šæ›´å¹²å‡€ï¼Œå½“å¯¹è±¡è¢«æä¾›å…¶ä¾èµ–æ—¶ï¼Œè§£è€¦ä¼šæ›´æœ‰æ•ˆã€‚å¯¹è±¡ä¸ä¼šæŸ¥æ‰¾å…¶ä¾èµ–ï¼Œä¹Ÿä¸çŸ¥é“ä¾èµ–çš„ä½ç½®æˆ–ç±»åˆ«ã€‚å› æ­¤ï¼Œç±»å˜å¾—æ›´å®¹æ˜“æµ‹è¯•ï¼Œç‰¹åˆ«æ˜¯å½“ä¾èµ–æ˜¯åœ¨æ¥å£æˆ–æŠ½è±¡åŸºç±»ä¸Šæ—¶ï¼Œè¿™å…è®¸åœ¨å•å…ƒæµ‹è¯•ä¸­ä½¿ç”¨å­˜æ ¹æˆ–æ¨¡æ‹Ÿå®ç°ã€‚</p>
<p>DIæœ‰ä¸¤ä¸ªä¸»è¦çš„å˜ä½“ã€‚åŸºäºæ„é€ å™¨çš„ä¾èµ–æ€§æ³¨å…¥å’ŒåŸºäºsetterçš„ä¾èµ–æ€§æ³¨å…¥ã€‚</p>
<h3 id="åŸºäºæ„é€ å™¨çš„ä¾èµ–æ€§æ³¨å…¥"><a href="#åŸºäºæ„é€ å™¨çš„ä¾èµ–æ€§æ³¨å…¥" class="headerlink" title="åŸºäºæ„é€ å™¨çš„ä¾èµ–æ€§æ³¨å…¥"></a>åŸºäºæ„é€ å™¨çš„ä¾èµ–æ€§æ³¨å…¥</h3><p>åŸºäºæ„é€ æ–¹æ³•çš„ DI æ˜¯å®¹å™¨é€šè¿‡è°ƒç”¨æœ‰å‚æ•°æ„é€ æ–¹æ³•æ¥å®Œæˆçš„ï¼Œæ¯ä¸ªå‚æ•°ä»£è¡¨ä¸€ä¸ªä¾èµ–ã€‚ä¸‹é¢çš„ä¾‹å­æ˜¾ç¤ºäº†ä¸€ä¸ªåªèƒ½ç”¨æ„é€ æ–¹æ³•æ³¨å…¥çš„ä¾èµ–æ€§æ³¨å…¥çš„ç±»ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SimpleMovieLister</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// the SimpleMovieLister has a dependency on a MovieFinder</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> MovieFinder movieFinder;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// a constructor so that the Spring container can inject a MovieFinder</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">SimpleMovieLister</span><span class="params">(MovieFinder movieFinder)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.movieFinder = movieFinder;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// business logic that actually uses the injected MovieFinder is omitted...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¯·æ³¨æ„ï¼Œè¿™ä¸ªç±»æ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«ä¹‹å¤„ã€‚å®ƒæ˜¯ä¸€ä¸ªä¸ä¾èµ–äºå®¹å™¨ç‰¹å®šæ¥å£ã€åŸºç±»æˆ–æ³¨è§£çš„ POJOã€‚</p>
<h4 id="å‚æ•°è§£æ"><a href="#å‚æ•°è§£æ" class="headerlink" title="å‚æ•°è§£æ"></a>å‚æ•°è§£æ</h4><p>å‚æ•°è§£æä½¿ç”¨å‚æ•°çš„ç±»å‹è¿›è¡ŒåŒ¹é…ã€‚å¦‚æœå‚æ•°ä¸­ä¸å­˜åœ¨æ­§ä¹‰ï¼Œé‚£ä¹ˆåœ¨ bean å®šä¹‰ä¸­å®šä¹‰æ„é€ æ–¹æ³•å‚æ•°çš„é¡ºåºå°±æ˜¯åœ¨å®ä¾‹åŒ– bean æ—¶å°†è¿™äº›å‚æ•°æä¾›ç»™é€‚å½“çš„æ„é€ æ–¹æ³•çš„é¡ºåºã€‚è€ƒè™‘ä»¥ä¸‹ç±»ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> x.y;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ThingOne</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ThingOne</span><span class="params">(ThingTwo thingTwo, ThingThree thingThree)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å‡è®¾ <code>ThingTwo </code>å’Œ <code>ThingThree </code>ç±»æ²¡æœ‰é€šè¿‡ç»§æ‰¿å…³è”ï¼Œåˆ™ä¸å­˜åœ¨æ½œåœ¨çš„æ­§ä¹‰ã€‚å› æ­¤ï¼Œä»¥ä¸‹é…ç½®å·¥ä½œæ­£å¸¸ï¼Œä¸éœ€è¦åœ¨<code>&lt;constructor-arg/&gt;</code>å…ƒç´ ä¸­æ˜¾å¼æŒ‡å®šæ„é€ æ–¹æ³•å‚æ•°ç´¢å¼•æˆ–ç±»å‹ã€‚</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">beans</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;beanOne&quot;</span> <span class="attr">class</span>=<span class="string">&quot;x.y.ThingOne&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">ref</span>=<span class="string">&quot;beanTwo&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">ref</span>=<span class="string">&quot;beanThree&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;beanTwo&quot;</span> <span class="attr">class</span>=<span class="string">&quot;x.y.ThingTwo&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;beanThree&quot;</span> <span class="attr">class</span>=<span class="string">&quot;x.y.ThingThree&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>å½“å¦ä¸€ä¸ªç±»å‹å·²çŸ¥çš„ bean è¢«å¼•ç”¨æ—¶ï¼Œå¯ä»¥å‘ç”ŸåŒ¹é…ï¼ˆå°±åƒå‰é¢çš„ä¾‹å­ä¸€æ ·ï¼‰ã€‚å½“ä½¿ç”¨ç®€å•ç±»å‹æ—¶ï¼Œä¾‹å¦‚ <code>&lt;value&gt;true&lt;/value&gt;</code>ï¼ŒSpring æ— æ³•ç¡®å®šå€¼çš„ç±»å‹ï¼Œå› æ­¤æ— æ³•åœ¨æ²¡æœ‰å¸®åŠ©çš„æƒ…å†µä¸‹æŒ‰ç±»å‹è¿›è¡ŒåŒ¹é…ã€‚è€ƒè™‘ä»¥ä¸‹ç±»ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> examples;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ExampleBean</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Number of years to calculate the Ultimate Answer</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">int</span> years;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// The Answer to Life, the Universe, and Everything</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String ultimateAnswer;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ExampleBean</span><span class="params">(<span class="keyword">int</span> years, String ultimateAnswer)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.years = years;</span><br><span class="line">        <span class="keyword">this</span>.ultimateAnswer = ultimateAnswer;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="å‚æ•°ç±»å‹åŒ¹é…"><a href="#å‚æ•°ç±»å‹åŒ¹é…" class="headerlink" title="å‚æ•°ç±»å‹åŒ¹é…"></a>å‚æ•°ç±»å‹åŒ¹é…</h4><p>åœ¨ä¸Šè¿°åœºæ™¯ä¸­ï¼Œå¦‚æœæ‚¨ä½¿ç”¨ <code>type </code>å±æ€§æ˜¾å¼æŒ‡å®šæ„é€ æ–¹æ³•å‚æ•°çš„ç±»å‹ï¼Œåˆ™å®¹å™¨å¯ä»¥ä½¿ç”¨ç®€å•ç±»å‹çš„ç±»å‹åŒ¹é…ï¼Œå¦‚ä¸‹ä¾‹æ‰€ç¤ºï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;exampleBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;examples.ExampleBean&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">type</span>=<span class="string">&quot;int&quot;</span> <span class="attr">value</span>=<span class="string">&quot;7500000&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">type</span>=<span class="string">&quot;java.lang.String&quot;</span> <span class="attr">value</span>=<span class="string">&quot;42&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="å‚æ•°ç´¢å¼•"><a href="#å‚æ•°ç´¢å¼•" class="headerlink" title="å‚æ•°ç´¢å¼•"></a>å‚æ•°ç´¢å¼•</h4><p>å¯ä»¥ä½¿ç”¨<code>index</code>å±æ€§æ¥æ˜ç¡®æŒ‡å®šæ„é€ æ–¹æ³•å‚æ•°çš„ç´¢å¼•ï¼Œå¦‚ä¸‹ä¾‹æ‰€ç¤ºã€‚</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;exampleBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;examples.ExampleBean&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">index</span>=<span class="string">&quot;0&quot;</span> <span class="attr">value</span>=<span class="string">&quot;7500000&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">index</span>=<span class="string">&quot;1&quot;</span> <span class="attr">value</span>=<span class="string">&quot;42&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>é™¤äº†è§£å†³å¤šä¸ªç®€å•å€¼çš„æ­§ä¹‰å¤–ï¼ŒæŒ‡å®šä¸€ä¸ªç´¢å¼•è¿˜å¯ä»¥è§£å†³æ„é€ æ–¹æ³•æœ‰ä¸¤ä¸ªç›¸åŒç±»å‹çš„å‚æ•°çš„æ­§ä¹‰ã€‚</p>
<blockquote>
<p> ç´¢å¼•ä»0å¼€å§‹ã€‚</p>
</blockquote>
<h4 id="å‚æ•°åç§°"><a href="#å‚æ•°åç§°" class="headerlink" title="å‚æ•°åç§°"></a>å‚æ•°åç§°</h4><p>å¯ä»¥ä½¿ç”¨æ„é€ æ–¹æ³•çš„å‚æ•°åç§°æ¥è¿›è¡Œæ•°å€¼æ¶ˆæ­§ï¼Œå¦‚ä¸‹ä¾‹æ‰€ç¤ºã€‚</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;exampleBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;examples.ExampleBean&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">&quot;years&quot;</span> <span class="attr">value</span>=<span class="string">&quot;7500000&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">&quot;ultimateAnswer&quot;</span> <span class="attr">value</span>=<span class="string">&quot;42&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>è¯·è®°ä½ï¼Œè¦ä½¿è¿™é¡¹å·¥ä½œå¼€ç®±å³ç”¨ï¼Œ<strong>ä»£ç å¿…é¡»åœ¨å¯ç”¨è°ƒè¯•æ ‡å¿—çš„æƒ…å†µä¸‹è¿›è¡Œç¼–è¯‘</strong>ï¼Œä»¥ä¾¿ Spring å¯ä»¥ä»æ„é€ æ–¹æ³•ä¸­æŸ¥æ‰¾å‚æ•°åç§°ã€‚å¦‚æœæ‚¨ä¸èƒ½æˆ–ä¸æƒ³å¯ç”¨è°ƒè¯•ç¼–è¯‘ä»£ç ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ <code>@ConstructorProperties</code> JDK æ³¨è§£æ˜¾å¼å‘½åæ„é€ æ–¹æ³•å‚æ•°ã€‚ç¤ºä¾‹ç±»å¿…é¡»å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> examples;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ExampleBean</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Fields omitted</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@ConstructorProperties(&#123;&quot;years&quot;, &quot;ultimateAnswer&quot;&#125;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ExampleBean</span><span class="params">(<span class="keyword">int</span> years, String ultimateAnswer)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.years = years;</span><br><span class="line">        <span class="keyword">this</span>.ultimateAnswer = ultimateAnswer;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="åŸºäº-Setter-çš„ä¾èµ–æ³¨å…¥"><a href="#åŸºäº-Setter-çš„ä¾èµ–æ³¨å…¥" class="headerlink" title="åŸºäº Setter çš„ä¾èµ–æ³¨å…¥"></a>åŸºäº Setter çš„ä¾èµ–æ³¨å…¥</h3><p>åŸºäº Setter çš„ DI æ˜¯å®¹å™¨<code>é€šè¿‡è°ƒç”¨æ— å‚æ•°æ„é€ æ–¹æ³•æˆ–æ— å‚é™æ€å·¥å‚æ–¹æ³•æ¥å®ä¾‹åŒ– bean åï¼Œå†è°ƒç”¨ </code>setter <code>æ–¹æ³•æ¥å®Œæˆçš„</code>ã€‚<br>ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºäº†ä¸€ä¸ªåªèƒ½ä½¿ç”¨çº¯ setter æ³¨å…¥è¿›è¡Œä¾èµ–æ³¨å…¥çš„ç±»ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SimpleMovieLister</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// the SimpleMovieLister has a dependency on the MovieFinder</span></span><br><span class="line">    <span class="keyword">private</span> MovieFinder movieFinder;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// a setter method so that the Spring container can inject a MovieFinder</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setMovieFinder</span><span class="params">(MovieFinder movieFinder)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.movieFinder = movieFinder;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// business logic that actually uses the injected MovieFinder is omitted...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>ApplicationContext </code>ä¸ºæ”¯æŒåŸºäºæ„é€ æ–¹æ³•å’ŒåŸºäº setter çš„ DIã€‚åœ¨å·²ç»é€šè¿‡æ„é€ æ–¹æ³•æ–¹æ³•æ³¨å…¥äº†ä¸€äº›ä¾èµ–é¡¹ä¹‹åï¼Œå®ƒè¿˜æ”¯æŒåŸºäº setter çš„ DIã€‚</p>
<p>æ ¹æ®ç»éªŒï¼Œå¯¹å¼ºåˆ¶ä¾èµ–é¡¹ä½¿ç”¨æ„é€ æ–¹æ³•ï¼Œå¯¹å¯é€‰ä¾èµ–é¡¹ä½¿ç”¨ setter æ–¹æ³•æˆ–é…ç½®æ–¹æ³•ã€‚è¯·æ³¨æ„ï¼Œåœ¨ setter æ–¹æ³•ä¸Šä½¿ç”¨ @Required æ³¨é‡Šå¯ç”¨äºä½¿å±æ€§æˆä¸ºå¿…éœ€çš„ä¾èµ–é¡¹ï¼›ä½†æœ€å¥½ä½¿ç”¨å¸¦æœ‰å‚æ•°ç¼–ç¨‹éªŒè¯çš„æ„é€ æ–¹æ³•æ³¨å…¥ã€‚</p>
<p>Spring å›¢é˜Ÿé€šå¸¸æå€¡æ„é€ æ–¹æ³•æ³¨å…¥ï¼Œå› ä¸ºå®ƒå¯ä»¥è®©åº”ç”¨ç¨‹åºç»„ä»¶å®ç°ä¸ºä¸å¯å˜å¯¹è±¡ï¼Œå¹¶ç¡®ä¿æ‰€éœ€çš„ä¾èµ–é¡¹ä¸ä¸ºç©ºã€‚æ­¤å¤–ï¼Œæ„é€ æ–¹æ³•æ³¨å…¥çš„ç»„ä»¶æ€»æ˜¯ä»¥å®Œå…¨åˆå§‹åŒ–çš„çŠ¶æ€è¿”å›ç»™å®¢æˆ·ç«¯ï¼ˆè°ƒç”¨ï¼‰ä»£ç ã€‚</p>
<blockquote>
<p>å¤§é‡çš„æ„é€ æ–¹æ³•å‚æ•°æ˜¯ä¸€ç§ç³Ÿç³•çš„ä»£ç å‘³é“ï¼Œè¿™æ„å‘³ç€è¯¥ç±»å¯èƒ½æœ‰å¤ªå¤šçš„è´£ä»»ï¼Œåº”è¯¥é‡æ„ä»¥æ›´å¥½åœ°è§£å†³é€‚å½“çš„å…³æ³¨ç‚¹åˆ†ç¦»é—®é¢˜ã€‚</p>
</blockquote>
<p>Setter æ³¨å…¥åº”è¯¥ä¸»è¦ä»…ç”¨äºå¯ä»¥åœ¨ç±»ä¸­åˆ†é…åˆç†é»˜è®¤å€¼çš„å¯é€‰ä¾èµ–é¡¹ã€‚å¦åˆ™ï¼Œå¿…é¡»åœ¨ä»£ç ä½¿ç”¨ä¾èµ–é¡¹çš„ä»»ä½•åœ°æ–¹æ‰§è¡Œéç©ºæ£€æŸ¥ã€‚ setter æ³¨å…¥çš„ä¸€ä¸ªå¥½å¤„æ˜¯ setter æ–¹æ³•ä½¿è¯¥ç±»çš„å¯¹è±¡å¯ä»¥åœ¨ä»¥åé‡æ–°é…ç½®æˆ–é‡æ–°æ³¨å…¥ã€‚</p>
<h3 id="ä¾èµ–è§£æçš„è¿‡ç¨‹"><a href="#ä¾èµ–è§£æçš„è¿‡ç¨‹" class="headerlink" title="ä¾èµ–è§£æçš„è¿‡ç¨‹"></a>ä¾èµ–è§£æçš„è¿‡ç¨‹</h3><p>å®¹å™¨æ‰§è¡Œbeanä¾èµ–è§£æå¦‚ä¸‹ï¼š</p>
<ul>
<li><code>ApplicationContext </code>æ˜¯ä½¿ç”¨æè¿°æ‰€æœ‰ bean çš„é…ç½®å…ƒæ•°æ®åˆ›å»ºå’Œåˆå§‹åŒ–çš„ã€‚é…ç½®å…ƒæ•°æ®å¯ä»¥ç”± <code>XML</code>ã€<code>Java ä»£ç </code>æˆ–<code>æ³¨è§£</code>æŒ‡å®šã€‚</li>
<li>å¯¹äºæ¯ä¸ª beanï¼Œå®ƒçš„ä¾èµ–å…³ç³»ä»¥å±æ€§ã€æ„é€ æ–¹æ³•å‚æ•°æˆ–é™æ€å·¥å‚æ–¹æ³•çš„å‚æ•°çš„å½¢å¼è¡¨ç¤ºã€‚åœ¨å®é™…åˆ›å»º bean æ—¶ï¼Œå°†è¿™äº›ä¾èµ–å…³ç³»æä¾›ç»™ beanã€‚</li>
<li>æ¯ä¸ªå±æ€§æˆ–æ„é€ æ–¹æ³•å‚æ•°éƒ½è¦è®¾ç½®å€¼çš„å®é™…å®šä¹‰ï¼Œæˆ–è€…æ˜¯å¯¹å®¹å™¨ä¸­å¦ä¸€ä¸ª bean çš„å¼•ç”¨ã€‚</li>
<li>ä½œä¸ºå€¼çš„æ¯ä¸ªå±æ€§æˆ–æ„é€ æ–¹æ³•å‚æ•°éƒ½ä»å…¶æŒ‡å®šæ ¼å¼è½¬æ¢ä¸ºè¯¥å±æ€§æˆ–æ„é€ æ–¹æ³•å‚æ•°çš„å®é™…ç±»å‹ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒSpring å¯ä»¥å°†å­—ç¬¦ä¸²æ ¼å¼æä¾›çš„å€¼è½¬æ¢ä¸ºæ‰€æœ‰å†…ç½®ç±»å‹ï¼Œä¾‹å¦‚ intã€longã€Stringã€boolean ç­‰ã€‚</li>
</ul>
<p>Spring å®¹å™¨åœ¨åˆ›å»ºå®¹å™¨æ—¶éªŒè¯æ¯ä¸ª bean çš„é…ç½®ã€‚ä½†åœ¨å®é™…åˆ›å»º bean ä¹‹å‰ä¸ä¼šè®¾ç½® bean å±æ€§æœ¬èº«ã€‚åˆ›å»ºå®¹å™¨æ—¶ä¼šåˆ›å»ºå•ä¾‹èŒƒå›´å¹¶è®¾ç½®ä¸ºé¢„å®ä¾‹åŒ–ï¼ˆé»˜è®¤ï¼‰çš„ Beanã€‚èŒƒå›´åœ¨ Bean èŒƒå›´ä¸­å®šä¹‰ï¼›å¦åˆ™ï¼Œä»…åœ¨è¯·æ±‚æ—¶æ‰åˆ›å»º beanã€‚</p>
<h4 id="å¾ªç¯ä¾èµ–"><a href="#å¾ªç¯ä¾èµ–" class="headerlink" title="å¾ªç¯ä¾èµ–"></a>å¾ªç¯ä¾èµ–</h4><p>å¦‚æœä¸»è¦ä½¿ç”¨æ„é€ æ–¹æ³•æ³¨å…¥ï¼Œå¯èƒ½ä¼šåˆ›å»ºæ— æ³•è§£å†³çš„å¾ªç¯ä¾èµ–åœºæ™¯ã€‚</p>
<p>ä¾‹å¦‚ï¼šAç±»é€šè¿‡æ„é€ æ–¹æ³•æ³¨å…¥éœ€è¦Bç±»çš„å®ä¾‹ï¼ŒBç±»é€šè¿‡æ„é€ æ–¹æ³•æ³¨å…¥éœ€è¦Aç±»çš„å®ä¾‹ã€‚å¦‚æœæ‚¨å°†ç±» A å’Œ B çš„ bean é…ç½®ä¸ºç›¸äº’æ³¨å…¥ï¼Œåˆ™ Spring IoC å®¹å™¨åœ¨è¿è¡Œæ—¶æ£€æµ‹åˆ°æ­¤å¾ªç¯å¼•ç”¨ï¼Œå¹¶æŠ›å‡º <code>BeanCurrentlyInCreationException</code>ã€‚</p>
<p><strong>ä¸€ç§è§£å†³æ–¹æ¡ˆæ˜¯é¿å…æ„é€ æ–¹æ³•æ³¨å…¥å¹¶ä»…ä½¿ç”¨ setter æ³¨å…¥ã€‚ä¹Ÿå°±æ˜¯è¯´(è™½ç„¶ä¸æ¨è)ï¼Œå¯ä»¥é€šè¿‡setteræ³¨å…¥æ¥é…ç½®å¾ªç¯ä¾èµ–ã€‚</strong></p>
<p>ä¸å…¸å‹æƒ…å†µï¼ˆæ²¡æœ‰å¾ªç¯ä¾èµ–ï¼‰ä¸åŒï¼Œbean A å’Œ bean B ä¹‹é—´çš„å¾ªç¯ä¾èµ–è¿«ä½¿å…¶ä¸­ä¸€ä¸ª bean åœ¨å®Œå…¨åˆå§‹åŒ–ä¹‹å‰è¢«æ³¨å…¥å¦ä¸€ä¸ª beanï¼ˆç»å…¸çš„é¸¡å’Œè›‹åœºæ™¯ï¼‰ã€‚</p>
<p>å¦‚æœä¸å­˜åœ¨å¾ªç¯ä¾èµ–ï¼Œå½“ä¸€ä¸ªæˆ–å¤šä¸ªåä½œ bean è¢«æ³¨å…¥ä¾èµ– bean æ—¶ï¼Œæ¯ä¸ªåä½œ bean åœ¨æ³¨å…¥ä¾èµ– bean ä¹‹å‰éƒ½å·²å®Œå…¨é…ç½®ã€‚è¿™æ„å‘³ç€ï¼Œå¦‚æœ bean A ä¾èµ– bean Bï¼Œåˆ™ Spring IoC å®¹å™¨åœ¨è°ƒç”¨ bean A ä¸Šçš„ setter æ–¹æ³•ä¹‹å‰å®Œå…¨é…ç½® bean Bã€‚æ¢å¥è¯è¯´ï¼Œbean è¢«å®ä¾‹åŒ–ï¼ˆå¦‚æœå®ƒä¸æ˜¯é¢„å®ä¾‹åŒ–çš„å•ä¾‹)ï¼Œç›¸å…³ä¾èµ–å·²è®¾ç½®å®Œæ¯•ï¼Œç›¸å…³ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼ˆå¦‚é…ç½®çš„initæ–¹æ³•æˆ–InitializingBeanå›è°ƒæ–¹æ³•ï¼‰å·²è¢«è°ƒç”¨ã€‚</p>
<h3 id="ä¾èµ–æ³¨å…¥çš„ä¾‹å­"><a href="#ä¾èµ–æ³¨å…¥çš„ä¾‹å­" class="headerlink" title="ä¾èµ–æ³¨å…¥çš„ä¾‹å­"></a>ä¾èµ–æ³¨å…¥çš„ä¾‹å­</h3><p>ä»¥ä¸‹ç¤ºä¾‹å°†åŸºäº XML çš„é…ç½®å…ƒæ•°æ®ç”¨äºåŸºäº setter çš„ DIã€‚ Spring XML é…ç½®æ–‡ä»¶çš„ä¸€å°éƒ¨åˆ†æŒ‡å®šäº†ä¸€äº› bean å®šä¹‰ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;exampleBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;examples.ExampleBean&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- setter injection using the nested ref element --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;beanOne&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ref</span> <span class="attr">bean</span>=<span class="string">&quot;anotherExampleBean&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- setter injection using the neater ref attribute --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;beanTwo&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;yetAnotherBean&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;integerProperty&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;anotherExampleBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;examples.AnotherBean&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;yetAnotherBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;examples.YetAnotherBean&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢çš„ä¾‹å­æ˜¾ç¤ºäº†ç›¸åº”çš„ExampleBeanç±»ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ExampleBean</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> AnotherBean beanOne;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> YetAnotherBean beanTwo;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> i;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setBeanOne</span><span class="params">(AnotherBean beanOne)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.beanOne = beanOne;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setBeanTwo</span><span class="params">(YetAnotherBean beanTwo)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.beanTwo = beanTwo;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setIntegerProperty</span><span class="params">(<span class="keyword">int</span> i)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.i = i;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨å‰é¢çš„ç¤ºä¾‹ä¸­ï¼Œsetter è¢«å£°æ˜ä¸ºä¸ XML æ–‡ä»¶ä¸­æŒ‡å®šçš„å±æ€§åŒ¹é…ã€‚</p>
<p>ä»¥ä¸‹ç¤ºä¾‹ä½¿ç”¨åŸºäºæ„é€ æ–¹æ³•çš„ DIï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;exampleBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;examples.ExampleBean&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- constructor injection using the nested ref element --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ref</span> <span class="attr">bean</span>=<span class="string">&quot;anotherExampleBean&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- constructor injection using the neater ref attribute --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">ref</span>=<span class="string">&quot;yetAnotherBean&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">type</span>=<span class="string">&quot;int&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;anotherExampleBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;examples.AnotherBean&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;yetAnotherBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;examples.YetAnotherBean&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºäº†ç›¸åº”çš„ <code>ExampleBean </code>ç±»ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ExampleBean</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> AnotherBean beanOne;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> YetAnotherBean beanTwo;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> i;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ExampleBean</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">        AnotherBean anotherBean, YetAnotherBean yetAnotherBean, <span class="keyword">int</span> i)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.beanOne = anotherBean;</span><br><span class="line">        <span class="keyword">this</span>.beanTwo = yetAnotherBean;</span><br><span class="line">        <span class="keyword">this</span>.i = i;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>bean å®šä¹‰ä¸­æŒ‡å®šçš„æ„é€ æ–¹æ³•å‚æ•°ç”¨ä½œ <code>ExampleBean </code>çš„æ„é€ æ–¹æ³•çš„å‚æ•°ã€‚</p>
<p>ç°åœ¨è€ƒè™‘è¿™ä¸ªä¾‹å­çš„ä¸€ä¸ªå˜ä½“ï¼Œå…¶ä¸­ä¸ä½¿ç”¨æ„é€ æ–¹æ³•ï¼Œè€Œæ˜¯å‘Šè¯‰ Spring è°ƒç”¨é™æ€å·¥å‚æ–¹æ³•æ¥è¿”å›å¯¹è±¡çš„å®ä¾‹ï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;exampleBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;examples.ExampleBean&quot;</span> <span class="attr">factory-method</span>=<span class="string">&quot;createInstance&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">ref</span>=<span class="string">&quot;anotherExampleBean&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">ref</span>=<span class="string">&quot;yetAnotherBean&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;anotherExampleBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;examples.AnotherBean&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;yetAnotherBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;examples.YetAnotherBean&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºäº†ç›¸åº”çš„ <code>ExampleBean </code>ç±»ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ExampleBean</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// a private constructor</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">ExampleBean</span><span class="params">(...)</span> </span>&#123;</span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// a static factory method; the arguments to this method can be</span></span><br><span class="line">    <span class="comment">// considered the dependencies of the bean that is returned,</span></span><br><span class="line">    <span class="comment">// regardless of how those arguments are actually used.</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> ExampleBean <span class="title">createInstance</span> <span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">        AnotherBean anotherBean, YetAnotherBean yetAnotherBean, <span class="keyword">int</span> i)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        ExampleBean eb = <span class="keyword">new</span> ExampleBean (...);</span><br><span class="line">        <span class="comment">// some other operations...</span></span><br><span class="line">        <span class="keyword">return</span> eb;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é™æ€å·¥å‚æ–¹æ³•çš„å‚æ•°ç”± <code>&lt;constructor-arg/&gt;</code> å…ƒç´ æä¾›ï¼Œä¸å®é™…ä½¿ç”¨æ„é€ æ–¹æ³•å®Œå…¨ç›¸åŒã€‚å·¥å‚æ–¹æ³•è¿”å›çš„ç±»çš„ç±»å‹ä¸å¿…ä¸åŒ…å«é™æ€å·¥å‚æ–¹æ³•çš„ç±»çš„ç±»å‹ç›¸åŒï¼ˆå°½ç®¡åœ¨æœ¬ç¤ºä¾‹ä¸­æ˜¯ï¼‰ã€‚å®ä¾‹ï¼ˆéé™æ€ï¼‰å·¥å‚æ–¹æ³•å¯ä»¥ä»¥åŸºæœ¬ç›¸åŒçš„æ–¹å¼ä½¿ç”¨ï¼ˆé™¤äº†ä½¿ç”¨ <code>factory-bean</code> å±æ€§è€Œä¸æ˜¯ <code>class </code>å±æ€§ï¼‰ã€‚</p>
<h2 id="ä¾èµ–å’Œé…ç½®è¯¦è§£"><a href="#ä¾èµ–å’Œé…ç½®è¯¦è§£" class="headerlink" title="ä¾èµ–å’Œé…ç½®è¯¦è§£"></a>ä¾èµ–å’Œé…ç½®è¯¦è§£</h2><p>å¦‚ä¸Šä¸€èŠ‚æ‰€è¿°ï¼Œå°† bean å±æ€§å’Œæ„é€ æ–¹æ³•å‚æ•°å®šä¹‰ä¸ºå¯¹å…¶ä»–æ‰˜ç®¡ beanï¼ˆåä½œè€…ï¼‰çš„å¼•ç”¨æˆ–ä½œä¸ºå†…è”å®šä¹‰çš„å€¼ã€‚ä¸ºæ­¤ï¼ŒSpring çš„åŸºäº XML çš„é…ç½®å…ƒæ•°æ®æ”¯æŒå…¶ <code>&lt;property/&gt; </code>å’Œ <code>&lt;constructor-arg/&gt; </code>å…ƒç´ ä¸­çš„å­å…ƒç´ ç±»å‹ã€‚</p>
<h4 id="ç›´æ¥å€¼ï¼ˆPrimitivesã€å­—ç¬¦ä¸²ç­‰ï¼‰"><a href="#ç›´æ¥å€¼ï¼ˆPrimitivesã€å­—ç¬¦ä¸²ç­‰ï¼‰" class="headerlink" title="ç›´æ¥å€¼ï¼ˆPrimitivesã€å­—ç¬¦ä¸²ç­‰ï¼‰"></a>ç›´æ¥å€¼ï¼ˆPrimitivesã€å­—ç¬¦ä¸²ç­‰ï¼‰</h4><p><code>&lt;property/&gt;</code> æ ‡ç­¾çš„ <code>value </code>å±æ€§å°†å±æ€§æˆ–æ„é€ æ–¹æ³•å‚æ•°æŒ‡å®šä¸ºäººç±»å¯è¯»çš„å­—ç¬¦ä¸²è¡¨ç¤ºå½¢å¼ã€‚ Spring çš„è½¬æ¢æœåŠ¡ç”¨äºå°†è¿™äº›å€¼ä» String è½¬æ¢ä¸ºå±æ€§æˆ–å‚æ•°çš„å®é™…ç±»å‹ã€‚ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºäº†æ­£åœ¨è®¾ç½®çš„å„ç§å€¼ï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;myDataSource&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.apache.commons.dbcp.BasicDataSource&quot;</span> <span class="attr">destroy-method</span>=<span class="string">&quot;close&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- results in a setDriverClassName(String) call --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driverClassName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;jdbc:mysql://localhost:3306/mydb&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;root&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;misterkaoli&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸‹ç¤ºä¾‹ä½¿ç”¨ p-namespace è¿›è¡Œæ›´ç®€æ´çš„ XML é…ç½®ï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:p</span>=<span class="string">&quot;http://www.springframework.org/schema/p&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">    https://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;myDataSource&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.apache.commons.dbcp.BasicDataSource&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">destroy-method</span>=<span class="string">&quot;close&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">p:driverClassName</span>=<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">p:url</span>=<span class="string">&quot;jdbc:mysql://localhost:3306/mydb&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">p:username</span>=<span class="string">&quot;root&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">p:password</span>=<span class="string">&quot;misterkaoli&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>å‰é¢çš„ XML æ›´ç®€æ´ï¼Œä½†æ‹¼å†™é”™è¯¯æ˜¯åœ¨è¿è¡Œæ—¶è€Œä¸æ˜¯è®¾è®¡æ—¶å‘ç°çš„ï¼Œé™¤éåœ¨åˆ›å»º bean å®šä¹‰æ—¶ä½¿ç”¨æ”¯æŒè‡ªåŠ¨å±æ€§å®Œæˆçš„ IDEï¼ˆä¾‹å¦‚ IntelliJ IDEA æˆ– Spring Tools for Eclipseï¼‰ã€‚å¼ºçƒˆå»ºè®®ä½¿ç”¨æ­¤ç±» IDE å¸®åŠ©ã€‚</p>
<p>è¿˜å¯ä»¥é…ç½®ä¸€ä¸ª<code> java.util.Properties</code> å®ä¾‹ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;mappings&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">class</span>=<span class="string">&quot;org.springframework.context.support.PropertySourcesPlaceholderConfigurer&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- typed as a java.util.Properties --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;properties&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span></span><br><span class="line">            jdbc.driver.className=com.mysql.jdbc.Driver</span><br><span class="line">            jdbc.url=jdbc:mysql://localhost:3306/mydb</span><br><span class="line">        <span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>Spring å®¹å™¨ä½¿ç”¨<code> JavaBeans PropertyEditor</code> æœºåˆ¶å°† <code>&lt;value/&gt;</code> å…ƒç´ å†…çš„æ–‡æœ¬è½¬æ¢ä¸º<code> java.util.Properties</code> å®ä¾‹ã€‚è¿™æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„æ·å¾„ï¼Œå¹¶ä¸”æ˜¯ Spring å›¢é˜Ÿæ”¯æŒä½¿ç”¨åµŒå¥—<code> &lt;value/&gt;</code> å…ƒç´ è€Œä¸æ˜¯ value å±æ€§æ ·å¼çš„å°‘æ•°å‡ ä¸ªåœ°æ–¹ä¹‹ä¸€ã€‚</p>
<h4 id="idref-å…ƒç´ "><a href="#idref-å…ƒç´ " class="headerlink" title="idref å…ƒç´ "></a>idref å…ƒç´ </h4><p>idref å…ƒç´ åªæ˜¯ä¸€ç§å°†å®¹å™¨ä¸­å¦ä¸€ä¸ª bean çš„ idï¼ˆå­—ç¬¦ä¸²å€¼ - è€Œä¸æ˜¯å¼•ç”¨ï¼‰ä¼ é€’ç»™<code>&lt;constructor-arg/&gt;</code>æˆ– <code>&lt;property/&gt; </code>å…ƒç´ çš„é˜²é”™æ–¹å¼ã€‚ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºäº†å¦‚ä½•ä½¿ç”¨å®ƒï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;theTargetBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;...&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;theClientBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;...&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;targetName&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">idref</span> <span class="attr">bean</span>=<span class="string">&quot;theTargetBean&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>å‰é¢çš„ bean å®šä¹‰ç‰‡æ®µä¸ä»¥ä¸‹ç‰‡æ®µå®Œå…¨ç­‰æ•ˆï¼ˆåœ¨è¿è¡Œæ—¶ï¼‰ï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;theTargetBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;...&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;client&quot;</span> <span class="attr">class</span>=<span class="string">&quot;...&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;targetName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;theTargetBean&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ç¬¬ä¸€ç§å½¢å¼æ¯”ç¬¬äºŒç§å½¢å¼æ›´å¯å–ï¼Œå› ä¸ºä½¿ç”¨ <code>idref </code>æ ‡è®°è®©å®¹å™¨åœ¨éƒ¨ç½²æ—¶éªŒè¯å¼•ç”¨çš„å‘½å bean å®é™…å­˜åœ¨ã€‚åœ¨ç¬¬äºŒä¸ªå˜ä½“ä¸­ï¼Œä¸å¯¹ä¼ é€’ç»™å®¢æˆ·ç«¯ bean çš„ <code>targetName </code>å±æ€§çš„å€¼æ‰§è¡ŒéªŒè¯ã€‚åªæœ‰åœ¨å®é™…å®ä¾‹åŒ–å®¢æˆ·ç«¯ bean æ—¶æ‰ä¼šå‘ç°æ‹¼å†™é”™è¯¯ï¼ˆæœ€æœ‰å¯èƒ½æ˜¯è‡´å‘½çš„ç»“æœï¼‰ã€‚å¦‚æœå®¢æˆ·ç«¯ bean æ˜¯åŸå‹ beanï¼Œåˆ™å¯èƒ½åªæœ‰åœ¨éƒ¨ç½²å®¹å™¨å¾ˆä¹…ä¹‹åæ‰èƒ½å‘ç°æ­¤é”™è¯¯å’Œç”±æ­¤äº§ç”Ÿçš„å¼‚å¸¸ã€‚</p>
<blockquote>
<p>4.0 beans XSD ä¸å†æ”¯æŒ idref å…ƒç´ ä¸Šçš„ local å±æ€§ã€‚å‡çº§åˆ° 4.0 æ¨¡å¼æ—¶ï¼Œå°†ç°æœ‰çš„<code> idref local</code>å¼•ç”¨æ›´æ”¹ä¸º<code> idref bean</code>ã€‚</p>
</blockquote>
<p><code>&lt;idref/&gt;</code> å…ƒç´ å¸¦æ¥ä»·å€¼çš„ä¸€ä¸ªå¸¸è§åœ°æ–¹ï¼ˆè‡³å°‘åœ¨ Spring 2.0 ä¹‹å‰çš„ç‰ˆæœ¬ä¸­ï¼‰æ˜¯åœ¨ <code>ProxyFactoryBean </code>bean å®šä¹‰ä¸­çš„ AOP æ‹¦æˆªå™¨çš„é…ç½®ä¸­ã€‚åœ¨æŒ‡å®šæ‹¦æˆªå™¨åç§°æ—¶ä½¿ç”¨<code> &lt;idref/&gt;</code> å…ƒç´ å¯é˜²æ­¢æ‚¨æ‹¼é”™æ‹¦æˆªå™¨ IDã€‚</p>
<h4 id="å¯¹å…¶ä»–-Bean-çš„å¼•ç”¨ï¼ˆåˆä½œè€…ï¼‰"><a href="#å¯¹å…¶ä»–-Bean-çš„å¼•ç”¨ï¼ˆåˆä½œè€…ï¼‰" class="headerlink" title="å¯¹å…¶ä»– Bean çš„å¼•ç”¨ï¼ˆåˆä½œè€…ï¼‰"></a>å¯¹å…¶ä»– Bean çš„å¼•ç”¨ï¼ˆåˆä½œè€…ï¼‰</h4><p>ref å…ƒç´ æ˜¯ <code>&lt;constructor-arg/&gt; </code>æˆ– <code>&lt;property/&gt; </code>å…ƒç´ å®šä¹‰ä¸­çš„æœ€åä¸€ä¸ªå…ƒç´ ã€‚</p>
<p>é€šè¿‡<code>&lt;ref/&gt;</code>æ ‡è®°çš„ bean å±æ€§æŒ‡å®šç›®æ ‡ bean æ˜¯æœ€é€šç”¨çš„å½¢å¼ï¼Œå®ƒå…è®¸åˆ›å»ºå¯¹åŒä¸€å®¹å™¨æˆ–çˆ¶å®¹å™¨ä¸­çš„ä»»ä½• bean çš„å¼•ç”¨ï¼Œæ— è®ºå®ƒæ˜¯å¦åœ¨åŒä¸€ XML æ–‡ä»¶ä¸­ã€‚ bean å±æ€§çš„å€¼å¯èƒ½ä¸ç›®æ ‡bean çš„id å±æ€§ç›¸åŒï¼Œä¹Ÿå¯èƒ½ä¸ç›®æ ‡bean çš„name å±æ€§ä¸­çš„å€¼ä¹‹ä¸€ç›¸åŒã€‚ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºäº†å¦‚ä½•ä½¿ç”¨ ref å…ƒç´ ï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ref</span> <span class="attr">bean</span>=<span class="string">&quot;someBean&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<p>é€šè¿‡ <code>parent </code>å±æ€§æŒ‡å®šç›®æ ‡ bean ä¼šåˆ›å»ºå¯¹å½“å‰å®¹å™¨çš„çˆ¶å®¹å™¨ä¸­çš„ bean çš„å¼•ç”¨ã€‚ <code>parent </code>å±æ€§çš„å€¼å¯èƒ½ä¸ç›®æ ‡ bean çš„ id å±æ€§æˆ–ç›®æ ‡ bean çš„ name å±æ€§ä¸­çš„å€¼ä¹‹ä¸€ç›¸åŒã€‚ç›®æ ‡ bean å¿…é¡»åœ¨å½“å‰å®¹å™¨çš„çˆ¶å®¹å™¨ä¸­ã€‚æ‚¨åº”è¯¥ä¸»è¦åœ¨å…·æœ‰å®¹å™¨å±‚æ¬¡ç»“æ„å¹¶ä¸”å¸Œæœ›ä½¿ç”¨ä¸çˆ¶ bean åŒåçš„ä»£ç†å°†ç°æœ‰ bean åŒ…è£…åœ¨çˆ¶å®¹å™¨ä¸­æ—¶ä½¿ç”¨æ­¤ bean å¼•ç”¨å˜ä½“ã€‚ä»¥ä¸‹æ¸…å•æ˜¾ç¤ºäº†å¦‚ä½•ä½¿ç”¨ parent å±æ€§ï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- in the parent context --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;accountService&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.something.SimpleAccountService&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- insert dependencies as required as here --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- in the child (descendant) context --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;accountService&quot;</span> &lt;!<span class="attr">--</span> <span class="attr">bean</span> <span class="attr">name</span> <span class="attr">is</span> <span class="attr">the</span> <span class="attr">same</span> <span class="attr">as</span> <span class="attr">the</span> <span class="attr">parent</span> <span class="attr">bean</span> <span class="attr">--</span>&gt;</span></span><br><span class="line">    class=&quot;org.springframework.aop.framework.ProxyFactoryBean&quot;&gt;</span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;target&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ref</span> <span class="attr">parent</span>=<span class="string">&quot;accountService&quot;</span>/&gt;</span> <span class="comment">&lt;!-- notice how we refer to the parent bean --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- insert other configuration and dependencies as required here --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>4.0 beans XSD ä¸å†æ”¯æŒ ref å…ƒç´ ä¸Šçš„ local å±æ€§ï¼Œå› ä¸ºå®ƒä¸å†æä¾›å¸¸è§„ bean å¼•ç”¨çš„å€¼ã€‚å‡çº§åˆ° 4.0 æ¨¡å¼æ—¶ï¼Œå°†ç°æœ‰çš„ ref æœ¬åœ°å¼•ç”¨æ›´æ”¹ä¸º ref beanã€‚</p>
</blockquote>
<h4 id="å†…éƒ¨bean"><a href="#å†…éƒ¨bean" class="headerlink" title="å†…éƒ¨bean"></a>å†…éƒ¨bean</h4><p><property> æˆ– <constructor-arg> å…ƒç´ å†…çš„ <bean> å…ƒç´ å®šä¹‰äº†ä¸€ä¸ªå†…éƒ¨ beanï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š</bean></constructor-arg></property></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;outer&quot;</span> <span class="attr">class</span>=<span class="string">&quot;...&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- instead of using a reference to a target bean, simply define the target bean inline --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;target&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;com.example.Person&quot;</span>&gt;</span> <span class="comment">&lt;!-- this is the inner bean --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Fiona Apple&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;age&quot;</span> <span class="attr">value</span>=<span class="string">&quot;25&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>å†…éƒ¨ bean å®šä¹‰ä¸éœ€è¦å®šä¹‰çš„ ID æˆ–åç§°ã€‚å¦‚æœæŒ‡å®šï¼Œå®¹å™¨ä¸ä¼šä½¿ç”¨è¿™æ ·çš„å€¼ä½œä¸ºæ ‡è¯†ç¬¦ã€‚å®¹å™¨åœ¨åˆ›å»ºæ—¶ä¹Ÿä¼šå¿½ç•¥èŒƒå›´æ ‡å¿—ï¼Œå› ä¸ºå†…éƒ¨ bean å§‹ç»ˆæ˜¯åŒ¿åçš„ï¼Œå¹¶ä¸”å§‹ç»ˆä¸å¤–éƒ¨ bean ä¸€èµ·åˆ›å»ºã€‚ä¸å¯èƒ½ç‹¬ç«‹è®¿é—®å†…éƒ¨ bean æˆ–å°†å®ƒä»¬æ³¨å…¥é™¤å°é—­ bean ä¹‹å¤–çš„åä½œ bean ä¸­ã€‚<br>ä½œä¸ºä¸€ç§æç«¯æƒ…å†µï¼Œå¯ä»¥ä»è‡ªå®šä¹‰èŒƒå›´ æ¥æ”¶é”€æ¯å›è°ƒâ€” ä¾‹å¦‚ï¼Œå¯¹äºåŒ…å«åœ¨å•ä¾‹ bean ä¸­çš„è¯·æ±‚èŒƒå›´å†…çš„ beanã€‚å†…éƒ¨ bean å®ä¾‹çš„åˆ›å»ºä¸å…¶åŒ…å«çš„ bean ç›¸å…³è”ï¼Œä½†é”€æ¯å›è°ƒè®©å®ƒå‚ä¸è¯·æ±‚èŒƒå›´çš„ç”Ÿå‘½å‘¨æœŸã€‚è¿™ä¸æ˜¯ä¸€ä¸ªå¸¸è§çš„åœºæ™¯ã€‚å†…éƒ¨ bean é€šå¸¸åªæ˜¯å…±äº«å®ƒä»¬åŒ…å«çš„ bean çš„ä½œç”¨åŸŸã€‚</p>
<h4 id="é›†åˆ"><a href="#é›†åˆ" class="headerlink" title="é›†åˆ"></a>é›†åˆ</h4><p><code>&lt;list/&gt;</code>ã€<code>&lt;set/&gt;</code>ã€<code>&lt;map/&gt;</code> å’Œ <code>&lt;props/&gt;</code> å…ƒç´ åˆ†åˆ«è®¾ç½® Java é›†åˆç±»å‹ <code>List</code>ã€<code>Set</code>ã€<code>Map </code>å’Œ <code>Properties </code>çš„å±æ€§å’Œå‚æ•°ã€‚ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºäº†å¦‚ä½•ä½¿ç”¨å®ƒä»¬ï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;moreComplexObject&quot;</span> <span class="attr">class</span>=<span class="string">&quot;example.ComplexObject&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- results in a setAdminEmails(java.util.Properties) call --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;adminEmails&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">props</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">prop</span> <span class="attr">key</span>=<span class="string">&quot;administrator&quot;</span>&gt;</span>administrator@example.org<span class="tag">&lt;/<span class="name">prop</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">prop</span> <span class="attr">key</span>=<span class="string">&quot;support&quot;</span>&gt;</span>support@example.org<span class="tag">&lt;/<span class="name">prop</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">prop</span> <span class="attr">key</span>=<span class="string">&quot;development&quot;</span>&gt;</span>development@example.org<span class="tag">&lt;/<span class="name">prop</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">props</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- results in a setSomeList(java.util.List) call --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;someList&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">list</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>a list element followed by a reference<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ref</span> <span class="attr">bean</span>=<span class="string">&quot;myDataSource&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">list</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- results in a setSomeMap(java.util.Map) call --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;someMap&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">map</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span>=<span class="string">&quot;an entry&quot;</span> <span class="attr">value</span>=<span class="string">&quot;just some string&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span> =<span class="string">&quot;a ref&quot;</span> <span class="attr">value-ref</span>=<span class="string">&quot;myDataSource&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">map</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- results in a setSomeSet(java.util.Set) call --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;someSet&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">set</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>just some string<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ref</span> <span class="attr">bean</span>=<span class="string">&quot;myDataSource&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">set</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>æ˜ å°„é”®æˆ–å€¼æˆ–setçš„å€¼ä¹Ÿå¯ä»¥æ˜¯ä»¥ä¸‹ä»»ä½•å…ƒç´ ï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bean | ref | idref | list | set | map | props | value | null</span><br></pre></td></tr></table></figure>

<h5 id="é›†åˆçš„åˆå¹¶"><a href="#é›†åˆçš„åˆå¹¶" class="headerlink" title="é›†åˆçš„åˆå¹¶"></a>é›†åˆçš„åˆå¹¶</h5><p>Spring å®¹å™¨è¿˜æ”¯æŒåˆå¹¶é›†åˆã€‚å¼€å‘äººå‘˜å¯ä»¥å®šä¹‰çˆ¶ <code>&lt;list/&gt;</code>ã€<code>&lt;map/&gt;</code>ã€<code>&lt;set/&gt;</code> æˆ–<code> &lt;props/&gt;</code> å…ƒç´ å¹¶æ‹¥æœ‰å­<code> &lt;list/&gt;</code>ã€<code>&lt;map/&gt;</code>ã€<code>&lt;set/&gt;</code> æˆ–<code> &lt;props/&gt;</code> å…ƒç´ ä»çˆ¶é›†åˆç»§æ‰¿å’Œè¦†ç›–å€¼ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå­é›†åˆçš„å€¼æ˜¯åˆå¹¶çˆ¶é›†åˆå’Œå­é›†åˆçš„å…ƒç´ çš„ç»“æœï¼Œå­é›†åˆå…ƒç´ è¦†ç›–çˆ¶é›†åˆä¸­æŒ‡å®šçš„å€¼ã€‚<br>å…³äºåˆå¹¶çš„è¿™ä¸€èŠ‚è®¨è®ºäº†çˆ¶å­ bean æœºåˆ¶ã€‚ä¸ç†Ÿæ‚‰çˆ¶å’Œå­ bean å®šä¹‰çš„è¯»è€…å¯èƒ½å¸Œæœ›åœ¨ç»§ç»­ä¹‹å‰é˜…è¯»ç›¸å…³éƒ¨åˆ†ã€‚<br>ä»¥ä¸‹ç¤ºä¾‹æ¼”ç¤ºäº†é›†åˆåˆå¹¶ï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">beans</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;parent&quot;</span> <span class="attr">abstract</span>=<span class="string">&quot;true&quot;</span> <span class="attr">class</span>=<span class="string">&quot;example.ComplexObject&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;adminEmails&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">props</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">prop</span> <span class="attr">key</span>=<span class="string">&quot;administrator&quot;</span>&gt;</span>administrator@example.com<span class="tag">&lt;/<span class="name">prop</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">prop</span> <span class="attr">key</span>=<span class="string">&quot;support&quot;</span>&gt;</span>support@example.com<span class="tag">&lt;/<span class="name">prop</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">props</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;child&quot;</span> <span class="attr">parent</span>=<span class="string">&quot;parent&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;adminEmails&quot;</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- the merge is specified on the child collection definition --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">props</span> <span class="attr">merge</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">prop</span> <span class="attr">key</span>=<span class="string">&quot;sales&quot;</span>&gt;</span>sales@example.com<span class="tag">&lt;/<span class="name">prop</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">prop</span> <span class="attr">key</span>=<span class="string">&quot;support&quot;</span>&gt;</span>support@example.co.uk<span class="tag">&lt;/<span class="name">prop</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">props</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>è¯·æ³¨æ„åœ¨å­ bean å®šä¹‰çš„ <code>adminEmails </code>å±æ€§çš„ <code>&lt;props/&gt;</code> å…ƒç´ ä¸Šä½¿ç”¨äº† <code>merge=true </code>å±æ€§ã€‚å½“å®¹å™¨è§£æå¹¶å®ä¾‹åŒ–å­ <code>bean </code>æ—¶ï¼Œç”Ÿæˆçš„å®ä¾‹å…·æœ‰ä¸€ä¸ª <code>adminEmails Properties</code> é›†åˆï¼Œè¯¥é›†åˆåŒ…å«å°†å­ bean çš„ <code>adminEmails </code>é›†åˆä¸çˆ¶çº§çš„ <code>adminEmails </code>é›†åˆåˆå¹¶çš„ç»“æœã€‚ä»¥ä¸‹æ¸…å•æ˜¾ç¤ºäº†ç»“æœï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">administrator=administrator@example.com</span><br><span class="line">sales=sales@example.com</span><br><span class="line">support=support@example.co.uk</span><br></pre></td></tr></table></figure>

<p>å­ Properties é›†åˆçš„å€¼é›†ç»§æ‰¿äº†çˆ¶ <props> çš„æ‰€æœ‰å±æ€§å…ƒç´ ï¼Œæ”¯æŒå€¼çš„å­å€¼è¦†ç›–äº†çˆ¶é›†åˆä¸­çš„å€¼ã€‚<br>è¿™ç§åˆå¹¶è¡Œä¸ºåŒæ ·é€‚ç”¨äº<code> &lt;list/&gt;</code>ã€<code>&lt;map/&gt;</code> å’Œ<code> &lt;set/&gt;</code> é›†åˆç±»å‹ã€‚åœ¨ <code>&lt;list/&gt;</code> å…ƒç´ çš„ç‰¹å®šæƒ…å†µä¸‹ï¼Œä¸ List é›†åˆç±»å‹ï¼ˆå³å€¼çš„æœ‰åºé›†åˆçš„æ¦‚å¿µï¼‰ç›¸å…³è”çš„è¯­ä¹‰å¾—åˆ°ç»´æŠ¤ã€‚çˆ¶åˆ—è¡¨çš„å€¼å…ˆäºæ‰€æœ‰å­åˆ—è¡¨çš„å€¼ã€‚å¯¹äº Mapã€Set å’Œ Properties é›†åˆç±»å‹ï¼Œä¸å­˜åœ¨æ’åºã€‚å› æ­¤ï¼Œå¯¹äºä½œä¸ºå®¹å™¨å†…éƒ¨ä½¿ç”¨çš„å…³è” Mapã€Set å’Œ Properties å®ç°ç±»å‹åŸºç¡€çš„é›†åˆç±»å‹ï¼Œæ²¡æœ‰ä»»ä½•æ’åºè¯­ä¹‰æœ‰æ•ˆã€‚</props></p>
<h5 id="é›†åˆåˆå¹¶çš„é™åˆ¶"><a href="#é›†åˆåˆå¹¶çš„é™åˆ¶" class="headerlink" title="é›†åˆåˆå¹¶çš„é™åˆ¶"></a>é›†åˆåˆå¹¶çš„é™åˆ¶</h5><p>ä¸èƒ½åˆå¹¶ä¸åŒçš„é›†åˆç±»å‹ï¼ˆä¾‹å¦‚ Map å’Œ Listï¼‰ã€‚å¦‚æœæ‚¨ç¡®å®å°è¯•è¿™æ ·åšï¼Œåˆ™ä¼šæŠ›å‡ºé€‚å½“çš„å¼‚å¸¸ã€‚</p>
<p>å¿…é¡»åœ¨è¾ƒä½çš„ç»§æ‰¿å­å®šä¹‰ä¸ŠæŒ‡å®šåˆå¹¶å±æ€§ã€‚åœ¨çˆ¶é›†åˆå®šä¹‰ä¸ŠæŒ‡å®šåˆå¹¶å±æ€§æ˜¯å¤šä½™çš„ï¼Œä¸ä¼šå¯¼è‡´æ‰€éœ€çš„åˆå¹¶ã€‚</p>
<h5 id="å¼ºç±»å‹é›†åˆ"><a href="#å¼ºç±»å‹é›†åˆ" class="headerlink" title="å¼ºç±»å‹é›†åˆ"></a>å¼ºç±»å‹é›†åˆ</h5><p>éšç€ Java 5 ä¸­æ³›å‹çš„å¼•å…¥ï¼Œå¯ä»¥ä½¿ç”¨å¼ºç±»å‹é›†åˆã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯ä»¥å£°æ˜ä¸€ä¸ª <code>Collection </code>ç±»å‹ï¼Œä½¿å…¶åªèƒ½åŒ…å«ï¼ˆä¾‹å¦‚ï¼‰String å…ƒç´ ã€‚å¦‚æœä½ ä½¿ç”¨<code>Spring</code>å°†å¼ºç±»å‹çš„<code>Collection</code>ä¾èµ–æ€§æ³¨å…¥åˆ°<code>Bean</code>ä¸­ï¼Œä½ å¯ä»¥åˆ©ç”¨<code>Spring</code>çš„ç±»å‹è½¬æ¢æ”¯æŒï¼Œè¿™æ ·ä½ çš„å¼ºç±»å‹<code>Collection</code>å®ä¾‹çš„å…ƒç´ åœ¨è¢«æ·»åŠ åˆ°Collectionä¸­ä¹‹å‰å°±è¢«è½¬æ¢ä¸ºé€‚å½“çš„ç±»å‹ã€‚ä»¥ä¸‹ Java ç±»å’Œ bean å®šä¹‰æ˜¾ç¤ºäº†å¦‚ä½•æ‰§è¡Œæ­¤æ“ä½œï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SomeClass</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Map&lt;String, Float&gt; accounts;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAccounts</span><span class="params">(Map&lt;String, Float&gt; accounts)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.accounts = accounts;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">beans</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;something&quot;</span> <span class="attr">class</span>=<span class="string">&quot;x.y.SomeClass&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;accounts&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">map</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span>=<span class="string">&quot;one&quot;</span> <span class="attr">value</span>=<span class="string">&quot;9.99&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span>=<span class="string">&quot;two&quot;</span> <span class="attr">value</span>=<span class="string">&quot;2.75&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span>=<span class="string">&quot;six&quot;</span> <span class="attr">value</span>=<span class="string">&quot;3.99&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">map</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>å½“something bean çš„accounts å±æ€§å‡†å¤‡æ³¨å…¥æ—¶ï¼Œå…³äºå¼ºç±»å‹Map&lt;String, Float&gt; å…ƒç´ ç±»å‹çš„æ³›å‹ä¿¡æ¯å¯é€šè¿‡åå°„è·å¾—ã€‚å› æ­¤ï¼ŒSpring çš„ç±»å‹è½¬æ¢åŸºç¡€ç»“æ„å°†å„ç§å€¼å…ƒç´ è¯†åˆ«ä¸º Float ç±»å‹ï¼Œå¹¶å°†å­—ç¬¦ä¸²å€¼ï¼ˆ9.99ã€2.75 å’Œ 3.99ï¼‰è½¬æ¢ä¸ºå®é™…çš„ Float ç±»å‹ã€‚</p>
<h4 id="Null-å’Œç©ºå­—ç¬¦ä¸²å€¼"><a href="#Null-å’Œç©ºå­—ç¬¦ä¸²å€¼" class="headerlink" title="Null å’Œç©ºå­—ç¬¦ä¸²å€¼"></a>Null å’Œç©ºå­—ç¬¦ä¸²å€¼</h4><p>Spring å°†å±æ€§ç­‰çš„ç©ºå‚æ•°è§†ä¸ºç©ºå­—ç¬¦ä¸²ã€‚ä»¥ä¸‹åŸºäº XML çš„é…ç½®å…ƒæ•°æ®ç‰‡æ®µå°†ç”µå­é‚®ä»¶å±æ€§è®¾ç½®ä¸ºç©ºå­—ç¬¦ä¸²å€¼ (â€œâ€)ã€‚</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;ExampleBean&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;email&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>å‰é¢çš„ç¤ºä¾‹ç­‰æ•ˆäºä»¥ä¸‹ Java ä»£ç ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">exampleBean.setEmail(<span class="string">&quot;&quot;</span>);</span><br></pre></td></tr></table></figure>

<p><null> å…ƒç´ å¤„ç†ç©ºå€¼ã€‚ä»¥ä¸‹æ¸…å•æ˜¾ç¤ºäº†ä¸€ä¸ªç¤ºä¾‹ï¼š</null></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;ExampleBean&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;email&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">null</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢çš„é…ç½®ç›¸å½“äºä¸‹é¢çš„Javaä»£ç ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">exampleBean.setEmail(<span class="keyword">null</span>);</span><br></pre></td></tr></table></figure>

<h4 id="p-å‘½åç©ºé—´"><a href="#p-å‘½åç©ºé—´" class="headerlink" title="p å‘½åç©ºé—´"></a>p å‘½åç©ºé—´</h4><p><code>p-namespace</code> å…è®¸ä½¿ç”¨ bean æ ‡ç­¾çš„å±æ€§ï¼ˆè€Œä¸æ˜¯åµŒå¥—çš„ <code>&lt;property/&gt;</code> æ ‡ç­¾ï¼‰æ¥æè¿°åä½œ bean çš„å±æ€§å€¼ï¼Œæˆ–ä¸¤è€…å…¼è€Œæœ‰ä¹‹ã€‚</p>
<p>p å‘½åç©ºé—´å¹¶æœªåœ¨ <code>XSD </code>æ–‡ä»¶ä¸­å®šä¹‰ï¼Œä»…å­˜åœ¨äº Spring çš„æ ¸å¿ƒä¸­ã€‚</p>
<p>ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºäº†ä¸¤ä¸ªè§£æä¸ºç›¸åŒç»“æœçš„ XML ç‰‡æ®µï¼ˆç¬¬ä¸€ä¸ªä½¿ç”¨æ ‡å‡† XML æ ¼å¼ï¼Œç¬¬äºŒä¸ªä½¿ç”¨ p å‘½åç©ºé—´ï¼‰ï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:p</span>=<span class="string">&quot;http://www.springframework.org/schema/p&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">        https://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">name</span>=<span class="string">&quot;classic&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.example.ExampleBean&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;email&quot;</span> <span class="attr">value</span>=<span class="string">&quot;someone@somewhere.com&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">name</span>=<span class="string">&quot;p-namespace&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.example.ExampleBean&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">p:email</span>=<span class="string">&quot;someone@somewhere.com&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ä¸‹ä¸€ä¸ªç¤ºä¾‹åŒ…æ‹¬å¦å¤–ä¸¤ä¸ª bean å®šä¹‰ï¼Œå®ƒä»¬éƒ½å¼•ç”¨äº†å¦ä¸€ä¸ª beanï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:p</span>=<span class="string">&quot;http://www.springframework.org/schema/p&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">        https://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">name</span>=<span class="string">&quot;john-classic&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.example.Person&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;John Doe&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;spouse&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;jane&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">name</span>=<span class="string">&quot;john-modern&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">class</span>=<span class="string">&quot;com.example.Person&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">p:name</span>=<span class="string">&quot;John Doe&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">p:spouse-ref</span>=<span class="string">&quot;jane&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">name</span>=<span class="string">&quot;jane&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.example.Person&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Jane Doe&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>æ­¤ç¤ºä¾‹ä¸ä»…åŒ…æ‹¬ä½¿ç”¨ p å‘½åç©ºé—´çš„å±æ€§å€¼ï¼Œè€Œä¸”è¿˜ä½¿ç”¨ç‰¹æ®Šæ ¼å¼æ¥å£°æ˜å±æ€§å¼•ç”¨ã€‚ç¬¬ä¸€ä¸ª bean å®šä¹‰ä½¿ç”¨<code> &lt;property name=&quot;spouse&quot; ref=&quot;jane&quot;/&gt;</code> åˆ›å»ºä» bean <code>john </code>åˆ° bean <code>jane </code>çš„å¼•ç”¨ï¼Œè€Œç¬¬äºŒä¸ª bean å®šä¹‰ä½¿ç”¨ <code>p:spouse-ref=&quot;jane&quot; </code>ä½œä¸ºå±æ€§æ¥åšå®Œå…¨ä¸€æ ·çš„ä¸œè¥¿ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œé…å¶æ˜¯å±æ€§åç§°ï¼Œè€Œ -ref éƒ¨åˆ†è¡¨ç¤ºè¿™ä¸æ˜¯ä¸€ä¸ªç›´æ¥å€¼ï¼Œè€Œæ˜¯å¯¹å¦ä¸€ä¸ª bean çš„å¼•ç”¨ã€‚</p>
<p>p å‘½åç©ºé—´ä¸å¦‚æ ‡å‡† XML æ ¼å¼çµæ´»ã€‚ä¾‹å¦‚ï¼Œå£°æ˜å±æ€§å¼•ç”¨çš„æ ¼å¼ä¸ä»¥ Ref ç»“å°¾çš„å±æ€§å†²çªï¼Œè€Œæ ‡å‡† XML æ ¼å¼åˆ™ä¸ç„¶ã€‚æˆ‘ä»¬å»ºè®®æ‚¨è°¨æ…é€‰æ‹©æ‚¨çš„æ–¹æ³•å¹¶å°†å…¶ä¼ è¾¾ç»™æ‚¨çš„å›¢é˜Ÿæˆå‘˜ï¼Œä»¥é¿å…åŒæ—¶ä½¿ç”¨æ‰€æœ‰ä¸‰ç§æ–¹æ³•ç”Ÿæˆ XML æ–‡æ¡£ã€‚</p>
<h4 id="c-å‘½åç©ºé—´"><a href="#c-å‘½åç©ºé—´" class="headerlink" title="c å‘½åç©ºé—´"></a>c å‘½åç©ºé—´</h4><p>Spring 3.1 ä¸­å¼•å…¥çš„ <code>c-namespace</code> å…è®¸å†…è”å±æ€§æ¥é…ç½®æ„é€ æ–¹æ³•å‚æ•°ï¼Œè€Œä¸æ˜¯åµŒå¥—çš„ <code>constructor-arg </code>å…ƒç´ ã€‚</p>
<p>ä¸‹é¢çš„ä¾‹å­ä½¿ç”¨ c: å‘½åç©ºé—´æ¥åšä¸ from Constructor-based Dependency Injection ç›¸åŒçš„äº‹æƒ…ï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:c</span>=<span class="string">&quot;http://www.springframework.org/schema/c&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">        https://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;beanTwo&quot;</span> <span class="attr">class</span>=<span class="string">&quot;x.y.ThingTwo&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;beanThree&quot;</span> <span class="attr">class</span>=<span class="string">&quot;x.y.ThingThree&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- traditional declaration with optional argument names --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;beanOne&quot;</span> <span class="attr">class</span>=<span class="string">&quot;x.y.ThingOne&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">&quot;thingTwo&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;beanTwo&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">&quot;thingThree&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;beanThree&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">&quot;email&quot;</span> <span class="attr">value</span>=<span class="string">&quot;something@somewhere.com&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- c-namespace declaration with argument names --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;beanOne&quot;</span> <span class="attr">class</span>=<span class="string">&quot;x.y.ThingOne&quot;</span> <span class="attr">c:thingTwo-ref</span>=<span class="string">&quot;beanTwo&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">c:thingThree-ref</span>=<span class="string">&quot;beanThree&quot;</span> <span class="attr">c:email</span>=<span class="string">&quot;something@somewhere.com&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>c: å‘½åç©ºé—´ä½¿ç”¨ä¸ p: oneï¼ˆç”¨äº bean å¼•ç”¨çš„å°¾éš -refï¼‰ç›¸åŒçš„çº¦å®šï¼Œç”¨äºé€šè¿‡åç§°è®¾ç½®æ„é€ æ–¹æ³•å‚æ•°ã€‚åŒæ ·ï¼Œå®ƒéœ€è¦åœ¨ XML æ–‡ä»¶ä¸­å£°æ˜ï¼Œå³ä½¿å®ƒæ²¡æœ‰åœ¨ XSD æ¨¡å¼ä¸­å®šä¹‰ï¼ˆå®ƒå­˜åœ¨äº Spring æ ¸å¿ƒä¸­ï¼‰ã€‚<br>å¯¹äºæ„é€ æ–¹æ³•å‚æ•°åç§°ä¸å¯ç”¨çš„æå°‘æ•°æƒ…å†µï¼ˆé€šå¸¸å¦‚æœå­—èŠ‚ç æ˜¯åœ¨æ²¡æœ‰è°ƒè¯•ä¿¡æ¯çš„æƒ…å†µä¸‹ç¼–è¯‘çš„ï¼‰ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨å‚æ•°ç´¢å¼•çš„å›é€€ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- c-namespace index declaration --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;beanOne&quot;</span> <span class="attr">class</span>=<span class="string">&quot;x.y.ThingOne&quot;</span> <span class="attr">c:_0-ref</span>=<span class="string">&quot;beanTwo&quot;</span> <span class="attr">c:_1-ref</span>=<span class="string">&quot;beanThree&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">c:_2</span>=<span class="string">&quot;something@somewhere.com&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<p>ç”±äº XML è¯­æ³•çš„åŸå› ï¼Œç´¢å¼•ç¬¦å·éœ€è¦å­˜åœ¨å‰å¯¼ <code>_</code>ï¼Œå› ä¸º XML å±æ€§åç§°ä¸èƒ½ä»¥æ•°å­—å¼€å¤´ï¼ˆå³ä½¿æŸäº› <code>IDE </code>å…è®¸ï¼‰ã€‚ç›¸åº”çš„ç´¢å¼•ç¬¦å·ä¹Ÿå¯ç”¨äº<code>&lt;constructor-arg&gt;</code>å…ƒç´ ï¼Œä½†ä¸å¸¸ç”¨ï¼Œå› ä¸ºå£°æ˜çš„ç®€å•é¡ºåºé€šå¸¸å°±è¶³å¤Ÿäº†ã€‚</p>
<p>å®é™…ä¸Šï¼Œæ„é€ æ–¹æ³•è§£ææœºåˆ¶åœ¨åŒ¹é…å‚æ•°æ–¹é¢éå¸¸æœ‰æ•ˆï¼Œå› æ­¤é™¤éæ‚¨ç¡®å®éœ€è¦ï¼Œå¦åˆ™æˆ‘ä»¬å»ºè®®åœ¨æ•´ä¸ªé…ç½®ä¸­ä½¿ç”¨åç§°è¡¨ç¤ºæ³•ã€‚</p>
<h4 id="å¤åˆå±æ€§åç§°"><a href="#å¤åˆå±æ€§åç§°" class="headerlink" title="å¤åˆå±æ€§åç§°"></a>å¤åˆå±æ€§åç§°</h4><p>æ‚¨å¯ä»¥åœ¨è®¾ç½® bean å±æ€§æ—¶ä½¿ç”¨å¤åˆæˆ–åµŒå¥—å±æ€§åç§°ï¼Œåªè¦è·¯å¾„ä¸­é™¤æœ€ç»ˆå±æ€§åç§°ä¹‹å¤–çš„æ‰€æœ‰ç»„ä»¶éƒ½ä¸ä¸ºç©ºå³å¯ã€‚è€ƒè™‘ä»¥ä¸‹ bean å®šä¹‰ï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;something&quot;</span> <span class="attr">class</span>=<span class="string">&quot;things.ThingOne&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;fred.bob.sammy&quot;</span> <span class="attr">value</span>=<span class="string">&quot;123&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>something bean æœ‰ä¸€ä¸ª fred å±æ€§ï¼Œå®ƒæœ‰ä¸€ä¸ª bob å±æ€§ï¼Œå®ƒæœ‰ä¸€ä¸ª sammy å±æ€§ï¼Œå¹¶ä¸”æœ€ç»ˆçš„ sammy å±æ€§è¢«è®¾ç½®ä¸º 123ã€‚ä¸ºäº†ä½¿å…¶å·¥ä½œï¼Œsomething çš„ fred å±æ€§å’Œ bob å±æ€§æ„é€ bean åï¼Œfred ä¸èƒ½ä¸ºç©ºã€‚å¦åˆ™ï¼ŒæŠ›å‡º NullPointerExceptionã€‚</p>
<h2 id="ä½¿ç”¨-depen-on"><a href="#ä½¿ç”¨-depen-on" class="headerlink" title="ä½¿ç”¨ depen-on"></a>ä½¿ç”¨ <code>depen-on</code></h2><p><code>depends-on</code> å‚æ•°å¯ä»¥æ˜¾å¼åœ°å¼ºåˆ¶åˆå§‹åŒ–ä¸€ä¸ªæˆ–å¤šä¸ª beanã€‚</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;beanOne&quot;</span> <span class="attr">class</span>=<span class="string">&quot;ExampleBean&quot;</span> <span class="attr">depends-on</span>=<span class="string">&quot;manager&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;manager&quot;</span> <span class="attr">class</span>=<span class="string">&quot;ManagerBean&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<p>è¦è¡¨è¾¾å¯¹å¤šä¸ª bean çš„ä¾èµ–ï¼Œéœ€è¦æä¾› bean åç§°åˆ—è¡¨ä½œä¸ºå‚æ•°çš„å€¼ï¼ˆé€—å·ã€ç©ºæ ¼å’Œåˆ†å·ï¼‰ï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;beanOne&quot;</span> <span class="attr">class</span>=<span class="string">&quot;ExampleBean&quot;</span> <span class="attr">depends-on</span>=<span class="string">&quot;manager,accountDao&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;manager&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;manager&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;manager&quot;</span> <span class="attr">class</span>=<span class="string">&quot;ManagerBean&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;accountDao&quot;</span> <span class="attr">class</span>=<span class="string">&quot;x.y.jdbc.JdbcAccountDao&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="å»¶è¿Ÿåˆå§‹åŒ–çš„-Bean"><a href="#å»¶è¿Ÿåˆå§‹åŒ–çš„-Bean" class="headerlink" title="å»¶è¿Ÿåˆå§‹åŒ–çš„ Bean"></a>å»¶è¿Ÿåˆå§‹åŒ–çš„ Bean</h2><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œ<code>ApplicationContext </code>å®ç°ä¼šåœ¨åˆå§‹åŒ–è¿‡ç¨‹ä¸­åˆ›å»ºå’Œé…ç½®æ‰€æœ‰å•ä¾‹ beanã€‚ä¸€èˆ¬æ¥è¯´ï¼Œè¿™ç§é¢„å®ä¾‹åŒ–æ˜¯å¯å–çš„ï¼Œå› ä¸ºé…ç½®æˆ–å‘¨å›´ç¯å¢ƒä¸­çš„é”™è¯¯ä¼šç«‹å³è¢«å‘ç°ï¼Œè€Œä¸æ˜¯å‡ å°æ—¶ç”šè‡³å‡ å¤©ä¹‹åã€‚å½“è¿™ç§è¡Œä¸ºä¸å¯å–æ—¶ï¼Œä½ å¯ä»¥é€šè¿‡å°†Beanå®šä¹‰æ ‡è®°ä¸º<code>lazy-init</code>æ¥é˜²æ­¢å•å­Beançš„é¢„å®ä¾‹åŒ–ã€‚</p>
<p><strong><code>lazy-initialized bean</code>å‘Šè¯‰IoCå®¹å™¨åœ¨ç¬¬ä¸€æ¬¡è¢«è¯·æ±‚æ—¶åˆ›å»ºä¸€ä¸ªbeanå®ä¾‹ï¼Œè€Œä¸æ˜¯åœ¨å¯åŠ¨æ—¶ã€‚</strong></p>
<p>åœ¨ XML ä¸­ï¼Œæ­¤è¡Œä¸ºç”± <code>&lt;bean/&gt; </code>å…ƒç´ ä¸Šçš„ <code>lazy-init </code>å±æ€§æ§åˆ¶ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;lazy&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.something.ExpensiveToCreateBean&quot;</span> <span class="attr">lazy-init</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">name</span>=<span class="string">&quot;not.lazy&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.something.AnotherBean&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<p>å½“ <code>ApplicationContext </code>å¯åŠ¨æ—¶ï¼Œlazy-initialized beanä¸ä¼šè¢«é¢„å…ˆå®ä¾‹åŒ–ï¼Œè€Œ not.lazy bean ä¼šè¢«é¢„å…ˆå®ä¾‹åŒ–ã€‚</p>
<p>ä½†æ˜¯ï¼Œå½“ lazy-initialized bean æ˜¯æœªå»¶è¿Ÿåˆå§‹åŒ–çš„å•ä¾‹ bean çš„ä¾èµ–é¡¹æ—¶ï¼Œ<code>ApplicationContext </code>åœ¨å¯åŠ¨æ—¶åˆ›å»ºå»¶è¿Ÿåˆå§‹åŒ–çš„ beanï¼Œå› ä¸ºå®ƒå¿…é¡»æ»¡è¶³å•ä¾‹çš„ä¾èµ–é¡¹ã€‚</p>
<p>å¯ä»¥é€šè¿‡ä½¿ç”¨ <code>&lt;beans/&gt;</code> å…ƒç´ ä¸Šçš„ <code>default-lazy-init </code>å±æ€§åœ¨å®¹å™¨çº§åˆ«æ§åˆ¶å»¶è¿Ÿåˆå§‹åŒ–ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">default-lazy-init</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- no beans will be pre-instantiated... --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="è‡ªåŠ¨è£…é…"><a href="#è‡ªåŠ¨è£…é…" class="headerlink" title="è‡ªåŠ¨è£…é…"></a>è‡ªåŠ¨è£…é…</h2><p>Spring å®¹å™¨å¯ä»¥è‡ªåŠ¨è£…é…åä½œ bean ã€‚é€šè¿‡æ£€æŸ¥ <code>ApplicationContext</code> çš„å†…å®¹ï¼Œå¯ä»¥è®© Spring è‡ªåŠ¨ä¸º bean è§£æåä½œè€…ï¼ˆå…¶ä»– beanï¼‰ã€‚è‡ªåŠ¨è£…é…å…·æœ‰ä»¥ä¸‹ä¼˜ç‚¹ï¼š</p>
<ul>
<li>è‡ªåŠ¨è£…é…å¯ä»¥æ˜¾ç€å‡å°‘æŒ‡å®šå±æ€§æˆ–æ„é€ æ–¹æ³•å‚æ•°çš„éœ€è¦ã€‚</li>
<li>è‡ªåŠ¨è£…é…å¯ä»¥éšç€å¯¹è±¡çš„å‘å±•æ›´æ–°é…ç½®ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨éœ€è¦å‘ç±»æ·»åŠ ä¾èµ–é¡¹ï¼Œåˆ™æ— éœ€ä¿®æ”¹é…ç½®å³å¯è‡ªåŠ¨æ»¡è¶³è¯¥ä¾èµ–é¡¹ã€‚å› æ­¤ï¼Œè‡ªåŠ¨è£…é…åœ¨å¼€å‘è¿‡ç¨‹ä¸­ç‰¹åˆ«æœ‰ç”¨ï¼Œå½“ä»£ç åº“å˜å¾—æ›´ç¨³å®šæ—¶ï¼Œä¸ä¼šå¦å®šåˆ‡æ¢åˆ°æ˜¾å¼è£…é…çš„é€‰é¡¹ã€‚</li>
</ul>
<p>å¯ä»¥ä½¿ç”¨<code> &lt;bean/&gt;</code> å…ƒç´ çš„ <code>autowire</code> å±æ€§ä¸º bean å®šä¹‰æŒ‡å®šè‡ªåŠ¨è£…é…æ¨¡å¼ã€‚è‡ªåŠ¨è£…é…åŠŸèƒ½æœ‰å››ç§æ¨¡å¼ï¼Œå¯ä»¥ä¸ºæ¯ä¸ª bean æŒ‡å®šè‡ªåŠ¨è£…é…ã€‚ä¸‹è¡¨æè¿°äº†å››ç§è‡ªåŠ¨è£…é…æ¨¡å¼ï¼š</p>
<table>
<thead>
<tr>
<th align="left">Mode</th>
<th align="left">Explanation</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>no</code></td>
<td align="left">(Default) No autowiring. Bean references must be defined by <code>ref</code> elements. Changing the default setting is not recommended for larger deployments, because specifying collaborators explicitly gives greater control and clarity. To some extent, it documents the structure of a system.</td>
</tr>
<tr>
<td align="left"><code>byName</code></td>
<td align="left">Autowiring by property name. Spring looks for a bean with the same name as the property that needs to be autowired. For example, if a bean definition is set to autowire by name and it contains a <code>master</code> property (that is, it has a <code>setMaster(..)</code> method), Spring looks for a bean definition named <code>master</code> and uses it to set the property.</td>
</tr>
<tr>
<td align="left"><code>byType</code></td>
<td align="left">Lets a property be autowired if exactly one bean of the property type exists in the container. If more than one exists, a fatal exception is thrown, which indicates that you may not use <code>byType</code> autowiring for that bean. If there are no matching beans, nothing happens (the property is not set).</td>
</tr>
<tr>
<td align="left"><code>constructor</code></td>
<td align="left">Analogous to <code>byType</code> but applies to constructor arguments. If there is not exactly one bean of the constructor argument type in the container, a fatal error is raised.</td>
</tr>
</tbody></table>
<h3 id="è‡ªåŠ¨è£…é…çš„å±€é™æ€§å’Œç¼ºç‚¹"><a href="#è‡ªåŠ¨è£…é…çš„å±€é™æ€§å’Œç¼ºç‚¹" class="headerlink" title="è‡ªåŠ¨è£…é…çš„å±€é™æ€§å’Œç¼ºç‚¹"></a>è‡ªåŠ¨è£…é…çš„å±€é™æ€§å’Œç¼ºç‚¹</h3><p>è‡ªåŠ¨è£…é…åœ¨æ•´ä¸ªé¡¹ç›®ä¸­ä¸€è‡´ä½¿ç”¨æ—¶æ•ˆæœæœ€ä½³ã€‚å¦‚æœé€šå¸¸ä¸ä½¿ç”¨è‡ªåŠ¨è£…é…ï¼Œå¼€å‘äººå‘˜ä½¿ç”¨å®ƒæ¥è¿æ¥ä¸€ä¸¤ä¸ª bean å®šä¹‰ï¼Œè¿™å¯èƒ½ä¼šè®©äººæ„Ÿåˆ°å›°æƒ‘ã€‚</p>
<p>è€ƒè™‘è‡ªåŠ¨è£…é…çš„å±€é™æ€§å’Œç¼ºç‚¹ï¼š</p>
<ul>
<li>å±æ€§å’Œæ„é€ æ–¹æ³•å‚æ•°è®¾ç½®ä¸­çš„æ˜¾å¼ä¾èµ–é¡¹å§‹ç»ˆè¦†ç›–è‡ªåŠ¨è£…é…ã€‚ä¸èƒ½è‡ªåŠ¨è£…é…ç®€å•çš„å±æ€§ï¼Œä¾‹å¦‚åŸºå…ƒã€å­—ç¬¦ä¸²å’Œç±»ï¼ˆä»¥åŠæ­¤ç±»ç®€å•å±æ€§çš„æ•°ç»„ï¼‰ã€‚æ­¤é™åˆ¶æ˜¯æœ‰æ„è®¾è®¡çš„ã€‚</li>
<li>è‡ªåŠ¨è£…é…ä¸å¦‚æ˜¾å¼è£…é…ç²¾ç¡®ã€‚</li>
<li>å¯èƒ½æ— æ³•ä» Spring å®¹å™¨ç”Ÿæˆæ–‡æ¡£çš„å·¥å…·ä¸­ä½¿ç”¨è£…é…ä¿¡æ¯ã€‚</li>
<li>å®¹å™¨å†…çš„å¤šä¸ª bean å®šä¹‰å¯èƒ½ä¸è¦è‡ªåŠ¨è£…é…çš„ setter æ–¹æ³•æˆ–æ„é€ æ–¹æ³•å‚æ•°æŒ‡å®šçš„ç±»å‹ç›¸åŒ¹é…ã€‚å¦‚æœæ²¡æœ‰å”¯ä¸€çš„ bean å®šä¹‰å¯ç”¨ï¼Œåˆ™æŠ›å‡ºå¼‚å¸¸ã€‚</li>
</ul>
<p>åœ¨æœ€åä¸€ç§æƒ…å†µä¸‹ï¼Œæœ‰å¤šç§é€‰æ‹©ï¼š</p>
<ul>
<li>æ”¾å¼ƒè‡ªåŠ¨è£…é…ä»¥æ”¯æŒæ˜¾å¼è£…é…ã€‚</li>
<li>é€šè¿‡å°† bean å®šä¹‰çš„ <code>autowire-candidate</code> å±æ€§è®¾ç½®ä¸º <code>false </code>æ¥é¿å…è‡ªåŠ¨è£…é… bean å®šä¹‰ã€‚</li>
<li>é€šè¿‡å°†å…¶<code> &lt;bean/&gt;</code> å…ƒç´ çš„ä¸»è¦å±æ€§è®¾ç½®ä¸º <code>true</code>ï¼Œå°†å•ä¸ª bean å®šä¹‰æŒ‡å®šä¸ºä¸»è¦å€™é€‰è€…ã€‚</li>
<li>ä½¿ç”¨åŸºäºæ³¨è§£çš„é…ç½®å®ç°æ›´ç»†ç²’åº¦çš„æ§åˆ¶ã€‚</li>
</ul>
<h3 id="ä»è‡ªåŠ¨è£…é…ä¸­æ’é™¤-Bean"><a href="#ä»è‡ªåŠ¨è£…é…ä¸­æ’é™¤-Bean" class="headerlink" title="ä»è‡ªåŠ¨è£…é…ä¸­æ’é™¤ Bean"></a>ä»è‡ªåŠ¨è£…é…ä¸­æ’é™¤ Bean</h3><p>åœ¨æ¯ä¸ª bean çš„åŸºç¡€ä¸Šï¼Œå¯ä»¥ä»è‡ªåŠ¨è£…é…ä¸­æ’é™¤ä¸€ä¸ª beanã€‚åœ¨ Spring çš„ XML æ ¼å¼ä¸­ï¼Œå°† <code>&lt;bean/&gt;</code> å…ƒç´ çš„ <code>autowire-candidate</code> å±æ€§è®¾ç½®ä¸º <code>false</code>ã€‚å®¹å™¨ä½¿è¯¥ç‰¹å®š bean å®šä¹‰å¯¹è‡ªåŠ¨è£…é…ä¸å¯ç”¨ï¼ˆåŒ…æ‹¬æ³¨è§£é…ç½®ï¼Œä¾‹å¦‚ @Autowiredï¼‰ã€‚</p>
<p><code>autowire-candidate</code> å±æ€§æ—¨åœ¨ä»…å½±å“åŸºäºç±»å‹çš„è‡ªåŠ¨è£…é…ã€‚å®ƒä¸ä¼šå½±å“æŒ‰åç§°çš„æ˜¾å¼å¼•ç”¨ï¼Œå³ä½¿æŒ‡å®šçš„ bean æœªæ ‡è®°ä¸ºè‡ªåŠ¨è£…é…å€™é€‰è€…ï¼Œä¹Ÿä¼šè§£æã€‚å› æ­¤ï¼Œå¦‚æœåç§°åŒ¹é…ï¼ŒæŒ‰åç§°è‡ªåŠ¨è£…é…ä»ç„¶ä¼šæ³¨å…¥ä¸€ä¸ª beanã€‚</p>
<p>è¿˜å¯ä»¥æ ¹æ®å¯¹ bean åç§°çš„æ¨¡å¼åŒ¹é…æ¥é™åˆ¶è‡ªåŠ¨è£…é…å€™é€‰è€…ã€‚é¡¶çº§<code> &lt;beans/&gt;</code> å…ƒç´ åœ¨å…¶ <code>default-autowire-candidates</code> å±æ€§ä¸­æ¥å—ä¸€ä¸ªæˆ–å¤šä¸ªæ¨¡å¼ã€‚ä¾‹å¦‚ï¼Œè¦å°†è‡ªåŠ¨è£…é…å€™é€‰çŠ¶æ€é™åˆ¶ä¸ºåç§°ä»¥ <code>Repository </code>ç»“å°¾çš„ä»»ä½• beanï¼Œè¯·æä¾›å€¼ <code>*Repository</code>ã€‚è¦æä¾›å¤šä¸ªæ¨¡å¼ï¼Œè¯·åœ¨é€—å·åˆ†éš”çš„åˆ—è¡¨ä¸­å®šä¹‰å®ƒä»¬ã€‚ bean å®šä¹‰çš„ <code>autowire-candidate</code> å±æ€§çš„æ˜¾å¼ <code>true</code> æˆ– <code>false</code> å€¼å§‹ç»ˆä¼˜å…ˆã€‚å¯¹äºæ­¤ç±» beanï¼Œæ¨¡å¼åŒ¹é…è§„åˆ™ä¸é€‚ç”¨ã€‚</p>
<h2 id="æ–¹æ³•æ³¨å…¥"><a href="#æ–¹æ³•æ³¨å…¥" class="headerlink" title="æ–¹æ³•æ³¨å…¥"></a>æ–¹æ³•æ³¨å…¥</h2><p>åœ¨å¤§å¤šæ•°åº”ç”¨åœºæ™¯ä¸­ï¼Œå®¹å™¨ä¸­çš„å¤§å¤šæ•°beanéƒ½æ˜¯å•ä¾‹çš„ã€‚å½“å•ä¾‹ bean éœ€è¦ä¸å¦ä¸€ä¸ªå•ä¾‹ bean åä½œæˆ–éå•ä¾‹ bean éœ€è¦ä¸å¦ä¸€ä¸ªéå•ä¾‹ bean åä½œæ—¶ï¼Œä¸€èˆ¬é€šè¿‡å°†ä¸€ä¸ª bean å®šä¹‰ä¸ºå¦ä¸€ä¸ª bean çš„å±æ€§æ¥å¤„ç†ä¾èµ–å…³ç³»ã€‚å½“ bean ç”Ÿå‘½å‘¨æœŸä¸åŒæ—¶å°±ä¼šå‡ºç°é—®é¢˜ã€‚å‡è®¾å•ä¾‹ bean A éœ€è¦ä½¿ç”¨éå•ä¾‹ï¼ˆåŸå‹ï¼‰bean Bï¼Œå¯èƒ½åœ¨ A ä¸Šçš„æ¯æ¬¡æ–¹æ³•è°ƒç”¨ä¸Šã€‚å®¹å™¨åªåˆ›å»ºå•ä¾‹ bean A ä¸€æ¬¡ï¼Œå› æ­¤åªæœ‰ä¸€æ¬¡è®¾ç½®å±æ€§çš„æœºä¼šã€‚å®¹å™¨æ— æ³•åœ¨æ¯æ¬¡éœ€è¦æ—¶ä¸º bean A æä¾› bean B çš„æ–°å®ä¾‹ã€‚</p>
<p>ä¸€ä¸ªè§£å†³æ–¹æ¡ˆæ˜¯æ”¾å¼ƒä¸€äº›æ§åˆ¶åè½¬ã€‚å¯ä»¥é€šè¿‡å®ç° <code>ApplicationContextAware </code>æ¥å£ä½¿ bean A å¯Ÿè§‰å®¹å™¨ï¼Œå¹¶åœ¨æ¯æ¬¡ bean A éœ€è¦æ—¶é€šè¿‡å¯¹å®¹å™¨è¿›è¡Œ getBean(â€œBâ€) è°ƒç”¨æ¥è¯·æ±‚ï¼ˆé€šå¸¸æ˜¯æ–°çš„ï¼‰bean B å®ä¾‹ ã€‚ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºäº†è¿™ç§æ–¹æ³•ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// a class that uses a stateful Command-style class to perform some processing</span></span><br><span class="line"><span class="keyword">package</span> fiona.apple;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Spring-API imports</span></span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.BeansException;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.ApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.ApplicationContextAware;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CommandManager</span> <span class="keyword">implements</span> <span class="title">ApplicationContextAware</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> ApplicationContext applicationContext;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">process</span><span class="params">(Map commandState)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// grab a new instance of the appropriate Command</span></span><br><span class="line">        Command command = createCommand();</span><br><span class="line">        <span class="comment">// set the state on the (hopefully brand new) Command instance</span></span><br><span class="line">        command.setState(commandState);</span><br><span class="line">        <span class="keyword">return</span> command.execute();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> Command <span class="title">createCommand</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// notice the Spring API dependency!</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.applicationContext.getBean(<span class="string">&quot;command&quot;</span>, Command.class);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setApplicationContext</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">            ApplicationContext applicationContext)</span> <span class="keyword">throws</span> BeansException </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.applicationContext = applicationContext;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å‰é¢çš„æƒ…å†µæ˜¯ä¸å¯å–çš„ï¼Œå› ä¸ºä¸šåŠ¡ä»£ç çŸ¥é“å¹¶è€¦åˆåˆ°Springæ¡†æ¶ã€‚æ–¹æ³•æ³¨å…¥ï¼ˆMethod Injectionï¼‰æ˜¯Spring IoCå®¹å™¨çš„ä¸€ä¸ªé«˜çº§åŠŸèƒ½ï¼Œå¯ä»¥è®©ä½ å¹²å‡€åœ°å¤„ç†è¿™ç§ç”¨ä¾‹ã€‚</p>
<h3 id="æŸ¥è¯¢æ–¹æ³•æ³¨å…¥"><a href="#æŸ¥è¯¢æ–¹æ³•æ³¨å…¥" class="headerlink" title="æŸ¥è¯¢æ–¹æ³•æ³¨å…¥"></a>æŸ¥è¯¢æ–¹æ³•æ³¨å…¥</h3><p>æŸ¥è¯¢æ–¹æ³•æ³¨å…¥æ˜¯æŒ‡å®¹å™¨èƒ½å¤Ÿè¦†ç›– bean ä¸Šçš„æ–¹æ³•å¹¶è¿”å›å®¹å™¨ä¸­å¦ä¸€ä¸ª bean çš„æŸ¥è¯¢ç»“æœã€‚è¿™ç§æŸ¥æ‰¾é€šå¸¸æ¶‰åŠåˆ°ä¸€ä¸ªåŸå‹Beanï¼Œå°±åƒä¸Šä¸€èŠ‚ä¸­æè¿°çš„æƒ…æ™¯ã€‚Springæ¡†æ¶é€šè¿‡ä½¿ç”¨CGLIBåº“çš„å­—èŠ‚ç ç”Ÿæˆæ¥å®ç°è¿™ç§æ–¹æ³•æ³¨å…¥ï¼ŒåŠ¨æ€åœ°ç”Ÿæˆä¸€ä¸ªè¦†ç›–è¯¥æ–¹æ³•çš„å­ç±»ã€‚</p>
<p>è¦ä½¿è¿™ç§åŠ¨æ€å­ç±»åŒ–å·¥ä½œï¼ŒSpring bean å®¹å™¨å­ç±»åŒ–çš„ç±»ä¸èƒ½æ˜¯ finalï¼Œè¦è¦†ç›–çš„æ–¹æ³•ä¹Ÿä¸èƒ½æ˜¯ finalã€‚</p>
<p>å¯¹å…·æœ‰æŠ½è±¡æ–¹æ³•çš„ç±»è¿›è¡Œå•å…ƒæµ‹è¯•éœ€è¦å¯¹ç±»è¿›è¡Œå­ç±»åŒ–å¹¶æä¾›æŠ½è±¡æ–¹æ³•çš„å­˜æ ¹å®ç°ã€‚</p>
<p>ç»„ä»¶æ‰«æä¹Ÿéœ€è¦å…·ä½“çš„æ–¹æ³•ï¼Œè¿™éœ€è¦å…·ä½“çš„ç±»æ¥è·å–ã€‚</p>
<p>å¦ä¸€ä¸ªå…³é”®é™åˆ¶æ˜¯æŸ¥è¯¢æ–¹æ³•ä¸é€‚ç”¨äºå·¥å‚æ–¹æ³•ï¼Œå°¤å…¶ä¸é€‚ç”¨äºé…ç½®ç±»ä¸­çš„ @Bean æ–¹æ³•ï¼Œå› ä¸ºåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå®¹å™¨ä¸è´Ÿè´£åˆ›å»ºå®ä¾‹ï¼Œå› æ­¤æ— æ³•åˆ›å»ºè¿è¡Œæ—¶ç”Ÿæˆçš„åŠ¨æ€å­ç±»ã€‚</p>
<p>å¯¹äºå‰é¢ä»£ç ç‰‡æ®µä¸­çš„ CommandManager ç±»ï¼ŒSpring å®¹å™¨åŠ¨æ€è¦†ç›–äº† createCommand() æ–¹æ³•çš„å®ç°ã€‚ CommandManager ç±»æ²¡æœ‰ä»»ä½• Spring ä¾èµ–é¡¹ï¼Œå¦‚é‡æ–°è®¾è®¡çš„ç¤ºä¾‹æ‰€ç¤ºï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> fiona.apple;</span><br><span class="line"></span><br><span class="line"><span class="comment">// no more Spring imports!</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">CommandManager</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">process</span><span class="params">(Object commandState)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// grab a new instance of the appropriate Command interface</span></span><br><span class="line">        Command command = createCommand();</span><br><span class="line">        <span class="comment">// set the state on the (hopefully brand new) Command instance</span></span><br><span class="line">        command.setState(commandState);</span><br><span class="line">        <span class="keyword">return</span> command.execute();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// okay... but where is the implementation of this method?</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">abstract</span> Command <span class="title">createCommand</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨åŒ…å«è¦æ³¨å…¥çš„æ–¹æ³•ï¼ˆåœ¨æœ¬ä¾‹ä¸­ä¸º CommandManagerï¼‰çš„å®¢æˆ·ç«¯ç±»ä¸­ï¼Œè¦æ³¨å…¥çš„æ–¹æ³•éœ€è¦ä»¥ä¸‹å½¢å¼çš„ç­¾åï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="keyword">public</span>|<span class="keyword">protected</span>&gt; [<span class="keyword">abstract</span>] &lt;<span class="keyword">return</span>-type&gt; theMethodName(no-arguments);</span><br></pre></td></tr></table></figure>

<p>å¦‚æœè¯¥æ–¹æ³•æ˜¯æŠ½è±¡çš„ï¼Œåˆ™åŠ¨æ€ç”Ÿæˆçš„å­ç±»å°†å®ç°è¯¥æ–¹æ³•ã€‚å¦åˆ™ï¼ŒåŠ¨æ€ç”Ÿæˆçš„å­ç±»ä¼šè¦†ç›–åŸå§‹ç±»ä¸­å®šä¹‰çš„å…·ä½“æ–¹æ³•ã€‚è€ƒè™‘ä»¥ä¸‹ç¤ºä¾‹ï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- a stateful bean deployed as a prototype (non-singleton) --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;myCommand&quot;</span> <span class="attr">class</span>=<span class="string">&quot;fiona.apple.AsyncCommand&quot;</span> <span class="attr">scope</span>=<span class="string">&quot;prototype&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- inject dependencies here as required --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- commandProcessor uses statefulCommandHelper --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;commandManager&quot;</span> <span class="attr">class</span>=<span class="string">&quot;fiona.apple.CommandManager&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">lookup-method</span> <span class="attr">name</span>=<span class="string">&quot;createCommand&quot;</span> <span class="attr">bean</span>=<span class="string">&quot;myCommand&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>æ ‡è¯†ä¸º commandManager çš„ bean åœ¨éœ€è¦ myCommand bean çš„æ–°å®ä¾‹æ—¶è°ƒç”¨å®ƒè‡ªå·±çš„ createCommand() æ–¹æ³•ã€‚å¦‚æœå®é™…ä¸Šéœ€è¦ï¼Œæ‚¨å¿…é¡»å°å¿ƒåœ°å°† myCommand bean éƒ¨ç½²ä¸ºåŸå‹ã€‚å¦‚æœæ˜¯å•ä¾‹ï¼Œåˆ™æ¯æ¬¡éƒ½è¿”å›ç›¸åŒçš„ myCommand bean å®ä¾‹ã€‚<br>æˆ–è€…ï¼Œåœ¨åŸºäºæ³¨è§£çš„ç»„ä»¶æ¨¡å‹ä¸­ï¼Œæ‚¨å¯ä»¥é€šè¿‡@Lookup æ³¨è§£å£°æ˜ä¸€ä¸ªæŸ¥æ‰¾æ–¹æ³•ï¼Œå¦‚ä¸‹ä¾‹æ‰€ç¤ºï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">CommandManager</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">process</span><span class="params">(Object commandState)</span> </span>&#123;</span><br><span class="line">        Command command = createCommand();</span><br><span class="line">        command.setState(commandState);</span><br><span class="line">        <span class="keyword">return</span> command.execute();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Lookup(&quot;myCommand&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">abstract</span> Command <span class="title">createCommand</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æˆ–è€…ï¼Œæ›´æƒ¯ç”¨çš„æ˜¯ï¼Œæ‚¨å¯ä»¥ä¾é ç›®æ ‡ bean æ ¹æ®æŸ¥æ‰¾æ–¹æ³•çš„å£°æ˜è¿”å›ç±»å‹è¿›è¡Œè§£æï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">CommandManager</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">process</span><span class="params">(Object commandState)</span> </span>&#123;</span><br><span class="line">        MyCommand command = createCommand();</span><br><span class="line">        command.setState(commandState);</span><br><span class="line">        <span class="keyword">return</span> command.execute();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Lookup</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">abstract</span> MyCommand <span class="title">createCommand</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¯·æ³¨æ„ï¼Œæ‚¨é€šå¸¸åº”è¯¥ä½¿ç”¨å…·ä½“çš„å­˜æ ¹å®ç°å£°æ˜æ­¤ç±»å¸¦æ³¨é‡Šçš„æŸ¥æ‰¾æ–¹æ³•ï¼Œä»¥ä¾¿å®ƒä»¬ä¸ Spring çš„ç»„ä»¶æ‰«æè§„åˆ™å…¼å®¹ï¼Œé»˜è®¤æƒ…å†µä¸‹æŠ½è±¡ç±»å°†è¢«å¿½ç•¥ã€‚æ­¤é™åˆ¶ä¸é€‚ç”¨äºæ˜¾å¼æ³¨å†Œæˆ–æ˜¾å¼å¯¼å…¥çš„ bean ç±»ã€‚</p>
<h3 id="ä»»æ„æ–¹æ³•æ›¿æ¢"><a href="#ä»»æ„æ–¹æ³•æ›¿æ¢" class="headerlink" title="ä»»æ„æ–¹æ³•æ›¿æ¢"></a>ä»»æ„æ–¹æ³•æ›¿æ¢</h3><p>ä¸æŸ¥è¯¢æ–¹æ³•æ³¨å…¥ç›¸æ¯”ï¼Œä¸€ç§ä¸å¤ªæœ‰ç”¨çš„æ–¹æ³•æ³¨å…¥å½¢å¼æ˜¯èƒ½å¤Ÿç”¨å¦ä¸€ç§æ–¹æ³•å®ç°æ›¿æ¢æ‰˜ç®¡ bean ä¸­çš„ä»»æ„æ–¹æ³•ã€‚</p>
<p>ä½¿ç”¨åŸºäº XML çš„é…ç½®å…ƒæ•°æ®ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨replaced-method å…ƒç´ å°†ç°æœ‰çš„æ–¹æ³•å®ç°æ›¿æ¢ä¸ºå¦ä¸€ä¸ªï¼Œç”¨äºéƒ¨ç½²çš„beanã€‚è€ƒè™‘ä¸‹é¢çš„ç±»ï¼Œå®ƒæœ‰ä¸€ä¸ªæˆ‘ä»¬æƒ³è¦è¦†ç›–çš„åä¸º computeValue çš„æ–¹æ³•ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyValueCalculator</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">computeValue</span><span class="params">(String input)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// some real code...</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// some other methods...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å®ç° org.springframework.beans.factory.support.MethodReplacer æ¥å£çš„ç±»æä¾›äº†æ–°çš„æ–¹æ³•å®šä¹‰ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * meant to be used to override the existing computeValue(String)</span></span><br><span class="line"><span class="comment"> * implementation in MyValueCalculator</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReplacementComputeValue</span> <span class="keyword">implements</span> <span class="title">MethodReplacer</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">reimplement</span><span class="params">(Object o, Method m, Object[] args)</span> <span class="keyword">throws</span> Throwable </span>&#123;</span><br><span class="line">        <span class="comment">// get the input value, work with it, and return a computed result</span></span><br><span class="line">        String input = (String) args[<span class="number">0</span>];</span><br><span class="line">        ...</span><br><span class="line">        <span class="keyword">return</span> ...;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç”¨äºéƒ¨ç½²åŸå§‹ç±»å¹¶æŒ‡å®šæ–¹æ³•è¦†ç›–çš„ bean å®šä¹‰ç±»ä¼¼äºä»¥ä¸‹ç¤ºä¾‹ï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;myValueCalculator&quot;</span> <span class="attr">class</span>=<span class="string">&quot;x.y.z.MyValueCalculator&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- arbitrary method replacement --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">replaced-method</span> <span class="attr">name</span>=<span class="string">&quot;computeValue&quot;</span> <span class="attr">replacer</span>=<span class="string">&quot;replacementComputeValue&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">arg-type</span>&gt;</span>String<span class="tag">&lt;/<span class="name">arg-type</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">replaced-method</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;replacementComputeValue&quot;</span> <span class="attr">class</span>=<span class="string">&quot;a.b.c.ReplacementComputeValue&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<p>æ‚¨å¯ä»¥åœ¨ <replaced-method> å…ƒç´ ä¸­ä½¿ç”¨ä¸€ä¸ªæˆ–å¤šä¸ª <arg-type> å…ƒç´ æ¥æŒ‡ç¤ºè¢«è¦†ç›–çš„æ–¹æ³•çš„æ–¹æ³•ç­¾åã€‚ä»…å½“æ–¹æ³•é‡è½½å¹¶ä¸”ç±»ä¸­å­˜åœ¨å¤šä¸ªå˜ä½“æ—¶ï¼Œæ‰éœ€è¦å‚æ•°çš„ç­¾åã€‚ä¸ºæ–¹ä¾¿èµ·è§ï¼Œå‚æ•°çš„ç±»å‹å­—ç¬¦ä¸²å¯ä»¥æ˜¯å®Œå…¨é™å®šç±»å‹åç§°çš„å­å­—ç¬¦ä¸²ã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹æ‰€æœ‰åŒ¹é… java.lang.Stringï¼š</arg-type></replaced-method></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">java.lang.String</span><br><span class="line">String</span><br><span class="line">Str</span><br></pre></td></tr></table></figure>

<p>ç”±äºå‚æ•°çš„æ•°é‡é€šå¸¸è¶³ä»¥åŒºåˆ†æ¯ä¸ªå¯èƒ½çš„é€‰æ‹©ï¼Œå› æ­¤è¯¥å¿«æ·æ–¹å¼å¯ä»¥è®©æ‚¨åªé”®å…¥ä¸å‚æ•°ç±»å‹åŒ¹é…çš„æœ€çŸ­å­—ç¬¦ä¸²ï¼Œä»è€Œå¯ä»¥èŠ‚çœå¤§é‡è¾“å…¥ã€‚</p>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/java/" rel="tag"># java</a>
              <a href="/tags/spring/" rel="tag"># spring</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2021/08/26/Java/spring/spring-ioc%20%E8%AE%BE%E8%AE%A1%E6%80%9D%E6%83%B3/" rel="prev" title="spring-ioc è®¾è®¡æ€æƒ³">
      <i class="fa fa-chevron-left"></i> spring-ioc è®¾è®¡æ€æƒ³
    </a></div>
      <div class="post-nav-item">
    <a href="/2021/08/26/Java/spring/spring-bean-overview/" rel="next" title="spring-bean-overview">
      spring-bean-overview <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5"><span class="nav-number">1.</span> <span class="nav-text">ä¾èµ–æ³¨å…¥</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9F%BA%E4%BA%8E%E6%9E%84%E9%80%A0%E5%99%A8%E7%9A%84%E4%BE%9D%E8%B5%96%E6%80%A7%E6%B3%A8%E5%85%A5"><span class="nav-number">1.1.</span> <span class="nav-text">åŸºäºæ„é€ å™¨çš„ä¾èµ–æ€§æ³¨å…¥</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8F%82%E6%95%B0%E8%A7%A3%E6%9E%90"><span class="nav-number">1.1.1.</span> <span class="nav-text">å‚æ•°è§£æ</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8F%82%E6%95%B0%E7%B1%BB%E5%9E%8B%E5%8C%B9%E9%85%8D"><span class="nav-number">1.1.2.</span> <span class="nav-text">å‚æ•°ç±»å‹åŒ¹é…</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8F%82%E6%95%B0%E7%B4%A2%E5%BC%95"><span class="nav-number">1.1.3.</span> <span class="nav-text">å‚æ•°ç´¢å¼•</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8F%82%E6%95%B0%E5%90%8D%E7%A7%B0"><span class="nav-number">1.1.4.</span> <span class="nav-text">å‚æ•°åç§°</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9F%BA%E4%BA%8E-Setter-%E7%9A%84%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5"><span class="nav-number">1.2.</span> <span class="nav-text">åŸºäº Setter çš„ä¾èµ–æ³¨å…¥</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BE%9D%E8%B5%96%E8%A7%A3%E6%9E%90%E7%9A%84%E8%BF%87%E7%A8%8B"><span class="nav-number">1.3.</span> <span class="nav-text">ä¾èµ–è§£æçš„è¿‡ç¨‹</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BE%AA%E7%8E%AF%E4%BE%9D%E8%B5%96"><span class="nav-number">1.3.1.</span> <span class="nav-text">å¾ªç¯ä¾èµ–</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5%E7%9A%84%E4%BE%8B%E5%AD%90"><span class="nav-number">1.4.</span> <span class="nav-text">ä¾èµ–æ³¨å…¥çš„ä¾‹å­</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BE%9D%E8%B5%96%E5%92%8C%E9%85%8D%E7%BD%AE%E8%AF%A6%E8%A7%A3"><span class="nav-number">2.</span> <span class="nav-text">ä¾èµ–å’Œé…ç½®è¯¦è§£</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%9B%B4%E6%8E%A5%E5%80%BC%EF%BC%88Primitives%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%AD%89%EF%BC%89"><span class="nav-number">2.0.1.</span> <span class="nav-text">ç›´æ¥å€¼ï¼ˆPrimitivesã€å­—ç¬¦ä¸²ç­‰ï¼‰</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#idref-%E5%85%83%E7%B4%A0"><span class="nav-number">2.0.2.</span> <span class="nav-text">idref å…ƒç´ </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AF%B9%E5%85%B6%E4%BB%96-Bean-%E7%9A%84%E5%BC%95%E7%94%A8%EF%BC%88%E5%90%88%E4%BD%9C%E8%80%85%EF%BC%89"><span class="nav-number">2.0.3.</span> <span class="nav-text">å¯¹å…¶ä»– Bean çš„å¼•ç”¨ï¼ˆåˆä½œè€…ï¼‰</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%86%85%E9%83%A8bean"><span class="nav-number">2.0.4.</span> <span class="nav-text">å†…éƒ¨bean</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%9B%86%E5%90%88"><span class="nav-number">2.0.5.</span> <span class="nav-text">é›†åˆ</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E9%9B%86%E5%90%88%E7%9A%84%E5%90%88%E5%B9%B6"><span class="nav-number">2.0.5.1.</span> <span class="nav-text">é›†åˆçš„åˆå¹¶</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E9%9B%86%E5%90%88%E5%90%88%E5%B9%B6%E7%9A%84%E9%99%90%E5%88%B6"><span class="nav-number">2.0.5.2.</span> <span class="nav-text">é›†åˆåˆå¹¶çš„é™åˆ¶</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%BC%BA%E7%B1%BB%E5%9E%8B%E9%9B%86%E5%90%88"><span class="nav-number">2.0.5.3.</span> <span class="nav-text">å¼ºç±»å‹é›†åˆ</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Null-%E5%92%8C%E7%A9%BA%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%80%BC"><span class="nav-number">2.0.6.</span> <span class="nav-text">Null å’Œç©ºå­—ç¬¦ä¸²å€¼</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#p-%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4"><span class="nav-number">2.0.7.</span> <span class="nav-text">p å‘½åç©ºé—´</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#c-%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4"><span class="nav-number">2.0.8.</span> <span class="nav-text">c å‘½åç©ºé—´</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A4%8D%E5%90%88%E5%B1%9E%E6%80%A7%E5%90%8D%E7%A7%B0"><span class="nav-number">2.0.9.</span> <span class="nav-text">å¤åˆå±æ€§åç§°</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8-depen-on"><span class="nav-number">3.</span> <span class="nav-text">ä½¿ç”¨ depen-on</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BB%B6%E8%BF%9F%E5%88%9D%E5%A7%8B%E5%8C%96%E7%9A%84-Bean"><span class="nav-number">4.</span> <span class="nav-text">å»¶è¿Ÿåˆå§‹åŒ–çš„ Bean</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D"><span class="nav-number">5.</span> <span class="nav-text">è‡ªåŠ¨è£…é…</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D%E7%9A%84%E5%B1%80%E9%99%90%E6%80%A7%E5%92%8C%E7%BC%BA%E7%82%B9"><span class="nav-number">5.1.</span> <span class="nav-text">è‡ªåŠ¨è£…é…çš„å±€é™æ€§å’Œç¼ºç‚¹</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%8E%E8%87%AA%E5%8A%A8%E8%A3%85%E9%85%8D%E4%B8%AD%E6%8E%92%E9%99%A4-Bean"><span class="nav-number">5.2.</span> <span class="nav-text">ä»è‡ªåŠ¨è£…é…ä¸­æ’é™¤ Bean</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%96%B9%E6%B3%95%E6%B3%A8%E5%85%A5"><span class="nav-number">6.</span> <span class="nav-text">æ–¹æ³•æ³¨å…¥</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9F%A5%E8%AF%A2%E6%96%B9%E6%B3%95%E6%B3%A8%E5%85%A5"><span class="nav-number">6.1.</span> <span class="nav-text">æŸ¥è¯¢æ–¹æ³•æ³¨å…¥</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%BB%E6%84%8F%E6%96%B9%E6%B3%95%E6%9B%BF%E6%8D%A2"><span class="nav-number">6.2.</span> <span class="nav-text">ä»»æ„æ–¹æ³•æ›¿æ¢</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="CHENPENGBLOG"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">CHENPENGBLOG</p>
  <div class="site-description" itemprop="description">å…¨æ ˆæèµ·æ¥ï¼</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">97</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">25</span>
        <span class="site-state-item-name">æ ‡ç­¾</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/yourname" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;yourname" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:yourname@gmail.com" title="E-Mail â†’ mailto:yourname@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://weibo.com/yourname" title="Weibo â†’ https:&#x2F;&#x2F;weibo.com&#x2F;yourname" rel="noopener" target="_blank"><i class="fab fa-weibo fa-fw"></i>Weibo</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://stackoverflow.com/yourname" title="StackOverflow â†’ https:&#x2F;&#x2F;stackoverflow.com&#x2F;yourname" rel="noopener" target="_blank"><i class="fab fa-stack-overflow fa-fw"></i>StackOverflow</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">CHENPENGBLOG</span>
</div>
  <div class="powered-by">ç”± <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> å¼ºåŠ›é©±åŠ¨
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
