<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"chenpeng.pages.dev","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"always","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="æœ‰æ—¶æˆ‘ä»¬ä¸å¾—ä¸ä¸ºæŸä¸ªé¡¹ç›®ä½¿ç”¨å…¶ä»–çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼ˆVCS, Version Control System ï¼‰ï¼Œå…¶ä¸­æ¯”è¾ƒå¸¸è§çš„æ˜¯ Subversion ã€‚">
<meta property="og:type" content="article">
<meta property="og:title" content="git-gitä¸å…¶ä»–ç³»ç»Ÿ">
<meta property="og:url" content="https://chenpeng.pages.dev/2021/08/23/git/git-git%E4%B8%8E%E5%85%B6%E4%BB%96%E7%B3%BB%E7%BB%9F/index.html">
<meta property="og:site_name" content="é™ˆé¹çš„åšå®¢">
<meta property="og:description" content="æœ‰æ—¶æˆ‘ä»¬ä¸å¾—ä¸ä¸ºæŸä¸ªé¡¹ç›®ä½¿ç”¨å…¶ä»–çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼ˆVCS, Version Control System ï¼‰ï¼Œå…¶ä¸­æ¯”è¾ƒå¸¸è§çš„æ˜¯ Subversion ã€‚">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2021-08-22T16:07:58.000Z">
<meta property="article:modified_time" content="2022-04-14T04:23:47.235Z">
<meta property="article:author" content="CHENPENGBLOG">
<meta property="article:tag" content="git">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://chenpeng.pages.dev/2021/08/23/git/git-git%E4%B8%8E%E5%85%B6%E4%BB%96%E7%B3%BB%E7%BB%9F/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>git-gitä¸å…¶ä»–ç³»ç»Ÿ | é™ˆé¹çš„åšå®¢</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ ">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">é™ˆé¹çš„åšå®¢</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">æ¯å¤©è¿›æ­¥ä¸€ç‚¹ç‚¹ğŸ˜‰</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>é¦–é¡µ</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>å…³äº</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>æ ‡ç­¾</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>åˆ†ç±»</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>å½’æ¡£</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://chenpeng.pages.dev/2021/08/23/git/git-git%E4%B8%8E%E5%85%B6%E4%BB%96%E7%B3%BB%E7%BB%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="CHENPENGBLOG">
      <meta itemprop="description" content="è®°å½•ï¼">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="é™ˆé¹çš„åšå®¢">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          git-gitä¸å…¶ä»–ç³»ç»Ÿ
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2021-08-23 00:07:58" itemprop="dateCreated datePublished" datetime="2021-08-23T00:07:58+08:00">2021-08-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2022-04-14 12:23:47" itemprop="dateModified" datetime="2022-04-14T12:23:47+08:00">2022-04-14</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>æœ‰æ—¶æˆ‘ä»¬ä¸å¾—ä¸ä¸ºæŸä¸ªé¡¹ç›®ä½¿ç”¨å…¶ä»–çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼ˆVCS, Version Control System ï¼‰ï¼Œå…¶ä¸­æ¯”è¾ƒå¸¸è§çš„æ˜¯ Subversion ã€‚</p>
<span id="more"></span>

<p>ä½ å°†åœ¨æœ¬ç« çš„ç¬¬ä¸€éƒ¨åˆ†å­¦ä¹ ä½¿ç”¨ <code>git svn</code> ï¼ŒGit ä¸º Subversion é™„å¸¦çš„åŒå‘æ¡¥æ¥å·¥å…·ã€‚</p>
<p>æˆ–è®¸ç°åœ¨ä½ å·²ç»åœ¨è€ƒè™‘å°†å…ˆå‰çš„é¡¹ç›®è½¬å‘ Git ã€‚æœ¬ç« çš„ç¬¬äºŒéƒ¨åˆ†å°†ä»‹ç»å¦‚ä½•å°†é¡¹ç›®è¿ç§»åˆ° Gitï¼šå…ˆä»‹ç»ä» Subversion çš„è¿ç§»ï¼Œç„¶åæ˜¯ Perforceï¼Œæœ€åä»‹ç»å¦‚ä½•ä½¿ç”¨è‡ªå®šä¹‰çš„è„šæœ¬è¿›è¡Œéæ ‡å‡†çš„å¯¼å…¥ã€‚</p>
<h2 id="Git-ä¸-Subversion"><a href="#Git-ä¸-Subversion" class="headerlink" title="Git ä¸ Subversion"></a>Git ä¸ Subversion</h2><p>å½“å‰ï¼Œå¤§å¤šæ•°å¼€å‘ä¸­çš„å¼€æºé¡¹ç›®ä»¥åŠå¤§é‡çš„å•†ä¸šé¡¹ç›®éƒ½ä½¿ç”¨ Subversion æ¥ç®¡ç†æºç ã€‚ä½œä¸ºæœ€æµè¡Œçš„å¼€æºç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼ŒSubversion å·²ç»å­˜åœ¨äº†æ¥è¿‘åå¹´çš„æ—¶é—´ã€‚å®ƒåœ¨è®¸å¤šæ–¹é¢ä¸ CVS ååˆ†ç±»ä¼¼ï¼Œåè€…æ˜¯å‰è€…å‡ºç°ä¹‹å‰ä»£ç æ§åˆ¶ä¸–ç•Œçš„éœ¸ä¸»ã€‚</p>
<p>Git æœ€ä¸ºé‡è¦çš„ç‰¹æ€§ä¹‹ä¸€æ˜¯åä¸º <code>git svn</code> çš„ Subversion åŒå‘æ¡¥æ¥å·¥å…·ã€‚è¯¥å·¥å…·æŠŠ Git å˜æˆäº† Subversion æœåŠ¡çš„å®¢æˆ·ç«¯ï¼Œä»è€Œè®©ä½ åœ¨æœ¬åœ°äº«å—åˆ° Git æ‰€æœ‰çš„åŠŸèƒ½ï¼Œè€Œåç›´æ¥å‘ Subversion æœåŠ¡å™¨æ¨é€å†…å®¹ï¼Œä»¿ä½›åœ¨æœ¬åœ°ä½¿ç”¨äº† Subversion å®¢æˆ·ç«¯ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨å…¶ä»–äººå¿å—å¤è‘£çš„åŒæ—¶ï¼Œä½ å¯ä»¥åœ¨æœ¬åœ°äº«å—åˆ†æ”¯åˆå¹¶ï¼Œä½¿æš‚å­˜åŒºåŸŸï¼Œè¡åˆä»¥åŠ å•é¡¹æŒ‘æ‹£ç­‰ç­‰ã€‚è¿™æ˜¯ä¸ªè®© Git å·å·æ½œå…¥åˆä½œå¼€å‘ç¯å¢ƒçš„å¥½ä¸œè¥¿ï¼Œåœ¨å¸®åŠ©ä½ çš„å¼€å‘åŒä¼´ä»¬æé«˜æ•ˆç‡çš„åŒæ—¶ï¼Œå®ƒè¿˜èƒ½å¸®ä½ åŠè¯´å›¢é˜Ÿè®©æ•´ä¸ªé¡¹ç›®æ¡†æ¶è½¬å‘å¯¹ Git çš„æ”¯æŒã€‚è¿™ä¸ª Subversion ä¹‹æ¡¥æ˜¯é€šå‘åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼ˆDVCS, Distributed VCS ï¼‰ä¸–ç•Œçš„ç¥å¥‡éš§é“ã€‚</p>
<h3 id="git-svn"><a href="#git-svn" class="headerlink" title="git svn"></a>git svn</h3><p>Git ä¸­æ‰€æœ‰ Subversion æ¡¥æ¥å‘½ä»¤çš„åŸºç¡€æ˜¯ <code>git svn</code> ã€‚æ‰€æœ‰çš„å‘½ä»¤éƒ½ä»å®ƒå¼€å§‹ã€‚ç›¸å…³çš„å‘½ä»¤æ•°ç›®ä¸å°‘ï¼Œä½ å°†é€šè¿‡å‡ ä¸ªç®€å•çš„å·¥ä½œæµç¨‹äº†è§£åˆ°å…¶ä¸­å¸¸è§çš„ä¸€äº›ã€‚</p>
<p>å€¼å¾—è­¦æˆ’çš„æ˜¯ï¼Œåœ¨ä½¿ç”¨ <code>git svn</code> çš„æ—¶å€™ï¼Œä½ å®é™…æ˜¯åœ¨ä¸ Subversion äº¤äº’ï¼ŒGit æ¯”å®ƒè¦é«˜çº§å¤æ‚çš„å¤šã€‚å°½ç®¡å¯ä»¥åœ¨æœ¬åœ°éšæ„çš„è¿›è¡Œåˆ†æ”¯å’Œåˆå¹¶ï¼Œæœ€å¥½è¿˜æ˜¯é€šè¿‡è¡åˆä¿æŒçº¿æ€§çš„æäº¤å†å²ï¼Œå°½é‡é¿å…ç±»ä¼¼ä¸è¿œç¨‹ Git ä»“åº“åŠ¨æ€äº¤äº’è¿™æ ·çš„æ“ä½œã€‚</p>
<p>é¿å…ä¿®æ”¹å†å²å†é‡æ–°æ¨é€çš„åšæ³•ï¼Œä¹Ÿä¸è¦åŒæ—¶æ¨é€åˆ°å¹¶è¡Œçš„ Git ä»“åº“æ¥è¯•å›¾ä¸å…¶ä»– Git ç”¨æˆ·åˆä½œã€‚Subersion åªèƒ½ä¿å­˜å•ä¸€çš„çº¿æ€§æäº¤å†å²ï¼Œä¸€ä¸å°å¿ƒå°±ä¼šè¢«æç³Šæ¶‚ã€‚åˆä½œå›¢é˜Ÿä¸­åŒæ—¶æœ‰äººç”¨ SVN å’Œ Gitï¼Œä¸€å®šè¦ç¡®ä¿æ‰€æœ‰äººéƒ½ä½¿ç”¨ SVN æœåŠ¡æ¥åä½œâ€”â€”è¿™ä¼šè®©ç”Ÿæ´»è½»æ¾å¾ˆå¤šã€‚</p>
<h3 id="åˆå§‹è®¾å®š"><a href="#åˆå§‹è®¾å®š" class="headerlink" title="åˆå§‹è®¾å®š"></a>åˆå§‹è®¾å®š</h3><p>ä¸ºäº†å±•ç¤ºåŠŸèƒ½ï¼Œå…ˆè¦ä¸€ä¸ªå…·æœ‰å†™æƒé™çš„ SVN ä»“åº“ã€‚å¦‚æœæƒ³å°è¯•è¿™ä¸ªèŒƒä¾‹ï¼Œä½ å¿…é¡»å¤åˆ¶ä¸€ä»½å…¶ä¸­çš„æµ‹è¯•ä»“åº“ã€‚æ¯”è¾ƒç®€å•çš„åšæ³•æ˜¯ä½¿ç”¨ä¸€ä¸ªåä¸º <code>svnsync</code> çš„å·¥å…·ã€‚è¾ƒæ–°çš„ Subversion ç‰ˆæœ¬ä¸­éƒ½å¸¦æœ‰è¯¥å·¥å…·ï¼Œå®ƒå°†æ•°æ®ç¼–ç ä¸ºç”¨äºç½‘ç»œä¼ è¾“çš„æ ¼å¼ã€‚</p>
<p>è¦å°è¯•æœ¬ä¾‹ï¼Œå…ˆåœ¨æœ¬åœ°æ–°å»ºä¸€ä¸ª Subversion ä»“åº“ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ mkdir /tmp/test-svn</span><br><span class="line">$ svnadmin create /tmp/test-svn</span><br></pre></td></tr></table></figure>

<p>ç„¶åï¼Œå…è®¸æ‰€æœ‰ç”¨æˆ·ä¿®æ”¹ revprop â€”â€” ç®€å•çš„åšæ³•æ˜¯æ·»åŠ ä¸€ä¸ªæ€»æ˜¯ä»¥ 0 ä½œä¸ºè¿”å›å€¼çš„ pre-revprop-change è„šæœ¬ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ cat /tmp/test-svn/hooks/pre-revprop-change</span><br><span class="line">#!/bin/sh</span><br><span class="line">exit 0;</span><br><span class="line">$ chmod +x /tmp/test-svn/hooks/pre-revprop-change</span><br></pre></td></tr></table></figure>

<p>ç°åœ¨å¯ä»¥è°ƒç”¨ <code>svnsync init</code> åŠ ç›®æ ‡ä»“åº“ï¼Œå†åŠ æºä»“åº“çš„æ ¼å¼æ¥æŠŠè¯¥é¡¹ç›®åŒæ­¥åˆ°æœ¬åœ°äº†ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ svnsync init file:///tmp/test-svn http://progit-example.googlecode.com/svn/</span><br></pre></td></tr></table></figure>

<p>è¿™å°†å»ºç«‹è¿›è¡ŒåŒæ­¥æ‰€éœ€çš„å±æ€§ã€‚å¯ä»¥é€šè¿‡è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥å…‹éš†ä»£ç ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ svnsync sync file:///tmp/test-svn</span><br><span class="line">Committed revision 1.</span><br><span class="line">Copied properties for revision 1.</span><br><span class="line">Committed revision 2.</span><br><span class="line">Copied properties for revision 2.</span><br><span class="line">Committed revision 3.</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p>åˆ«çœ‹è¿™ä¸ªæ“ä½œåªèŠ±æ‰å‡ åˆ†é’Ÿï¼Œè¦æ˜¯ä½ æƒ³æŠŠæºä»“åº“å¤åˆ¶åˆ°å¦ä¸€ä¸ªè¿œç¨‹ä»“åº“ï¼Œè€Œä¸æ˜¯æœ¬åœ°ä»“åº“ï¼Œé‚£å°†èŠ±æ‰æ¥è¿‘ä¸€ä¸ªå°æ—¶ï¼Œå°½ç®¡é¡¹ç›®ä¸­åªæœ‰ä¸åˆ° 100 æ¬¡çš„æäº¤ã€‚ Subversion æ¯æ¬¡åªå¤åˆ¶ä¸€æ¬¡ä¿®æ”¹ï¼ŒæŠŠå®ƒæ¨é€åˆ°å¦ä¸€ä¸ªä»“åº“é‡Œï¼Œç„¶åå‘¨è€Œå¤å§‹â€”â€”æƒŠäººçš„ä½æ•ˆï¼Œä½†æ˜¯æˆ‘ä»¬åˆ«æ— é€‰æ‹©ã€‚</p>
<h3 id="å…¥é—¨"><a href="#å…¥é—¨" class="headerlink" title="å…¥é—¨"></a>å…¥é—¨</h3><p>æœ‰äº†å¯ä»¥å†™å…¥çš„ Subversion ä»“åº“ä»¥åï¼Œå°±å¯ä»¥å°è¯•ä¸€ä¸‹å…¸å‹çš„å·¥ä½œæµç¨‹äº†ã€‚æˆ‘ä»¬ä» <code>git svn clone</code> å‘½ä»¤å¼€å§‹ï¼Œå®ƒä¼šæŠŠæ•´ä¸ª Subversion ä»“åº“å¯¼å…¥åˆ°ä¸€ä¸ªæœ¬åœ°çš„ Git ä»“åº“ä¸­ã€‚æé†’ä¸€ä¸‹ï¼Œè¿™é‡Œå¯¼å…¥çš„æ˜¯ä¸€ä¸ªè´§çœŸä»·å®çš„ Subversion ä»“åº“ï¼Œæ‰€ä»¥åº”è¯¥æŠŠä¸‹é¢çš„ <code>file:///tmp/test-svn</code> æ¢æˆä½ æ‰€ç”¨çš„ Subversion ä»“åº“çš„ URLï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">$ git svn clone file:///tmp/test-svn -T trunk -b branches -t tags</span><br><span class="line">Initialized empty Git repository in /Users/schacon/projects/testsvnsync/svn/.git/</span><br><span class="line">r1 = b4e387bc68740b5af56c2a5faf4003ae42bd135c (trunk)</span><br><span class="line">      A    m4/acx_pthread.m4</span><br><span class="line">      A    m4/stl_hash.m4</span><br><span class="line">...</span><br><span class="line">r75 = d1957f3b307922124eec6314e15bcda59e3d9610 (trunk)</span><br><span class="line">Found possible branch point: file:///tmp/test-svn/trunk =&gt; \</span><br><span class="line">    file:///tmp/test-svn /branches/my-calc-branch, 75</span><br><span class="line">Found branch parent: (my-calc-branch) d1957f3b307922124eec6314e15bcda59e3d9610</span><br><span class="line">Following parent with do_switch</span><br><span class="line">Successfully followed parent</span><br><span class="line">r76 = 8624824ecc0badd73f40ea2f01fce51894189b01 (my-calc-branch)</span><br><span class="line">Checked out HEAD:</span><br><span class="line"> file:///tmp/test-svn/branches/my-calc-branch r76</span><br></pre></td></tr></table></figure>

<p>è¿™ç›¸å½“äºé’ˆå¯¹æ‰€æä¾›çš„ URL è¿è¡Œäº†ä¸¤æ¡å‘½ä»¤â€”â€” <code>git svn init</code> åŠ ä¸Š <code>git svn fetch</code> ã€‚å¯èƒ½ä¼šèŠ±ä¸Šä¸€æ®µæ—¶é—´ã€‚æˆ‘ä»¬æ‰€ç”¨çš„æµ‹è¯•é¡¹ç›®ä»…ä»…åŒ…å« 75 æ¬¡æäº¤å¹¶ä¸”å®ƒçš„ä»£ç é‡ä¸ç®—å¤§ï¼Œæ‰€ä»¥åªæœ‰å‡ åˆ†é’Ÿè€Œå·²ã€‚ä¸è¿‡ï¼ŒGit ä»ç„¶éœ€è¦æå–æ¯ä¸€ä¸ªç‰ˆæœ¬ï¼Œæ¯æ¬¡ä¸€ä¸ªï¼Œå†é€ä¸ªæäº¤ã€‚å¯¹äºä¸€ä¸ªåŒ…å«æˆç™¾ä¸Šåƒæ¬¡æäº¤çš„é¡¹ç›®ï¼ŒèŠ±æ‰çš„æ—¶é—´åˆ™å¯èƒ½æ˜¯å‡ å°æ—¶ç”šè‡³æ•°å¤©ã€‚</p>
<p><code>-T trunk -b branches -t tags</code> å‘Šè¯‰ Git è¯¥ Subversion ä»“åº“éµå¾ªäº†åŸºæœ¬çš„åˆ†æ”¯å’Œæ ‡ç­¾å‘½åæ³•åˆ™ã€‚å¦‚æœä½ çš„ä¸»å¹²(è¯‘æ³¨ï¼štrunkï¼Œç›¸å½“äºéåˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶é‡Œçš„masteråˆ†æ”¯ï¼Œä»£è¡¨å¼€å‘çš„ä¸»çº¿ï¼‰ï¼Œåˆ†æ”¯æˆ–è€…æ ‡ç­¾ä»¥ä¸åŒçš„æ–¹å¼å‘½åï¼Œåˆ™åº”åšå‡ºç›¸åº”æ”¹å˜ã€‚ç”±äºè¯¥æ³•åˆ™çš„å¸¸è§æ€§ï¼Œå¯ä»¥ä½¿ç”¨ <code>-s</code> æ¥ä»£æ›¿æ•´æ¡å‘½ä»¤ï¼Œå®ƒæ„å‘³ç€æ ‡å‡†å¸ƒå±€ï¼ˆs æ˜¯ Standard layout çš„é¦–å­—æ¯ï¼‰ï¼Œä¹Ÿå°±æ˜¯å‰é¢é€‰é¡¹çš„å†…å®¹ã€‚ä¸‹é¢çš„å‘½ä»¤æœ‰ç›¸åŒçš„æ•ˆæœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git svn clone file:///tmp/test-svn -s</span><br></pre></td></tr></table></figure>

<p>ç°åœ¨ï¼Œä½ æœ‰äº†ä¸€ä¸ªæœ‰æ•ˆçš„ Git ä»“åº“ï¼ŒåŒ…å«ç€å¯¼å…¥çš„åˆ†æ”¯å’Œæ ‡ç­¾ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ git branch -a</span><br><span class="line">* master</span><br><span class="line">  my-calc-branch</span><br><span class="line">  tags/2.0.2</span><br><span class="line">  tags/release-2.0.1</span><br><span class="line">  tags/release-2.0.2</span><br><span class="line">  tags/release-2.0.2rc1</span><br><span class="line">  trunk</span><br></pre></td></tr></table></figure>

<p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè¯¥å·¥å…·åˆ†é…å‘½åç©ºé—´æ—¶å’Œè¿œç¨‹å¼•ç”¨çš„æ–¹å¼ä¸å°½ç›¸åŒã€‚å…‹éš†æ™®é€šçš„ Git ä»“åº“æ—¶ï¼Œå¯ä»¥ä»¥ <code>origin/[branch]</code> çš„å½¢å¼è·å–è¿œç¨‹æœåŠ¡å™¨ä¸Šæ‰€æœ‰å¯ç”¨çš„åˆ†æ”¯â€”â€”åˆ†é…åˆ°è¿œç¨‹æœåŠ¡çš„åç§°ä¸‹ã€‚ç„¶è€Œ <code>git svn</code> å‡å®šä¸å­˜åœ¨å¤šä¸ªè¿œç¨‹æœåŠ¡å™¨ï¼Œæ‰€ä»¥æŠŠæ‰€æœ‰æŒ‡å‘è¿œç¨‹æœåŠ¡çš„å¼•ç”¨ä¸åŠ åŒºåˆ†çš„ä¿å­˜ä¸‹æ¥ã€‚å¯ä»¥ç”¨ Git æ¢æµ‹å‘½ä»¤ <code>show-ref</code> æ¥æŸ¥çœ‹æ‰€æœ‰å¼•ç”¨çš„å…¨åã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ git show-ref</span><br><span class="line">1cbd4904d9982f386d87f88fce1c24ad7c0f0471 refs/heads/master</span><br><span class="line">aee1ecc26318164f355a883f5d99cff0c852d3c4 refs/remotes/my-calc-branch</span><br><span class="line">03d09b0e2aad427e34a6d50ff147128e76c0e0f5 refs/remotes/tags/2.0.2</span><br><span class="line">50d02cc0adc9da4319eeba0900430ba219b9c376 refs/remotes/tags/release-2.0.1</span><br><span class="line">4caaa711a50c77879a91b8b90380060f672745cb refs/remotes/tags/release-2.0.2</span><br><span class="line">1c4cb508144c513ff1214c3488abe66dcb92916f refs/remotes/tags/release-2.0.2rc1</span><br><span class="line">1cbd4904d9982f386d87f88fce1c24ad7c0f0471 refs/remotes/trunk</span><br></pre></td></tr></table></figure>

<p>è€Œæ™®é€šçš„ Git ä»“åº“åº”è¯¥æ˜¯è¿™ä¸ªæ¨¡æ ·ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ git show-ref</span><br><span class="line">83e38c7a0af325a9722f2fdc56b10188806d83a1 refs/heads/master</span><br><span class="line">3e15e38c198baac84223acfc6224bb8b99ff2281 refs/remotes/gitserver/master</span><br><span class="line">0a30dd3b0c795b80212ae723640d4e5d48cabdff refs/remotes/origin/master</span><br><span class="line">25812380387fdd55f916652be4881c6f11600d6f refs/remotes/origin/testing</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œæœ‰ä¸¤ä¸ªè¿œç¨‹æœåŠ¡å™¨ï¼šä¸€ä¸ªåä¸º <code>gitserver</code> ï¼Œå…·æœ‰ä¸€ä¸ª <code>master</code>åˆ†æ”¯ï¼›å¦ä¸€ä¸ªå« <code>origin</code>ï¼Œå…·æœ‰ <code>master</code> å’Œ <code>testing</code> ä¸¤ä¸ªåˆ†æ”¯ã€‚</p>
<p>æ³¨æ„æœ¬ä¾‹ä¸­é€šè¿‡ <code>git svn</code> å¯¼å…¥çš„è¿œç¨‹å¼•ç”¨ï¼Œï¼ˆSubversion çš„ï¼‰æ ‡ç­¾æ˜¯å½“ä½œè¿œç¨‹åˆ†æ”¯æ·»åŠ çš„ï¼Œè€Œä¸æ˜¯çœŸæ­£çš„ Git æ ‡ç­¾ã€‚å¯¼å…¥çš„ Subversion ä»“åº“ä»¿ä½›æ˜¯æœ‰ä¸€ä¸ªå¸¦æœ‰ä¸åŒåˆ†æ”¯çš„ tags è¿œç¨‹æœåŠ¡å™¨ã€‚</p>
<h3 id="æäº¤åˆ°-Subversion"><a href="#æäº¤åˆ°-Subversion" class="headerlink" title="æäº¤åˆ° Subversion"></a>æäº¤åˆ° Subversion</h3><p>æœ‰äº†å¯ä»¥å¼€å±•å·¥ä½œçš„ï¼ˆæœ¬åœ°ï¼‰ä»“åº“ä»¥åï¼Œä½ å¯ä»¥å¼€å§‹å¯¹è¯¥é¡¹ç›®åšå‡ºè´¡çŒ®å¹¶å‘ä¸Šæ¸¸ä»“åº“æäº¤å†…å®¹äº†ï¼ŒGit è¿™æ—¶ç›¸å½“äºä¸€ä¸ª SVN å®¢æˆ·ç«¯ã€‚å‡å¦‚ç¼–è¾‘äº†ä¸€ä¸ªæ–‡ä»¶å¹¶è¿›è¡Œæäº¤ï¼Œé‚£ä¹ˆè¿™æ¬¡æäº¤ä»…å­˜åœ¨äºæœ¬åœ°çš„ Git è€Œé Subversion æœåŠ¡å™¨ä¸Šã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git commit -am &#x27;Adding git-svn instructions to the README&#x27;</span><br><span class="line">[master 97031e5] Adding git-svn instructions to the README</span><br><span class="line"> 1 files changed, 1 insertions(+), 1 deletions(-)</span><br></pre></td></tr></table></figure>

<p>æ¥ä¸‹æ¥ï¼Œå¯ä»¥å°†ä½œå‡ºçš„ä¿®æ”¹æ¨é€åˆ°ä¸Šæ¸¸ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒSubversion çš„ä½¿ç”¨æµç¨‹ä¹Ÿå› æ­¤æ”¹å˜äº†â€”â€”ä½ å¯ä»¥åœ¨ç¦»çº¿çŠ¶æ€ä¸‹è¿›è¡Œå¤šæ¬¡æäº¤ç„¶åä¸€æ¬¡æ€§çš„æ¨é€åˆ° Subversion çš„æœåŠ¡å™¨ä¸Šã€‚å‘ Subversion æœåŠ¡å™¨æ¨é€çš„å‘½ä»¤æ˜¯ <code>git svn dcommit</code>ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ git svn dcommit</span><br><span class="line">Committing to file:///tmp/test-svn/trunk ...</span><br><span class="line">       M      README.txt</span><br><span class="line">Committed r79</span><br><span class="line">       M      README.txt</span><br><span class="line">r79 = 938b1a547c2cc92033b74d32030e86468294a5c8 (trunk)</span><br><span class="line">No changes between current HEAD and refs/remotes/trunk</span><br><span class="line">Resetting to the latest refs/remotes/trunk</span><br></pre></td></tr></table></figure>

<p>æ‰€æœ‰åœ¨åŸ Subversion æ•°æ®åŸºç¡€ä¸Šæäº¤çš„ commit ä¼šä¸€ä¸€æäº¤åˆ° Subversionï¼Œç„¶åä½ æœ¬åœ° Git çš„ commit å°†è¢«é‡å†™ï¼ŒåŠ å…¥ä¸€ä¸ªç‰¹åˆ«æ ‡è¯†ã€‚è¿™ä¸€æ­¥å¾ˆé‡è¦ï¼Œå› ä¸ºå®ƒæ„å‘³ç€æ‰€æœ‰ commit çš„ SHA-1 æŒ‡éƒ½ä¼šå‘ç”Ÿå˜åŒ–ã€‚è¿™ä¹Ÿæ˜¯åŒæ—¶ä½¿ç”¨ Git å’Œ Subversion ä¸¤ç§æœåŠ¡ä½œä¸ºè¿œç¨‹æœåŠ¡ä¸æ˜¯ä¸ªå¥½ä¸»æ„çš„åŸå› ä¹‹ä¸€ã€‚æ£€è§†ä»¥ä¸‹æœ€åä¸€ä¸ª commitï¼Œä½ ä¼šæ‰¾åˆ°æ–°æ·»åŠ çš„ <code>git-svn-id</code> ï¼ˆè¯‘æ³¨ï¼šå³æœ¬æ®µå¼€å¤´æ‰€è¯´çš„ç‰¹åˆ«æ ‡è¯†ï¼‰ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ git log -1</span><br><span class="line">commit 938b1a547c2cc92033b74d32030e86468294a5c8</span><br><span class="line">Author: schacon &lt;schacon@4c93b258-373f-11de-be05-5f7a86268029&gt;</span><br><span class="line">Date:   Sat May 2 22:06:44 2009 +0000</span><br><span class="line"></span><br><span class="line">    Adding git-svn instructions to the README</span><br><span class="line"></span><br><span class="line">    git-svn-id: file:///tmp/test-svn/trunk@79 4c93b258-373f-11de-be05-5f7a86268029</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„çœ‹ï¼ŒåŸæœ¬ä»¥ <code>97031e5</code> å¼€å¤´çš„ SHA-1 æ ¡éªŒå€¼åœ¨æäº¤å®Œæˆä»¥åå˜æˆäº† <code>938b1a5</code> ã€‚å¦‚æœæ—¢è¦å‘ Git è¿œç¨‹æœåŠ¡å™¨æ¨é€å†…å®¹ï¼Œåˆè¦æ¨é€åˆ° Subversion è¿œç¨‹æœåŠ¡å™¨ï¼Œåˆ™å¿…é¡»å…ˆå‘ Subversion æ¨é€ï¼ˆ<code>dcommit</code>ï¼‰ï¼Œå› ä¸ºè¯¥æ“ä½œä¼šæ”¹å˜æ‰€æäº¤çš„æ•°æ®å†…å®¹ã€‚</p>
<h3 id="æ‹‰å–æœ€æ–°è¿›å±•"><a href="#æ‹‰å–æœ€æ–°è¿›å±•" class="headerlink" title="æ‹‰å–æœ€æ–°è¿›å±•"></a>æ‹‰å–æœ€æ–°è¿›å±•</h3><p>å¦‚æœè¦ä¸å…¶ä»–å¼€å‘è€…åä½œï¼Œæ€»æœ‰é‚£ä¹ˆä¸€å¤©ä½ æ¨é€å®Œæ¯•ä¹‹åï¼Œå…¶ä»–äººå‘ç°ä»–ä»¬æ¨é€è‡ªå·±ä¿®æ”¹çš„æ—¶å€™ï¼ˆä¸ä½ æ¨é€çš„å†…å®¹ï¼‰äº§ç”Ÿå†²çªã€‚è¿™äº›ä¿®æ”¹åœ¨ä½ åˆå¹¶ä¹‹å‰å°†ä¸€ç›´è¢«æ‹’ç»ã€‚åœ¨ <code>git svn</code> é‡Œè¿™ç§æƒ…å†µå½¢ä¼¼ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ git svn dcommit</span><br><span class="line">Committing to file:///tmp/test-svn/trunk ...</span><br><span class="line">Merge conflict during commit: Your file or directory &#x27;README.txt&#x27; is probably \</span><br><span class="line">out-of-date: resource out of date; try updating at /Users/schacon/libexec/git-\</span><br><span class="line">core/git-svn line 482</span><br></pre></td></tr></table></figure>

<p>ä¸ºäº†è§£å†³è¯¥é—®é¢˜ï¼Œå¯ä»¥è¿è¡Œ <code>git svn rebase</code> ï¼Œå®ƒä¼šæ‹‰å–æœåŠ¡å™¨ä¸Šæ‰€æœ‰æœ€æ–°çš„æ”¹å˜ï¼Œå†æ¬¡åŸºç¡€ä¸Šè¡åˆä½ çš„ä¿®æ”¹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ git svn rebase</span><br><span class="line">       M      README.txt</span><br><span class="line">r80 = ff829ab914e8775c7c025d741beb3d523ee30bc4 (trunk)</span><br><span class="line">First, rewinding head to replay your work on top of it...</span><br><span class="line">Applying: first user change</span><br></pre></td></tr></table></figure>

<p>ç°åœ¨ï¼Œä½ åšå‡ºçš„ä¿®æ”¹éƒ½å‘ç”Ÿåœ¨æœåŠ¡å™¨å†…å®¹ä¹‹åï¼Œæ‰€ä»¥å¯ä»¥é¡ºåˆ©çš„è¿è¡Œ <code>dcommit</code> ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ git svn dcommit</span><br><span class="line">Committing to file:///tmp/test-svn/trunk ...</span><br><span class="line">       M      README.txt</span><br><span class="line">Committed r81</span><br><span class="line">       M      README.txt</span><br><span class="line">r81 = 456cbe6337abe49154db70106d1836bc1332deed (trunk)</span><br><span class="line">No changes between current HEAD and refs/remotes/trunk</span><br><span class="line">Resetting to the latest refs/remotes/trunk</span><br></pre></td></tr></table></figure>

<p>éœ€è¦ç‰¢è®°çš„ä¸€ç‚¹æ˜¯ï¼ŒGit è¦æ±‚æˆ‘ä»¬åœ¨æ¨é€ä¹‹å‰å…ˆåˆå¹¶ä¸Šæ¸¸ä»“åº“ä¸­æœ€æ–°çš„å†…å®¹ï¼Œè€Œ <code>git svn</code> åªè¦æ±‚å­˜åœ¨å†²çªçš„æ—¶å€™æ‰è¿™æ ·åšã€‚å‡å¦‚æœ‰äººå‘ä¸€ä¸ªæ–‡ä»¶æ¨é€äº†ä¸€äº›ä¿®æ”¹ï¼Œè¿™æ—¶ä½ è¦å‘å¦ä¸€ä¸ªæ–‡ä»¶æ¨é€ä¸€äº›ä¿®æ”¹ï¼Œé‚£ä¹ˆ <code>dcommit</code> å°†æ­£å¸¸å·¥ä½œï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">$ git svn dcommit</span><br><span class="line">Committing to file:///tmp/test-svn/trunk ...</span><br><span class="line">       M      configure.ac</span><br><span class="line">Committed r84</span><br><span class="line">       M      autogen.sh</span><br><span class="line">r83 = 8aa54a74d452f82eee10076ab2584c1fc424853b (trunk)</span><br><span class="line">       M      configure.ac</span><br><span class="line">r84 = cdbac939211ccb18aa744e581e46563af5d962d0 (trunk)</span><br><span class="line">W: d2f23b80f67aaaa1f6f5aaef48fce3263ac71a92 and refs/remotes/trunk differ, \</span><br><span class="line">  using rebase:</span><br><span class="line">:100755 100755 efa5a59965fbbb5b2b0a12890f1b351bb5493c18 \</span><br><span class="line">  015e4c98c482f0fa71e4d5434338014530b37fa6 M   autogen.sh</span><br><span class="line">First, rewinding head to replay your work on top of it...</span><br><span class="line">Nothing to do.</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸€ç‚¹éœ€è¦ç‰¢è®°ï¼Œå› ä¸ºå®ƒçš„ç»“æœæ˜¯æ¨é€ä¹‹åé¡¹ç›®å¤„äºä¸€ä¸ªä¸å®Œæ•´å­˜åœ¨ä¸ä»»ä½•ä¸»æœºä¸Šçš„çŠ¶æ€ã€‚å¦‚æœåšå‡ºçš„ä¿®æ”¹æ— æ³•å…¼å®¹ä½†æ²¡æœ‰äº§ç”Ÿå†²çªï¼Œåˆ™å¯èƒ½é€ æˆä¸€äº›å¾ˆéš¾ç¡®è¯Šçš„éš¾é¢˜ã€‚è¿™å’Œä½¿ç”¨ Git æœåŠ¡å™¨æ˜¯ä¸åŒçš„â€”â€”åœ¨ Git ä¸–ç•Œé‡Œï¼Œå‘å¸ƒä¹‹å‰ï¼Œä½ å¯ä»¥åœ¨å®¢æˆ·ç«¯ç³»ç»Ÿé‡Œå®Œæ•´çš„æµ‹è¯•é¡¹ç›®çš„çŠ¶æ€ï¼Œè€Œåœ¨ SVN æ°¸è¿œéƒ½æ²¡æ³•ç¡®ä¿æäº¤å‰åé¡¹ç›®çš„çŠ¶æ€å®Œå…¨ä¸€æ ·ã€‚</p>
<p>å³ä½¿è¿˜æ²¡æ‰“ç®—è¿›è¡Œæäº¤ï¼Œä½ ä¹Ÿåº”è¯¥ç”¨è¿™ä¸ªå‘½ä»¤ä» Subversion æœåŠ¡å™¨æ‹‰å–æœ€æ–°ä¿®æ”¹ã€‚<code>sit svn fetch</code> èƒ½è·å–æœ€æ–°çš„æ•°æ®ï¼Œä¸è¿‡ <code>git svn rebase</code> æ‰ä¼šåœ¨è·å–ä¹‹ååœ¨æœ¬åœ°è¿›è¡Œæ›´æ–° ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ git svn rebase</span><br><span class="line">       M      generate_descriptor_proto.sh</span><br><span class="line">r82 = bd16df9173e424c6f52c337ab6efa7f7643282f1 (trunk)</span><br><span class="line">First, rewinding head to replay your work on top of it...</span><br><span class="line">Fast-forwarded master to refs/remotes/trunk.</span><br></pre></td></tr></table></figure>

<p>ä¸æ—¶åœ°è¿è¡Œä¸€ä¸‹ <code>git svn rebase</code> å¯ä»¥ç¡®ä¿ä½ çš„ä»£ç æ²¡æœ‰è¿‡æ—¶ã€‚ä¸è¿‡ï¼Œè¿è¡Œè¯¥å‘½ä»¤æ—¶éœ€è¦ç¡®ä¿å·¥ä½œç›®å½•çš„æ•´æ´ã€‚å¦‚æœåœ¨æœ¬åœ°åšäº†ä¿®æ”¹ï¼Œåˆ™å¿…é¡»åœ¨è¿è¡Œ <code>git svn rebase</code> ä¹‹å‰æˆ–æš‚å­˜å·¥ä½œï¼Œæˆ–æš‚æ—¶æäº¤å†…å®¹â€”â€”å¦åˆ™ï¼Œè¯¥å‘½ä»¤ä¼šå‘ç°è¡åˆçš„ç»“æœåŒ…å«ç€å†²çªå› è€Œç»ˆæ­¢ã€‚</p>
<h3 id="Git-åˆ†æ”¯é—®é¢˜"><a href="#Git-åˆ†æ”¯é—®é¢˜" class="headerlink" title="Git åˆ†æ”¯é—®é¢˜"></a>Git åˆ†æ”¯é—®é¢˜</h3><p>ä¹ æƒ¯äº† Git çš„å·¥ä½œæµç¨‹ä»¥åï¼Œä½ å¯èƒ½ä¼šåˆ›å»ºä¸€äº›ç‰¹æ€§åˆ†æ”¯ï¼Œå®Œæˆç›¸å…³çš„å¼€å‘å·¥ä½œï¼Œç„¶ååˆå¹¶ä»–ä»¬ã€‚å¦‚æœè¦ç”¨ <code>git svn</code> å‘ Subversion æ¨é€å†…å®¹ï¼Œé‚£ä¹ˆæœ€å¥½æ˜¯æ¯æ¬¡ç”¨è¡åˆæ¥å¹¶å…¥ä¸€ä¸ªå•ä¸€åˆ†æ”¯ï¼Œè€Œä¸æ˜¯ç›´æ¥åˆå¹¶ã€‚ä½¿ç”¨è¡åˆçš„åŸå› æ˜¯ Subversion åªæœ‰ä¸€ä¸ªçº¿æ€§çš„å†å²è€Œä¸åƒ Git é‚£æ ·å¤„ç†åˆå¹¶ï¼Œæ‰€ä»¥ <code>git svn</code> åœ¨æŠŠå¿«ç…§è½¬æ¢ä¸º Subversion çš„ commit æ—¶åªèƒ½åŒ…å«ç¬¬ä¸€ä¸ªç¥–å…ˆã€‚</p>
<p>å‡è®¾åˆ†æ”¯å†å²å¦‚ä¸‹ï¼šåˆ›å»ºä¸€ä¸ª <code>experiment</code> åˆ†æ”¯ï¼Œè¿›è¡Œä¸¤æ¬¡æäº¤ï¼Œç„¶ååˆå¹¶åˆ° <code>master</code> ã€‚åœ¨ <code>dcommit</code> çš„æ—¶å€™ä¼šå¾—åˆ°å¦‚ä¸‹è¾“å‡ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">$ git svn dcommit</span><br><span class="line">Committing to file:///tmp/test-svn/trunk ...</span><br><span class="line">       M      CHANGES.txt</span><br><span class="line">Committed r85</span><br><span class="line">       M      CHANGES.txt</span><br><span class="line">r85 = 4bfebeec434d156c36f2bcd18f4e3d97dc3269a2 (trunk)</span><br><span class="line">No changes between current HEAD and refs/remotes/trunk</span><br><span class="line">Resetting to the latest refs/remotes/trunk</span><br><span class="line">COPYING.txt: locally modified</span><br><span class="line">INSTALL.txt: locally modified</span><br><span class="line">       M      COPYING.txt</span><br><span class="line">       M      INSTALL.txt</span><br><span class="line">Committed r86</span><br><span class="line">       M      INSTALL.txt</span><br><span class="line">       M      COPYING.txt</span><br><span class="line">r86 = 2647f6b86ccfcaad4ec58c520e369ec81f7c283c (trunk)</span><br><span class="line">No changes between current HEAD and refs/remotes/trunk</span><br><span class="line">Resetting to the latest refs/remotes/trunk</span><br></pre></td></tr></table></figure>

<p>åœ¨ä¸€ä¸ªåŒ…å«äº†åˆå¹¶å†å²çš„åˆ†æ”¯ä¸Šä½¿ç”¨ <code>dcommit</code> å¯ä»¥æˆåŠŸè¿è¡Œï¼Œä¸è¿‡åœ¨ Git é¡¹ç›®çš„å†å²ä¸­ï¼Œå®ƒæ²¡æœ‰é‡å†™ä½ åœ¨ <code>experiment</code> åˆ†æ”¯ä¸­çš„ä¸¤ä¸ª commit â€”â€”å¦ä¸€æ–¹é¢ï¼Œè¿™äº›æ”¹å˜å´å‡ºç°åœ¨äº† SVN ç‰ˆæœ¬ä¸­åŒä¸€ä¸ªåˆå¹¶ commit ä¸­ã€‚</p>
<p>åœ¨åˆ«äººå…‹éš†è¯¥é¡¹ç›®çš„æ—¶å€™ï¼Œåªèƒ½çœ‹åˆ°è¿™ä¸ªåˆå¹¶ commit åŒ…å«äº†æ‰€æœ‰å‘ç”Ÿè¿‡çš„ä¿®æ”¹ï¼›ä»–ä»¬æ— æ³•è·çŸ¥ä¿®æ”¹çš„ä½œè€…å’Œæ—¶é—´ç­‰æäº¤ä¿¡æ¯ã€‚</p>
<h3 id="Subversion-åˆ†æ”¯"><a href="#Subversion-åˆ†æ”¯" class="headerlink" title="Subversion åˆ†æ”¯"></a>Subversion åˆ†æ”¯</h3><p>Subversion çš„åˆ†æ”¯å’Œ Git ä¸­çš„ä¸å°½ç›¸åŒï¼›é¿å…è¿‡å¤šçš„ä½¿ç”¨å¯èƒ½æ˜¯æœ€å¥½æ–¹æ¡ˆã€‚ä¸è¿‡ï¼Œç”¨ <code>git svn</code> åˆ›å»ºå’Œæäº¤ä¸åŒçš„ Subversion åˆ†æ”¯ä»æ˜¯å¯è¡Œçš„ã€‚</p>
<h4 id="åˆ›å»ºæ–°çš„-SVN-åˆ†æ”¯"><a href="#åˆ›å»ºæ–°çš„-SVN-åˆ†æ”¯" class="headerlink" title="åˆ›å»ºæ–°çš„ SVN åˆ†æ”¯"></a>åˆ›å»ºæ–°çš„ SVN åˆ†æ”¯</h4><p>è¦åœ¨ Subversion ä¸­å»ºç«‹ä¸€ä¸ªæ–°åˆ†æ”¯ï¼Œéœ€è¦è¿è¡Œ <code>git svn branch [åˆ†æ”¯å]</code> ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ git svn branch opera</span><br><span class="line">Copying file:///tmp/test-svn/trunk at r87 to file:///tmp/test-svn/branches/opera...</span><br><span class="line">Found possible branch point: file:///tmp/test-svn/trunk =&gt; \</span><br><span class="line">  file:///tmp/test-svn/branches/opera, 87</span><br><span class="line">Found branch parent: (opera) 1f6bfe471083cbca06ac8d4176f7ad4de0d62e5f</span><br><span class="line">Following parent with do_switch</span><br><span class="line">Successfully followed parent</span><br><span class="line">r89 = 9b6fe0b90c5c9adf9165f700897518dbc54a7cbf (opera)</span><br></pre></td></tr></table></figure>

<p>è¿™ç›¸å½“äºåœ¨ Subversion ä¸­çš„ <code>svn copy trunk branches/opera</code> å‘½ä»¤ï¼Œå¹¶ä¼šå¯¹ Subversion æœåŠ¡å™¨è¿›è¡Œç›¸å…³æ“ä½œã€‚å€¼å¾—æ³¨æ„çš„æ˜¯å®ƒæ²¡æœ‰æ£€å‡ºå’Œè½¬æ¢åˆ°é‚£ä¸ªåˆ†æ”¯ï¼›å¦‚æœç°åœ¨è¿›è¡Œæäº¤ï¼Œå°†æäº¤åˆ°æœåŠ¡å™¨ä¸Šçš„ <code>trunk</code>ï¼Œ è€Œé <code>opera</code>ã€‚</p>
<h3 id="åˆ‡æ¢å½“å‰åˆ†æ”¯"><a href="#åˆ‡æ¢å½“å‰åˆ†æ”¯" class="headerlink" title="åˆ‡æ¢å½“å‰åˆ†æ”¯"></a>åˆ‡æ¢å½“å‰åˆ†æ”¯</h3><p>Git é€šè¿‡æœå¯»æäº¤å†å²ä¸­ Subversion åˆ†æ”¯çš„å¤´éƒ¨æ¥å†³å®š dcommit çš„ç›®çš„åœ°â€”â€”è€Œå®ƒåº”è¯¥åªæœ‰ä¸€ä¸ªï¼Œé‚£å°±æ˜¯å½“å‰åˆ†æ”¯å†å²ä¸­æœ€è¿‘ä¸€æ¬¡åŒ…å« <code>git-svn-id</code> çš„æäº¤ã€‚</p>
<p>å¦‚æœéœ€è¦åŒæ—¶åœ¨å¤šä¸ªåˆ†æ”¯ä¸Šæäº¤ï¼Œå¯ä»¥é€šè¿‡å¯¼å…¥ Subversion ä¸ŠæŸä¸ªå…¶ä»–åˆ†æ”¯çš„ commit æ¥å»ºç«‹ä»¥è¯¥åˆ†æ”¯ä¸º <code>dcommit</code> ç›®çš„åœ°çš„æœ¬åœ°åˆ†æ”¯ã€‚æ¯”å¦‚ä½ æƒ³æ‹¥æœ‰ä¸€ä¸ªå¹¶è¡Œç»´æŠ¤çš„ <code>opera</code> åˆ†æ”¯ï¼Œå¯ä»¥è¿è¡Œ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git branch opera remotes/opera</span><br></pre></td></tr></table></figure>

<p>ç„¶åï¼Œå¦‚æœè¦æŠŠ <code>opera</code> åˆ†æ”¯å¹¶å…¥ <code>trunk</code> ï¼ˆæœ¬åœ°çš„ <code>master</code> åˆ†æ”¯ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨æ™®é€šçš„ <code>git merge</code>ã€‚ä¸è¿‡æœ€å¥½æä¾›ä¸€æ¡æè¿°æäº¤çš„ä¿¡æ¯ï¼ˆé€šè¿‡ <code>-m</code>ï¼‰ï¼Œå¦åˆ™è¿™æ¬¡åˆå¹¶çš„è®°å½•æ˜¯ <code>Merge branch opera</code> ï¼Œè€Œä¸æ˜¯ä»»ä½•æœ‰ç”¨çš„ä¸œè¥¿ã€‚</p>
<p>è®°ä½ï¼Œè™½ç„¶ä½¿ç”¨äº† <code>git merge</code> æ¥è¿›è¡Œè¿™æ¬¡æ“ä½œï¼Œå¹¶ä¸”åˆå¹¶è¿‡ç¨‹å¯èƒ½æ¯”ä½¿ç”¨ Subversion ç®€å•ä¸€äº›ï¼ˆå› ä¸º Git ä¼šè‡ªåŠ¨æ‰¾åˆ°é€‚åˆçš„åˆå¹¶åŸºç¡€ï¼‰ï¼Œè¿™å¹¶ä¸æ˜¯ä¸€æ¬¡æ™®é€šçš„ Git åˆå¹¶æäº¤ã€‚æœ€ç»ˆå®ƒå°†è¢«æ¨é€å› commit æ— æ³•åŒ…å«å¤šä¸ªç¥–å…ˆçš„ Subversion æœåŠ¡å™¨ä¸Šï¼›å› è€Œåœ¨æ¨é€ä¹‹åï¼Œå®ƒå°†å˜æˆä¸€ä¸ªåŒ…å«äº†æ‰€æœ‰åœ¨å…¶ä»–åˆ†æ”¯ä¸Šåšå‡ºçš„æ”¹å˜çš„å•ä¸€ commitã€‚æŠŠä¸€ä¸ªåˆ†æ”¯åˆå¹¶åˆ°å¦ä¸€ä¸ªåˆ†æ”¯ä»¥åï¼Œä½ æ²¡æ³•åƒåœ¨ Git ä¸­é‚£æ ·è½»æ˜“çš„å›åˆ°é‚£ä¸ªåˆ†æ”¯ä¸Šç»§ç»­å·¥ä½œã€‚æäº¤æ—¶è¿è¡Œçš„ <code>dcommit</code> å‘½ä»¤æ“¦é™¤äº†å…¨éƒ¨æœ‰å…³å“ªä¸ªåˆ†æ”¯è¢«å¹¶å…¥çš„ä¿¡æ¯ï¼Œå› è€Œä»¥åçš„åˆå¹¶åŸºç¡€è®¡ç®—å°†æ˜¯ä¸æ­£ç¡®çš„â€”â€” dcommit è®© <code>git merge</code> çš„ç»“æœå˜å¾—ç±»ä¼¼äº <code>git merge --squash</code>ã€‚ä¸å¹¸çš„æ˜¯ï¼Œæˆ‘ä»¬æ²¡æœ‰ä»€ä¹ˆå¥½åŠæ³•æ¥é¿å…è¯¥æƒ…å†µâ€”â€” Subversion æ— æ³•å‚¨å­˜è¿™ä¸ªä¿¡æ¯ï¼Œæ‰€ä»¥åœ¨ä½¿ç”¨å®ƒä½œä¸ºæœåŠ¡å™¨çš„æ—¶å€™ä½ å°†æ°¸è¿œä¸ºè¿™ä¸ªç¼ºé™·æ‰€å›°ã€‚ä¸ºäº†ä¸å‡ºç°è¿™ç§é—®é¢˜ï¼Œåœ¨æŠŠæœ¬åœ°åˆ†æ”¯ï¼ˆæœ¬ä¾‹ä¸­çš„ <code>opera</code>ï¼‰å¹¶å…¥ trunk ä»¥ååº”è¯¥ç«‹å³å°†å…¶åˆ é™¤ã€‚</p>
<h3 id="å¯¹åº”-Subversion-çš„å‘½ä»¤"><a href="#å¯¹åº”-Subversion-çš„å‘½ä»¤" class="headerlink" title="å¯¹åº” Subversion çš„å‘½ä»¤"></a>å¯¹åº” Subversion çš„å‘½ä»¤</h3><p><code>git svn</code> å·¥å…·é›†åˆäº†è‹¥å¹²ä¸ªä¸ Subversion ç±»ä¼¼çš„åŠŸèƒ½ï¼Œå¯¹åº”çš„å‘½ä»¤å¯ä»¥ç®€åŒ–å‘ Git çš„è½¬åŒ–è¿‡ç¨‹ã€‚ä¸‹é¢è¿™äº›å‘½ä»¤èƒ½å®ç° Subversion çš„è¿™äº›åŠŸèƒ½ã€‚</p>
<h4 id="SVN-é£æ ¼çš„å†å²"><a href="#SVN-é£æ ¼çš„å†å²" class="headerlink" title="SVN é£æ ¼çš„å†å²"></a>SVN é£æ ¼çš„å†å²</h4><p>ä¹ æƒ¯äº† Subversion çš„äººå¯èƒ½æƒ³ä»¥ SVN çš„é£æ ¼æ˜¾ç¤ºå†å²ï¼Œè¿è¡Œ <code>git svn log</code> å¯ä»¥è®©æäº¤å†å²æ˜¾ç¤ºä¸º SVN æ ¼å¼ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">$ git svn log</span><br><span class="line">------------------------------------------------------------------------</span><br><span class="line">r87 | schacon | 2009-05-02 16:07:37 -0700 (Sat, 02 May 2009) | 2 lines</span><br><span class="line"></span><br><span class="line">autogen change</span><br><span class="line"></span><br><span class="line">------------------------------------------------------------------------</span><br><span class="line">r86 | schacon | 2009-05-02 16:00:21 -0700 (Sat, 02 May 2009) | 2 lines</span><br><span class="line"></span><br><span class="line">Merge branch &#x27;experiment&#x27;</span><br><span class="line"></span><br><span class="line">------------------------------------------------------------------------</span><br><span class="line">r85 | schacon | 2009-05-02 16:00:09 -0700 (Sat, 02 May 2009) | 2 lines</span><br><span class="line"></span><br><span class="line">updated the changelog</span><br></pre></td></tr></table></figure>

<p>å…³äº <code>git svn log</code> ï¼Œæœ‰ä¸¤ç‚¹éœ€è¦æ³¨æ„ã€‚é¦–å…ˆï¼Œå®ƒå¯ä»¥ç¦»çº¿å·¥ä½œï¼Œä¸åƒ <code>svn log</code> å‘½ä»¤ï¼Œéœ€è¦å‘ Subversion æœåŠ¡å™¨ç´¢å–æ•°æ®ã€‚å…¶æ¬¡ï¼Œå®ƒä»…ä»…æ˜¾ç¤ºå·²ç»æäº¤åˆ° Subversion æœåŠ¡å™¨ä¸Šçš„ commitã€‚åœ¨æœ¬åœ°å°šæœª dcommit çš„ Git æ•°æ®ä¸ä¼šå‡ºç°åœ¨è¿™é‡Œï¼›å…¶ä»–äººå‘ Subversion æœåŠ¡å™¨æ–°æäº¤çš„æ•°æ®ä¹Ÿä¸ä¼šæ˜¾ç¤ºã€‚ç­‰äºè¯´æ˜¯æ˜¾ç¤ºäº†æœ€è¿‘å·²çŸ¥ Subversion æœåŠ¡å™¨ä¸Šçš„çŠ¶æ€ã€‚</p>
<h4 id="SVN-æ—¥å¿—"><a href="#SVN-æ—¥å¿—" class="headerlink" title="SVN æ—¥å¿—"></a>SVN æ—¥å¿—</h4><p>ç±»ä¼¼ <code>git svn log</code> å¯¹ <code>git log</code> çš„æ¨¡æ‹Ÿï¼Œ<code>svn annotate</code> çš„ç­‰æ•ˆå‘½ä»¤æ˜¯ <code>git svn blame [æ–‡ä»¶å]</code>ã€‚å…¶è¾“å‡ºå¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$ git svn blame README.txt</span><br><span class="line"> 2   temporal Protocol Buffers - Google&#x27;s data interchange format</span><br><span class="line"> 2   temporal Copyright 2008 Google Inc.</span><br><span class="line"> 2   temporal http://code.google.com/apis/protocolbuffers/</span><br><span class="line"> 2   temporal</span><br><span class="line">22   temporal C++ Installation - Unix</span><br><span class="line">22   temporal =======================</span><br><span class="line"> 2   temporal</span><br><span class="line">79    schacon Committing in git-svn.</span><br><span class="line">78    schacon</span><br><span class="line"> 2   temporal To build and install the C++ Protocol Buffer runtime and the Protocol</span><br><span class="line"> 2   temporal Buffer compiler (protoc) execute the following:</span><br><span class="line"> 2   temporal</span><br></pre></td></tr></table></figure>

<p>åŒæ ·ï¼Œå®ƒä¸æ˜¾ç¤ºæœ¬åœ°çš„ Git æäº¤ä»¥åŠ Subversion ä¸Šåæ¥æ›´æ–°çš„å†…å®¹ã€‚</p>
<h4 id="SVN-æœåŠ¡å™¨ä¿¡æ¯"><a href="#SVN-æœåŠ¡å™¨ä¿¡æ¯" class="headerlink" title="SVN æœåŠ¡å™¨ä¿¡æ¯"></a>SVN æœåŠ¡å™¨ä¿¡æ¯</h4><p>è¿˜å¯ä»¥ä½¿ç”¨ <code>git svn info</code> æ¥è·å–ä¸è¿è¡Œ <code>svn info</code> ç±»ä¼¼çš„ä¿¡æ¯ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ git svn info</span><br><span class="line">Path: .</span><br><span class="line">URL: https://schacon-test.googlecode.com/svn/trunk</span><br><span class="line">Repository Root: https://schacon-test.googlecode.com/svn</span><br><span class="line">Repository UUID: 4c93b258-373f-11de-be05-5f7a86268029</span><br><span class="line">Revision: 87</span><br><span class="line">Node Kind: directory</span><br><span class="line">Schedule: normal</span><br><span class="line">Last Changed Author: schacon</span><br><span class="line">Last Changed Rev: 87</span><br><span class="line">Last Changed Date: 2009-05-02 16:07:37 -0700 (Sat, 02 May 2009)</span><br></pre></td></tr></table></figure>

<p>å®ƒä¸ <code>blame</code> å’Œ <code>log</code> çš„ç›¸åŒç‚¹åœ¨äºç¦»çº¿è¿è¡Œä»¥åŠåªæ›´æ–°åˆ°æœ€åä¸€æ¬¡ä¸ Subversion æœåŠ¡å™¨é€šä¿¡çš„çŠ¶æ€ã€‚</p>
<h4 id="ç•¥-Subversion-ä¹‹æ‰€ç•¥"><a href="#ç•¥-Subversion-ä¹‹æ‰€ç•¥" class="headerlink" title="ç•¥ Subversion ä¹‹æ‰€ç•¥"></a>ç•¥ Subversion ä¹‹æ‰€ç•¥</h4><p>å‡å¦‚å…‹éš†äº†ä¸€ä¸ªåŒ…å«äº† <code>svn:ignore</code> å±æ€§çš„ Subversion ä»“åº“ï¼Œå°±æœ‰å¿…è¦å»ºç«‹å¯¹åº”çš„ <code>.gitignore</code> æ–‡ä»¶æ¥é˜²æ­¢æ„å¤–æäº¤ä¸€äº›ä¸åº”è¯¥æäº¤çš„æ–‡ä»¶ã€‚<code>git svn</code> æœ‰ä¸¤ä¸ªæœ‰ç›Šäºæ”¹å–„è¯¥é—®é¢˜çš„å‘½ä»¤ã€‚ç¬¬ä¸€ä¸ªæ˜¯ <code>git svn create-ignore</code>ï¼Œå®ƒè‡ªåŠ¨å»ºç«‹å¯¹åº”çš„ <code>.gitignore</code> æ–‡ä»¶ï¼Œä»¥ä¾¿ä¸‹æ¬¡æäº¤çš„æ—¶å€™å¯ä»¥åŒ…å«å®ƒã€‚</p>
<p>ç¬¬äºŒä¸ªå‘½ä»¤æ˜¯ <code>git svn show-ignore</code>ï¼Œå®ƒæŠŠéœ€è¦æ”¾è¿› <code>.gitignore</code> æ–‡ä»¶ä¸­çš„å†…å®¹æ‰“å°åˆ°æ ‡å‡†è¾“å‡ºï¼Œæ–¹ä¾¿æˆ‘ä»¬æŠŠè¾“å‡ºé‡å®šå‘åˆ°é¡¹ç›®çš„é»‘åå•æ–‡ä»¶ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git svn show-ignore &gt; .git/info/exclude</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·ä¸€æ¥ï¼Œé¿å…äº† <code>.gitignore</code> å¯¹é¡¹ç›®çš„å¹²æ‰°ã€‚å¦‚æœä½ æ˜¯ä¸€ä¸ª Subversion å›¢é˜Ÿé‡Œå”¯ä¸€çš„ Git ç”¨æˆ·ï¼Œè€Œå…¶ä»–é˜Ÿå‹ä¸å–œæ¬¢é¡¹ç›®åŒ…å« <code>.gitignore</code>ï¼Œè¯¥æ–¹æ³•æ˜¯ä½ çš„ä¸äºŒä¹‹é€‰ã€‚</p>
<h3 id="Git-Svn-æ€»ç»“"><a href="#Git-Svn-æ€»ç»“" class="headerlink" title="Git-Svn æ€»ç»“"></a>Git-Svn æ€»ç»“</h3><p><code>git svn</code> å·¥å…·é›†åœ¨å½“å‰ä¸å¾—ä¸ä½¿ç”¨ Subversion æœåŠ¡å™¨æˆ–è€…å¼€å‘ç¯å¢ƒè¦æ±‚ä½¿ç”¨ Subversion æœåŠ¡å™¨çš„æ—¶å€™æ ¼å¤–æœ‰ç”¨ã€‚ä¸å¦¨æŠŠå®ƒçœ‹æˆä¸€ä¸ªè·›è„šçš„ Gitï¼Œç„¶è€Œï¼Œä½ è¿˜æ˜¯æœ‰å¯èƒ½åœ¨è½¬æ¢è¿‡ç¨‹ä¸­ç¢°åˆ°ä¸€äº›å›°æƒ‘ä½ å’Œåˆä½œè€…ä»¬çš„è¿·é¢˜ã€‚ä¸ºäº†é¿å…éº»çƒ¦ï¼Œè¯•ç€éµå®ˆå¦‚ä¸‹å®ˆåˆ™ï¼š</p>
<ul>
<li>ä¿æŒä¸€ä¸ªä¸åŒ…å«ç”± <code>git merge</code> ç”Ÿæˆçš„ commit çš„çº¿æ€§æäº¤å†å²ã€‚å°†åœ¨ä¸»çº¿åˆ†æ”¯å¤–è¿›è¡Œçš„å¼€å‘é€šé€šè¡åˆå›ä¸»çº¿ï¼›é¿å…ç›´æ¥åˆå¹¶ã€‚</li>
<li>ä¸è¦å•ç‹¬å»ºç«‹å’Œä½¿ç”¨ä¸€ä¸ª Git æœåŠ¡æ¥æåˆä½œã€‚å¯ä»¥ä¸ºäº†åŠ é€Ÿæ–°å¼€å‘è€…çš„å…‹éš†è¿›ç¨‹å»ºç«‹ä¸€ä¸ªï¼Œä½†æ˜¯ä¸è¦å‘å®ƒæä¾›ä»»ä½•ä¸åŒ…å« <code>git-svn-id</code> æ¡ç›®çš„å†…å®¹ã€‚ç”šè‡³å¯ä»¥æ·»åŠ ä¸€ä¸ª <code>pre-receive</code> æŒ‚é’©æ¥åœ¨æ¯ä¸€ä¸ªæäº¤ä¿¡æ¯ä¸­æŸ¥æ‰¾ <code>git-svn-id</code> å¹¶æ‹’ç»æäº¤é‚£äº›ä¸åŒ…å«å®ƒçš„ commitã€‚</li>
</ul>
<p>å¦‚æœéµå¾ªè¿™äº›å®ˆåˆ™ï¼Œåœ¨ Subversion ä¸Šå·¥ä½œè¿˜å¯ä»¥æ¥å—ã€‚ç„¶è€Œï¼Œå¦‚æœèƒ½è¿å¾™åˆ°çœŸæ­£çš„ Git æœåŠ¡å™¨ï¼Œåˆ™èƒ½ä¸ºå›¢é˜Ÿå¸¦æ¥æ›´å¤šå¥½å¤„ã€‚</p>
<h2 id="è¿ç§»åˆ°-Git"><a href="#è¿ç§»åˆ°-Git" class="headerlink" title="è¿ç§»åˆ° Git"></a>è¿ç§»åˆ° Git</h2><p>å¦‚æœåœ¨å…¶ä»–ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿä¸­ä¿å­˜äº†æŸé¡¹ç›®çš„ä»£ç è€Œåå†³å®šè½¬è€Œä½¿ç”¨ Gitï¼Œé‚£ä¹ˆè¯¥é¡¹ç›®å¿…é¡»ç»å†æŸç§å½¢å¼çš„è¿ç§»ã€‚æœ¬èŠ‚å°†ä»‹ç» Git ä¸­åŒ…å«çš„ä¸€äº›é’ˆå¯¹å¸¸è§ç³»ç»Ÿçš„å¯¼å…¥è„šæœ¬ï¼Œå¹¶å°†å±•ç¤ºç¼–å†™è‡ªå®šä¹‰çš„å¯¼å…¥è„šæœ¬çš„æ–¹æ³•ã€‚</p>
<h3 id="å¯¼å…¥"><a href="#å¯¼å…¥" class="headerlink" title="å¯¼å…¥"></a>å¯¼å…¥</h3><p>ä½ å°†å­¦ä¹ åˆ°å¦‚ä½•ä»ä¸“ä¸šé‡é‡çº§çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿä¸­å¯¼å…¥æ•°æ®â€”â€” Subversion å’Œ Perforce â€”â€” å› ä¸ºæ®æˆ‘æ‰€çŸ¥è¿™äºŒè€…çš„ç”¨æˆ·æ˜¯ï¼ˆå‘ Gitï¼‰è½¬æ¢çš„ä¸»è¦ç¾¤ä½“ï¼Œè€Œä¸” Git ä¸ºæ­¤äºŒè€…é™„å¸¦äº†é«˜è´¨é‡çš„è½¬æ¢å·¥å…·ã€‚</p>
<h3 id="Subversion"><a href="#Subversion" class="headerlink" title="Subversion"></a>Subversion</h3><p>è¯»è¿‡å‰ä¸€èŠ‚æœ‰å…³ <code>git svn</code> çš„å†…å®¹ä»¥åï¼Œä½ åº”è¯¥èƒ½è½»è€Œæ˜“ä¸¾çš„æ ¹æ®å…¶ä¸­çš„æŒ‡å¯¼æ¥ <code>git svn clone</code> ä¸€ä¸ªä»“åº“äº†ï¼›ç„¶åï¼Œåœæ­¢ Subversion çš„ä½¿ç”¨ï¼Œå‘ä¸€ä¸ªæ–° Git server æ¨é€ï¼Œå¹¶å¼€å§‹ä½¿ç”¨å®ƒã€‚æƒ³ä¿ç•™å†å²è®°å½•ï¼Œæ‰€èŠ±çš„æ—¶é—´åº”è¯¥ä¸è¿‡å°±æ˜¯ä» Subversion æœåŠ¡å™¨æ‹‰å–æ•°æ®çš„æ—¶é—´ï¼ˆå¯èƒ½è¦ç­‰ä¸Šå¥½ä¸€ä¼šå°±æ˜¯äº†ï¼‰ã€‚</p>
<p>ç„¶è€Œï¼Œè¿™æ ·çš„å¯¼å…¥å¹¶ä¸å®Œç¾ï¼›è€Œä¸”è¿˜è¦èŠ±é‚£ä¹ˆå¤šæ—¶é—´ï¼Œä¸å¦‚å¹²è„†ä¸€æ¬¡æŠŠå®ƒåšå¯¹ï¼é¦–å½“å…¶å†²çš„ä»»åŠ¡æ˜¯ä½œè€…ä¿¡æ¯ã€‚åœ¨ Subversionï¼Œæ¯ä¸ªæäº¤è€…åœ¨éƒ½åœ¨ä¸»æœºä¸Šæœ‰ä¸€ä¸ªç”¨æˆ·åï¼Œè®°å½•åœ¨æäº¤ä¿¡æ¯ä¸­ã€‚ä¸ŠèŠ‚ä¾‹å­ä¸­å¤šå¤„æ˜¾ç¤ºäº† <code>schacon</code> ï¼Œæ¯”å¦‚ <code>blame</code> çš„è¾“å‡ºä»¥åŠ <code>git svn log</code>ã€‚å¦‚æœæƒ³è®©è¿™æ¡ä¿¡æ¯æ›´å¥½çš„æ˜ å°„åˆ° Git ä½œè€…æ•°æ®é‡Œï¼Œåˆ™éœ€è¦ ä» Subversion ç”¨æˆ·ååˆ° Git ä½œè€…çš„ä¸€ä¸ªæ˜ å°„å…³ç³»ã€‚å»ºç«‹ä¸€ä¸ªå«åš <code>user.txt</code> çš„æ–‡ä»¶ï¼Œç”¨å¦‚ä¸‹æ ¼å¼è¡¨ç¤ºæ˜ å°„å…³ç³»ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">schacon = Scott Chacon &lt;schacon@geemail.com&gt;</span><br><span class="line">selse = Someo Nelse &lt;selse@geemail.com&gt;</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡è¯¥å‘½ä»¤å¯ä»¥è·å¾— SVN ä½œè€…çš„åˆ—è¡¨ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ svn log ^/ --xml | grep -P &quot;^&lt;author&quot; | sort -u | \</span><br><span class="line">      perl -pe &#x27;s/&lt;author&gt;(.*?)&lt;\/author&gt;/$1 = /&#x27; &gt; users.txt</span><br></pre></td></tr></table></figure>

<p>å®ƒå°†è¾“å‡º XML æ ¼å¼çš„æ—¥å¿—â€”â€”ä½ å¯ä»¥æ‰¾åˆ°ä½œè€…ï¼Œå»ºç«‹ä¸€ä¸ªå•ç‹¬çš„åˆ—è¡¨ï¼Œç„¶åä» XML ä¸­æŠ½å–å‡ºéœ€è¦çš„ä¿¡æ¯ã€‚ï¼ˆæ˜¾è€Œæ˜“è§ï¼Œæœ¬æ–¹æ³•è¦æ±‚ä¸»æœºä¸Šå®‰è£…äº†<code>grep</code>ï¼Œ<code>sort</code> å’Œ <code>perl</code>.ï¼‰ç„¶åæŠŠè¾“å‡ºé‡å®šå‘åˆ° user.txt æ–‡ä»¶ï¼Œç„¶åå°±å¯ä»¥åœ¨æ¯ä¸€é¡¹çš„åé¢æ·»åŠ ç›¸åº”çš„ Git ç”¨æˆ·æ•°æ®ã€‚</p>
<p>ä¸º <code>git svn</code> æä¾›è¯¥æ–‡ä»¶å¯ä»¥ç„¶å®ƒæ›´ç²¾ç¡®çš„æ˜ å°„ä½œè€…æ•°æ®ã€‚ä½ è¿˜å¯ä»¥åœ¨ <code>clone</code> æˆ–è€… <code>init</code>åé¢æ·»åŠ  <code>--no-metadata</code> æ¥é˜»æ­¢ <code>git svn</code> åŒ…å«é‚£äº› Subversion çš„é™„åŠ ä¿¡æ¯ã€‚è¿™æ · <code>import</code> å‘½ä»¤å°±å˜æˆäº†ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git svn clone http://my-project.googlecode.com/svn/ \</span><br><span class="line">      --authors-file=users.txt --no-metadata -s my_project</span><br></pre></td></tr></table></figure>

<p>ç°åœ¨ <code>my_project</code> ç›®å½•ä¸‹å¯¼å…¥çš„ Subversion åº”è¯¥æ¯”åŸæ¥æ•´æ´å¤šäº†ã€‚åŸæ¥çš„ commit çœ‹ä¸Šå»æ˜¯è¿™æ ·ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">commit 37efa680e8473b615de980fa935944215428a35a</span><br><span class="line">Author: schacon &lt;schacon@4c93b258-373f-11de-be05-5f7a86268029&gt;</span><br><span class="line">Date:   Sun May 3 00:12:22 2009 +0000</span><br><span class="line"></span><br><span class="line">    fixed install - go to trunk</span><br><span class="line"></span><br><span class="line">    git-svn-id: https://my-project.googlecode.com/svn/trunk@94 4c93b258-373f-11de-</span><br><span class="line">    be05-5f7a86268029</span><br></pre></td></tr></table></figure>

<p>ç°åœ¨æ˜¯è¿™æ ·ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">commit 03a8785f44c8ea5cdb0e8834b7c8e6c469be2ff2</span><br><span class="line">Author: Scott Chacon &lt;schacon@geemail.com&gt;</span><br><span class="line">Date:   Sun May 3 00:12:22 2009 +0000</span><br><span class="line"></span><br><span class="line">    fixed install - go to trunk</span><br></pre></td></tr></table></figure>

<p>ä¸ä»…ä½œè€…ä¸€é¡¹å¹²å‡€äº†ä¸å°‘ï¼Œ<code>git-svn-id</code> ä¹Ÿå°±æ­¤æ¶ˆå¤±äº†ã€‚</p>
<p>ä½ è¿˜éœ€è¦ä¸€ç‚¹ <code>post-importï¼ˆå¯¼å…¥åï¼‰</code> æ¸…ç†å·¥ä½œã€‚æœ€èµ·ç çš„ï¼Œåº”è¯¥æ¸…ç†ä¸€ä¸‹ <code>git svn</code> åˆ›å»ºçš„é‚£äº›æ€ªå¼‚çš„ç´¢å¼•ç»“æ„ã€‚é¦–å…ˆè¦ç§»åŠ¨æ ‡ç­¾ï¼ŒæŠŠå®ƒä»¬ä»å¥‡æ€ªçš„è¿œç¨‹åˆ†æ”¯å˜æˆå®é™…çš„æ ‡ç­¾ï¼Œç„¶åæŠŠå‰©ä¸‹çš„åˆ†æ”¯ç§»åŠ¨åˆ°æœ¬åœ°ã€‚</p>
<p>è¦æŠŠæ ‡ç­¾å˜æˆåˆé€‚çš„ Git æ ‡ç­¾ï¼Œè¿è¡Œ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git for-each-ref refs/remotes/tags | cut -d / -f 4- | grep -v @ | while read tagname; do git tag &quot;$tagname&quot; &quot;tags/$tagname&quot;; git branch -r -d &quot;tags/$tagname&quot;; done</span><br></pre></td></tr></table></figure>

<p>è¯¥å‘½ä»¤å°†åŸæœ¬ä»¥ <code>tag/</code> å¼€å¤´çš„è¿œç¨‹åˆ†æ”¯çš„ç´¢å¼•å˜æˆçœŸæ­£çš„ï¼ˆè½»å·§çš„ï¼‰æ ‡ç­¾ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼ŒæŠŠ <code>refs/remotes</code> ä¸‹é¢å‰©ä¸‹çš„ç´¢å¼•å˜æˆæœ¬åœ°åˆ†æ”¯ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git for-each-ref refs/remotes | cut -d / -f 3- | grep -v @ | while read branchname; do git branch &quot;$branchname&quot; &quot;refs/remotes/$branchname&quot;; git branch -r -d &quot;$branchname&quot;; done</span><br></pre></td></tr></table></figure>

<p>ç°åœ¨æ‰€æœ‰çš„æ—§åˆ†æ”¯éƒ½å˜æˆçœŸæ­£çš„ Git åˆ†æ”¯ï¼Œæ‰€æœ‰çš„æ—§æ ‡ç­¾ä¹Ÿå˜æˆçœŸæ­£çš„ Git æ ‡ç­¾ã€‚æœ€åä¸€é¡¹å·¥ä½œå°±æ˜¯æŠŠæ–°å»ºçš„ Git æœåŠ¡å™¨æ·»åŠ ä¸ºè¿œç¨‹æœåŠ¡å™¨å¹¶ä¸”å‘å®ƒæ¨é€ã€‚ä¸‹é¢æ˜¯æ–°å¢è¿œç¨‹æœåŠ¡å™¨çš„ä¾‹å­ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git remote add origin git@my-git-server:myrepository.git</span><br></pre></td></tr></table></figure>

<p>ä¸ºäº†è®©æ‰€æœ‰çš„åˆ†æ”¯å’Œæ ‡ç­¾éƒ½å¾—åˆ°ä¸Šä¼ ï¼Œæˆ‘ä»¬ä½¿ç”¨è¿™æ¡å‘½ä»¤ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git push origin --all</span><br><span class="line">$ git push origin --tags</span><br></pre></td></tr></table></figure>

<p>æ‰€æœ‰çš„åˆ†æ”¯å’Œæ ‡ç­¾ç°åœ¨éƒ½åº”è¯¥æ•´é½å¹²å‡€çš„èººåœ¨æ–°çš„ Git æœåŠ¡å™¨é‡Œäº†ã€‚</p>
<h3 id="Perforce"><a href="#Perforce" class="headerlink" title="Perforce"></a>Perforce</h3><p>ä½ å°†äº†è§£åˆ°çš„ä¸‹ä¸€ä¸ªè¢«å¯¼å…¥çš„ç³»ç»Ÿæ˜¯ Perforce. Git å‘è¡Œçš„æ—¶å€™åŒæ—¶ä¹Ÿé™„å¸¦äº†ä¸€ä¸ª Perforce å¯¼å…¥è„šæœ¬ï¼Œä¸è¿‡å®ƒæ˜¯åŒ…å«åœ¨æºç çš„ <code>contrib</code> éƒ¨åˆ†â€”â€”è€Œä¸åƒ <code>git svn</code> é‚£æ ·é»˜è®¤å¯ç”¨ã€‚è¿è¡Œå®ƒä¹‹å‰å¿…é¡»è·å– Git çš„æºç ï¼Œå¯ä»¥åœ¨ git.kernel.org ä¸‹è½½ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git clone git://git.kernel.org/pub/scm/git/git.git</span><br><span class="line">$ cd git/contrib/fast-import</span><br></pre></td></tr></table></figure>

<p>åœ¨è¿™ä¸ª <code>fast-import</code> ç›®å½•ä¸‹ï¼Œåº”è¯¥æœ‰ä¸€ä¸ªå«åš <code>git-p4</code> çš„ Python å¯æ‰§è¡Œè„šæœ¬ã€‚ä¸»æœºä¸Šå¿…é¡»è£…æœ‰ Python å’Œ <code>p4</code> å·¥å…·è¯¥å¯¼å…¥æ‰èƒ½æ­£å¸¸è¿›è¡Œã€‚ä¾‹å¦‚ï¼Œä½ è¦ä» Perforce å…¬å…±ä»£ç ä»“åº“ï¼ˆè¯‘æ³¨ï¼š Perforce Public Depotï¼ŒPerforce å®˜æ–¹æä¾›çš„ä»£ç å¯„å­˜æœåŠ¡ï¼‰å¯¼å…¥ Jam å·¥ç¨‹ã€‚ä¸ºäº†è®¾å®šå®¢æˆ·ç«¯ï¼Œæˆ‘ä»¬è¦æŠŠ P4PORT ç¯å¢ƒå˜é‡ export åˆ° Perforce ä»“åº“ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ export P4PORT=public.perforce.com:1666</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œ <code>git-p4 clone</code> å‘½ä»¤å°†ä» Perforce æœåŠ¡å™¨å¯¼å…¥ Jam é¡¹ç›®ï¼Œæˆ‘ä»¬éœ€è¦ç»™å‡ºä»“åº“å’Œé¡¹ç›®çš„è·¯å¾„ä»¥åŠå¯¼å…¥çš„ç›®æ ‡è·¯å¾„ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ git-p4 clone //public/jam/src@all /opt/p4import</span><br><span class="line">Importing from //public/jam/src@all into /opt/p4import</span><br><span class="line">Reinitialized existing Git repository in /opt/p4import/.git/</span><br><span class="line">Import destination: refs/remotes/p4/master</span><br><span class="line">Importing revision 4409 (100%)</span><br></pre></td></tr></table></figure>

<p>ç°åœ¨å» <code>/opt/p4import</code> ç›®å½•è¿è¡Œä¸€ä¸‹ <code>git log</code> ï¼Œå°±èƒ½çœ‹åˆ°å¯¼å…¥çš„æˆæœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">$ git log -2</span><br><span class="line">commit 1fd4ec126171790efd2db83548b85b1bbbc07dc2</span><br><span class="line">Author: Perforce staff &lt;support@perforce.com&gt;</span><br><span class="line">Date:   Thu Aug 19 10:18:45 2004 -0800</span><br><span class="line"></span><br><span class="line">    Drop &#x27;rc3&#x27; moniker of jam-2.5.  Folded rc2 and rc3 RELNOTES into</span><br><span class="line">    the main part of the document.  Built new tar/zip balls.</span><br><span class="line"></span><br><span class="line">    Only 16 months later.</span><br><span class="line"></span><br><span class="line">    [git-p4: depot-paths = &quot;//public/jam/src/&quot;: change = 4409]</span><br><span class="line"></span><br><span class="line">commit ca8870db541a23ed867f38847eda65bf4363371d</span><br><span class="line">Author: Richard Geiger &lt;rmg@perforce.com&gt;</span><br><span class="line">Date:   Tue Apr 22 20:51:34 2003 -0800</span><br><span class="line"></span><br><span class="line">    Update derived jamgram.c</span><br><span class="line"></span><br><span class="line">    [git-p4: depot-paths = &quot;//public/jam/src/&quot;: change = 3108]</span><br></pre></td></tr></table></figure>

<p>æ¯ä¸€ä¸ª commit é‡Œéƒ½æœ‰ä¸€ä¸ª <code>git-p4</code> æ ‡è¯†ç¬¦ã€‚è¿™ä¸ªæ ‡è¯†ç¬¦å¯ä»¥ä¿ç•™ï¼Œä»¥é˜²ä»¥åéœ€è¦å¼•ç”¨ Perforce çš„ä¿®æ”¹ç‰ˆæœ¬å·ã€‚ç„¶è€Œï¼Œå¦‚æœæƒ³åˆ é™¤è¿™äº›æ ‡è¯†ç¬¦ï¼Œç°åœ¨æ­£æ˜¯æ—¶å€™â€”â€”åœ¨å¼€å¯æ–°ä»“åº“ä¹‹å‰ã€‚å¯ä»¥é€šè¿‡ <code>git filter-branch</code> æ¥æ‰¹é‡åˆ é™¤è¿™äº›æ ‡è¯†ç¬¦ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ git filter-branch --msg-filter &#x27;</span><br><span class="line">        sed -e &quot;/^\[git-p4:/d&quot;</span><br><span class="line">&#x27;</span><br><span class="line">Rewrite 1fd4ec126171790efd2db83548b85b1bbbc07dc2 (123/123)</span><br><span class="line">Ref &#x27;refs/heads/master&#x27; was rewritten</span><br></pre></td></tr></table></figure>

<p>ç°åœ¨è¿è¡Œä¸€ä¸‹ <code>git log</code>ï¼Œä½ ä¼šå‘ç°è¿™äº› commit çš„ SHA-1 æ ¡éªŒå€¼éƒ½å‘ç”Ÿäº†æ”¹å˜ï¼Œè€Œé‚£äº› <code>git-p4</code> å­—ä¸²åˆ™ä»æäº¤ä¿¡æ¯é‡Œæ¶ˆå¤±äº†ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">$ git log -2</span><br><span class="line">commit 10a16d60cffca14d454a15c6164378f4082bc5b0</span><br><span class="line">Author: Perforce staff &lt;support@perforce.com&gt;</span><br><span class="line">Date:   Thu Aug 19 10:18:45 2004 -0800</span><br><span class="line"></span><br><span class="line">    Drop &#x27;rc3&#x27; moniker of jam-2.5.  Folded rc2 and rc3 RELNOTES into</span><br><span class="line">    the main part of the document.  Built new tar/zip balls.</span><br><span class="line"></span><br><span class="line">    Only 16 months later.</span><br><span class="line"></span><br><span class="line">commit 2b6c6db311dd76c34c66ec1c40a49405e6b527b2</span><br><span class="line">Author: Richard Geiger &lt;rmg@perforce.com&gt;</span><br><span class="line">Date:   Tue Apr 22 20:51:34 2003 -0800</span><br><span class="line"></span><br><span class="line">    Update derived jamgram.c</span><br></pre></td></tr></table></figure>

<p>è‡³æ­¤å¯¼å…¥å·²ç»å®Œæˆï¼Œå¯ä»¥å¼€å§‹å‘æ–°çš„ Git æœåŠ¡å™¨æ¨é€äº†ã€‚</p>
<h3 id="è‡ªå®šå¯¼å…¥è„šæœ¬"><a href="#è‡ªå®šå¯¼å…¥è„šæœ¬" class="headerlink" title="è‡ªå®šå¯¼å…¥è„šæœ¬"></a>è‡ªå®šå¯¼å…¥è„šæœ¬</h3><p>å¦‚æœå…ˆå‰çš„ç³»ç»Ÿä¸æ˜¯ Subversion æˆ– Perforce ä¹‹ä¸€ï¼Œå…ˆä¸Šç½‘æ‰¾ä¸€ä¸‹æœ‰æ²¡æœ‰ä¸ä¹‹å¯¹åº”çš„å¯¼å…¥è„šæœ¬â€”â€”å¯¼å…¥ CVSï¼ŒClear Caseï¼ŒVisual Source Safeï¼Œç”šè‡³å­˜æ¡£ç›®å½•çš„å¯¼å…¥è„šæœ¬å·²ç»å­˜åœ¨ã€‚å‡å¦‚è¿™äº›å·¥å…·éƒ½ä¸é€‚ç”¨ï¼Œæˆ–è€…ä½¿ç”¨çš„å·¥å…·å¾ˆå°‘è§ï¼ŒæŠ‘æˆ–ä½ éœ€è¦å¯¼å…¥è¿‡ç¨‹å…·æœ‰æ›´å¤šå¯åˆ¶å®šæ€§ï¼Œåˆ™åº”è¯¥ä½¿ç”¨ <code>git fast-import</code>ã€‚è¯¥å‘½ä»¤ä»æ ‡å‡†è¾“å…¥è¯»å–ç®€å•çš„æŒ‡ä»¤æ¥å†™å…¥å…·ä½“çš„ Git æ•°æ®ã€‚è¿™æ ·åˆ›å»º Git å¯¹è±¡æ¯”è¿è¡Œçº¯ Git å‘½ä»¤æˆ–è€…æ‰‹åŠ¨å†™å¯¹è±¡è¦ç®€å•çš„å¤šï¼ˆæ›´å¤šç›¸å…³å†…å®¹è§ç¬¬ä¹ç« ï¼‰ã€‚é€šè¿‡å®ƒï¼Œä½ å¯ä»¥ç¼–å†™ä¸€ä¸ªå¯¼å…¥è„šæœ¬æ¥ä»å¯¼å…¥æºè¯»å–å¿…è¦çš„ä¿¡æ¯ï¼ŒåŒæ—¶åœ¨æ ‡å‡†è¾“å‡ºç›´æ¥è¾“å‡ºç›¸å…³æŒ‡ç¤ºã€‚ä½ å¯ä»¥è¿è¡Œè¯¥è„šæœ¬å¹¶æŠŠå®ƒçš„è¾“å‡ºç®¡é“è¿æ¥åˆ° <code>git fast-import</code>ã€‚</p>
<p>ä¸‹é¢æ¼”ç¤ºä¸€ä¸‹å¦‚ä½•ç¼–å†™ä¸€ä¸ªç®€å•çš„å¯¼å…¥è„šæœ¬ã€‚å‡è®¾ä½ åœ¨è¿›è¡Œä¸€é¡¹å·¥ä½œï¼Œå¹¶ä¸”æŒ‰æ—¶é€šè¿‡æŠŠå·¥ä½œç›®å½•å¤åˆ¶ä¸ºä»¥æ—¶é—´æˆ³ <code>back_YY_MM_DD</code> å‘½åçš„ç›®å½•æ¥è¿›è¡Œå¤‡ä»½ï¼Œç°åœ¨ä½ éœ€è¦æŠŠå®ƒä»¬å¯¼å…¥ Git ã€‚ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ ls /opt/import_from</span><br><span class="line">back_2009_01_02</span><br><span class="line">back_2009_01_04</span><br><span class="line">back_2009_01_14</span><br><span class="line">back_2009_02_03</span><br><span class="line">current</span><br></pre></td></tr></table></figure>

<p>ä¸ºäº†å¯¼å…¥åˆ°ä¸€ä¸ª Git ç›®å½•ï¼Œæˆ‘ä»¬é¦–å…ˆå›é¡¾ä¸€ä¸‹ Git å‚¨å­˜æ•°æ®çš„æ–¹å¼ã€‚ä½ å¯èƒ½è¿˜è®°å¾—ï¼ŒGit æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ª commit å¯¹è±¡çš„é“¾è¡¨ï¼Œæ¯ä¸€ä¸ªå¯¹è±¡æŒ‡å‘ä¸€ä¸ªå†…å®¹çš„å¿«ç…§ã€‚è€Œè¿™é‡Œéœ€è¦åšçš„å·¥ä½œå°±æ˜¯å‘Šè¯‰ <code>fast-import</code> å†…å®¹å¿«ç…§çš„ä½ç½®ï¼Œä»€ä¹ˆæ ·çš„ commit æ•°æ®æŒ‡å‘å®ƒä»¬ï¼Œä»¥åŠå®ƒä»¬çš„é¡ºåºã€‚æˆ‘ä»¬é‡‡å–ä¸€æ¬¡å¤„ç†ä¸€ä¸ªå¿«ç…§çš„ç­–ç•¥ï¼Œä¸ºæ¯ä¸€ä¸ªå†…å®¹ç›®å½•å»ºç«‹å¯¹åº”çš„ commit ï¼Œæ¯ä¸€ä¸ª commit ä¸ä¹‹å‰çš„å»ºç«‹é“¾æ¥ã€‚</p>
<p>æ­£å¦‚åœ¨ç¬¬ä¸ƒç«  â€œGit æ‰§è¡Œç­–ç•¥ä¸€ä¾‹â€ ä¸€èŠ‚ä¸­ä¸€æ ·ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ Ruby æ¥ç¼–å†™è¿™ä¸ªè„šæœ¬ï¼Œå› ä¸ºå®ƒæ˜¯æˆ‘æ—¥å¸¸ä½¿ç”¨çš„è¯­è¨€è€Œä¸”é˜…è¯»èµ·æ¥ç®€å•ä¸€äº›ã€‚ä½ å¯ä»¥ç”¨ä»»ä½•å…¶ä»–ç†Ÿæ‚‰çš„è¯­è¨€æ¥é‡å†™è¿™ä¸ªä¾‹å­â€”â€”å®ƒä»…éœ€è¦æŠŠå¿…è¦çš„ä¿¡æ¯æ‰“å°åˆ°æ ‡å‡†è¾“å‡ºè€Œå·²ã€‚åŒæ—¶ï¼Œå¦‚æœä½ åœ¨ä½¿ç”¨ Windowsï¼Œè¿™æ„å‘³ç€ä½ è¦ç‰¹åˆ«ç•™æ„ä¸è¦åœ¨æ¢è¡Œçš„æ—¶å€™å¼•å…¥å›è½¦ç¬¦ï¼ˆè¯‘æ³¨ï¼šcarriage returnsï¼ŒWindows æ¢è¡Œæ—¶åŠ å…¥çš„ç¬¦å·ï¼Œé€šå¸¸è¯´çš„ <code>\r</code> ï¼‰â€”â€” <code>git fast-import</code> å¯¹ä»…ä½¿ç”¨æ¢è¡Œç¬¦ï¼ˆLFï¼‰è€Œé Windows çš„å›è½¦ç¬¦ï¼ˆCRLFï¼‰è¦æ±‚éå¸¸ä¸¥æ ¼ã€‚</p>
<p>é¦–å…ˆï¼Œè¿›å…¥ç›®æ ‡ç›®å½•å¹¶ä¸”æ‰¾åˆ°æ‰€æœ‰å­ç›®å½•ï¼Œæ¯ä¸€ä¸ªå­ç›®å½•å°†ä½œä¸ºä¸€ä¸ªå¿«ç…§è¢«å¯¼å…¥ä¸ºä¸€ä¸ª commitã€‚æˆ‘ä»¬å°†ä¾æ¬¡è¿›å…¥æ¯ä¸€ä¸ªå­ç›®å½•å¹¶æ‰“å°æ‰€éœ€çš„å‘½ä»¤æ¥å¯¼å‡ºå®ƒä»¬ã€‚è„šæœ¬çš„ä¸»å¾ªç¯å¤§è‡´æ˜¯è¿™æ ·ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">last_mark = nil</span><br><span class="line"></span><br><span class="line"># å¾ªç¯éå†æ‰€æœ‰ç›®å½•</span><br><span class="line">Dir.chdir(ARGV[0]) do</span><br><span class="line">  Dir.glob(&quot;*&quot;).each do |dir|</span><br><span class="line">    next if File.file?(dir)</span><br><span class="line"></span><br><span class="line">    # è¿›å…¥ç›®æ ‡ç›®å½•</span><br><span class="line">    Dir.chdir(dir) do</span><br><span class="line">      last_mark = print_export(dir, last_mark)</span><br><span class="line">    end</span><br><span class="line">  end</span><br><span class="line">end</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬åœ¨æ¯ä¸€ä¸ªç›®å½•é‡Œè¿è¡Œ <code>print_export</code> ï¼Œå®ƒä¼šå–å‡ºä¸Šä¸€ä¸ªå¿«ç…§çš„ç´¢å¼•å’Œæ ‡è®°å¹¶è¿”å›æœ¬æ¬¡å¿«ç…§çš„ç´¢å¼•å’Œæ ‡è®°ï¼›ç”±æ­¤æˆ‘ä»¬å°±å¯ä»¥æ­£ç¡®çš„æŠŠäºŒè€…è¿æ¥èµ·æ¥ã€‚â€æ ‡è®°ï¼ˆmarkï¼‰â€ æ˜¯ <code>fast-import</code> ä¸­å¯¹ commit æ ‡è¯†ç¬¦çš„å«æ³•ï¼›åœ¨åˆ›å»º commit çš„åŒæ—¶ï¼Œæˆ‘ä»¬é€ä¸€èµ‹äºˆä¸€ä¸ªæ ‡è®°ä»¥ä¾¿ä»¥ååœ¨æŠŠå®ƒè¿æ¥åˆ°å…¶ä»– commit æ—¶ä½¿ç”¨ã€‚å› æ­¤ï¼Œåœ¨ <code>print_export</code> æ–¹æ³•ä¸­è¦åšçš„ç¬¬ä¸€ä»¶äº‹å°±æ˜¯æ ¹æ®ç›®å½•åç”Ÿæˆä¸€ä¸ªæ ‡è®°ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mark = convert_dir_to_mark(dir)</span><br></pre></td></tr></table></figure>

<p>å®ç°è¯¥å‡½æ•°çš„æ–¹æ³•æ˜¯å»ºç«‹ä¸€ä¸ªç›®å½•çš„æ•°ç»„åºåˆ—å¹¶ä½¿ç”¨æ•°ç»„çš„ç´¢å¼•å€¼ä½œä¸ºæ ‡è®°ï¼Œå› ä¸ºæ ‡è®°å¿…é¡»æ˜¯ä¸€ä¸ªæ•´æ•°ã€‚è¿™ä¸ªæ–¹æ³•å¤§è‡´æ˜¯è¿™æ ·çš„ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$marks = []</span><br><span class="line">def convert_dir_to_mark(dir)</span><br><span class="line">  if !$marks.include?(dir)</span><br><span class="line">    $marks &lt;&lt; dir</span><br><span class="line">  end</span><br><span class="line">  ($marks.index(dir) + 1).to_s</span><br><span class="line">end</span><br></pre></td></tr></table></figure>

<p>æœ‰äº†æ•´æ•°æ¥ä»£è¡¨æ¯ä¸ª commitï¼Œæˆ‘ä»¬ç°åœ¨éœ€è¦æäº¤é™„åŠ ä¿¡æ¯ä¸­çš„æ—¥æœŸã€‚ç”±äºæ—¥æœŸæ˜¯ç”¨ç›®å½•åè¡¨ç¤ºçš„ï¼Œæˆ‘ä»¬å°±ä»ä¸­è§£æå‡ºæ¥ã€‚<code>print_export</code> æ–‡ä»¶çš„ä¸‹ä¸€è¡Œå°†æ˜¯ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">date = convert_dir_to_date(dir)</span><br></pre></td></tr></table></figure>

<p>è€Œ <code>convert_dir_to_date</code> åˆ™å®šä¹‰ä¸º</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">def convert_dir_to_date(dir)</span><br><span class="line">  if dir == &#x27;current&#x27;</span><br><span class="line">    return Time.now().to_i</span><br><span class="line">  else</span><br><span class="line">    dir = dir.gsub(&#x27;back_&#x27;, &#x27;&#x27;)</span><br><span class="line">    (year, month, day) = dir.split(&#x27;_&#x27;)</span><br><span class="line">    return Time.local(year, month, day).to_i</span><br><span class="line">  end</span><br><span class="line">end</span><br></pre></td></tr></table></figure>

<p>å®ƒä¸ºæ¯ä¸ªç›®å½•è¿”å›ä¸€ä¸ªæ•´å‹å€¼ã€‚æäº¤é™„åŠ ä¿¡æ¯é‡Œæœ€åä¸€é¡¹æ‰€éœ€çš„æ˜¯æäº¤è€…æ•°æ®ï¼Œæˆ‘ä»¬åœ¨ä¸€ä¸ªå…¨å±€å˜é‡ä¸­ç›´æ¥å®šä¹‰ä¹‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$author = &#x27;Scott Chacon &lt;schacon@example.com&gt;&#x27;</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å·®ä¸å¤šå¯ä»¥å¼€å§‹ä¸ºå¯¼å…¥è„šæœ¬è¾“å‡ºæäº¤æ•°æ®äº†ã€‚ç¬¬ä¸€é¡¹ä¿¡æ¯æŒ‡æ˜æˆ‘ä»¬å®šä¹‰çš„æ˜¯ä¸€ä¸ª commit å¯¹è±¡ä»¥åŠå®ƒæ‰€åœ¨çš„åˆ†æ”¯ï¼Œéšåæ˜¯æˆ‘ä»¬ç”Ÿæˆçš„æ ‡è®°ï¼Œæäº¤è€…ä¿¡æ¯ä»¥åŠæäº¤å¤‡æ³¨ï¼Œç„¶åæ˜¯å‰ä¸€ä¸ª commit çš„ç´¢å¼•ï¼Œå¦‚æœæœ‰çš„è¯ã€‚ä»£ç å¤§è‡´è¿™æ ·ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># æ‰“å°å¯¼å…¥æ‰€éœ€çš„ä¿¡æ¯</span><br><span class="line">puts &#x27;commit refs/heads/master&#x27;</span><br><span class="line">puts &#x27;mark :&#x27; + mark</span><br><span class="line">puts &quot;committer #&#123;$author&#125; #&#123;date&#125; -0700&quot;</span><br><span class="line">export_data(&#x27;imported from &#x27; + dir)</span><br><span class="line">puts &#x27;from :&#x27; + last_mark if last_mark</span><br></pre></td></tr></table></figure>

<p>æ—¶åŒºï¼ˆ-0700ï¼‰å¤„äºç®€åŒ–ç›®çš„ä½¿ç”¨ç¡¬ç¼–ç ã€‚å¦‚æœæ˜¯ä»å…¶ä»–ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿå¯¼å…¥ï¼Œåˆ™å¿…é¡»ä»¥å˜é‡çš„å½¢å¼æŒ‡æ˜æ—¶åŒºã€‚ æäº¤å¤‡æ³¨å¿…é¡»ä»¥ç‰¹å®šæ ¼å¼ç»™å‡ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data (size)\n(contents)</span><br></pre></td></tr></table></figure>

<p>è¯¥æ ¼å¼åŒ…å«äº†å•è¯ dataï¼Œæ‰€è¯»å–æ•°æ®çš„å¤§å°ï¼Œä¸€ä¸ªæ¢è¡Œç¬¦ï¼Œæœ€åæ˜¯æ•°æ®æœ¬èº«ã€‚ç”±äºéšåæŒ‡æ˜æ–‡ä»¶å†…å®¹çš„æ—¶å€™è¦ç”¨åˆ°ç›¸åŒçš„æ ¼å¼ï¼Œæˆ‘ä»¬å†™ä¸€ä¸ªè¾…åŠ©æ–¹æ³•ï¼Œ<code>export_data</code>ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">def export_data(string)</span><br><span class="line">  print &quot;data #&#123;string.size&#125;\n#&#123;string&#125;&quot;</span><br><span class="line">end</span><br></pre></td></tr></table></figure>

<p>å”¯ä¸€å‰©ä¸‹çš„å°±æ˜¯æ¯ä¸€ä¸ªå¿«ç…§çš„å†…å®¹äº†ã€‚è¿™ç®€å•çš„å¾ˆï¼Œå› ä¸ºå®ƒä»¬åˆ†åˆ«å¤„äºä¸€ä¸ªç›®å½•â€”â€”ä½ å¯ä»¥è¾“å‡º <code>deleeall</code> å‘½ä»¤ï¼Œéšåæ˜¯ç›®å½•ä¸­æ¯ä¸ªæ–‡ä»¶çš„å†…å®¹ã€‚Git ä¼šæ­£ç¡®çš„è®°å½•æ¯ä¸€ä¸ªå¿«ç…§ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">puts &#x27;deleteall&#x27;</span><br><span class="line">Dir.glob(&quot;**/*&quot;).each do |file|</span><br><span class="line">  next if !File.file?(file)</span><br><span class="line">  inline_data(file)</span><br><span class="line">end</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼šç”±äºå¾ˆå¤šç³»ç»ŸæŠŠæ¯æ¬¡ä¿®è®¢çœ‹ä½œä¸€ä¸ª commit åˆ°å¦ä¸€ä¸ª commit çš„å˜åŒ–é‡ï¼Œfast-import ä¹Ÿå¯ä»¥ä¾æ®æ¯æ¬¡æäº¤è·å–ä¸€ä¸ªå‘½ä»¤æ¥æŒ‡å‡ºå“ªäº›æ–‡ä»¶è¢«æ·»åŠ ï¼Œåˆ é™¤æˆ–è€…ä¿®æ”¹è¿‡ï¼Œä»¥åŠä¿®æ”¹çš„å†…å®¹ã€‚æˆ‘ä»¬å°†éœ€è¦è®¡ç®—å¿«ç…§ä¹‹é—´çš„å·®åˆ«å¹¶ä¸”ä»…ä»…ç»™å‡ºè¿™é¡¹æ•°æ®ï¼Œä¸è¿‡è¯¥åšæ³•è¦å¤æ‚å¾ˆå¤šâ€”â€”è¿˜å¦‚ä¸ç›´æ¥æŠŠæ‰€æœ‰æ•°æ®ä¸¢ç»™ Git ç„¶å®ƒè‡ªå·±ææ¸…æ¥šã€‚å‡å¦‚å‰é¢è¿™ä¸ªæ–¹æ³•æ›´é€‚ç”¨äºä½ çš„æ•°æ®ï¼Œå‚è€ƒ <code>fast-import</code> çš„ man å¸®åŠ©é¡µé¢æ¥äº†è§£å¦‚ä½•ä»¥è¿™ç§æ–¹å¼æä¾›æ•°æ®ã€‚</p>
<p>åˆ—ä¸¾æ–°æ–‡ä»¶å†…å®¹æˆ–è€…æŒ‡æ˜å¸¦æœ‰æ–°å†…å®¹çš„å·²ä¿®æ”¹æ–‡ä»¶çš„æ ¼å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">M 644 inline path/to/file</span><br><span class="line">data (size)</span><br><span class="line">(file contents)</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œï¼Œ644 æ˜¯æƒé™æ¨¡å¼ï¼ˆåŠ å…¥æœ‰å¯æ‰§è¡Œæ–‡ä»¶ï¼Œåˆ™éœ€è¦æ¢æµ‹ä¹‹å¹¶è®¾å®šä¸º 755ï¼‰ï¼Œè€Œ inline è¯´æ˜æˆ‘ä»¬åœ¨æœ¬è¡Œç»“æŸä¹‹åç«‹å³åˆ—å‡ºæ–‡ä»¶çš„å†…å®¹ã€‚æˆ‘ä»¬çš„ <code>inline_data</code> æ–¹æ³•å¤§è‡´æ˜¯ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">def inline_data(file, code = &#x27;M&#x27;, mode = &#x27;644&#x27;)</span><br><span class="line">  content = File.read(file)</span><br><span class="line">  puts &quot;#&#123;code&#125; #&#123;mode&#125; inline #&#123;file&#125;&quot;</span><br><span class="line">  export_data(content)</span><br><span class="line">end</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬é‡ç”¨äº†å‰é¢å®šä¹‰è¿‡çš„ <code>export_data</code>ï¼Œå› ä¸ºè¿™é‡Œå’ŒæŒ‡æ˜æäº¤æ³¨é‡Šçš„æ ¼å¼å¦‚å‡ºä¸€è¾™ã€‚</p>
<p>æœ€åä¸€é¡¹å·¥ä½œæ˜¯è¿”å›å½“å‰çš„æ ‡è®°ä»¥ä¾¿ä¸‹æ¬¡å¾ªç¯çš„ä½¿ç”¨ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">return mark</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼šå¦‚æœä½ åœ¨ç”¨ Windowsï¼Œä¸€å®šè®°å¾—æ·»åŠ ä¸€é¡¹é¢å¤–çš„æ­¥éª¤ã€‚å‰é¢æè¿‡ï¼ŒWindows ä½¿ç”¨ CRLF ä½œä¸ºæ¢è¡Œå­—ç¬¦è€Œ <code>git fast-import</code> åªæ¥å— LFã€‚ä¸ºäº†ç»•å¼€è¿™ä¸ªé—®é¢˜æ¥æ»¡è¶³ <code>git fast-import</code>ï¼Œä½ éœ€è¦è®© ruby ç”¨ LF å–ä»£ CRLFï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$stdout.binmode</span><br></pre></td></tr></table></figure>

<p>æå®šäº†ã€‚ç°åœ¨è¿è¡Œè¯¥è„šæœ¬ï¼Œä½ å°†å¾—åˆ°å¦‚ä¸‹å†…å®¹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">$ ruby import.rb /opt/import_from</span><br><span class="line">commit refs/heads/master</span><br><span class="line">mark :1</span><br><span class="line">committer Scott Chacon &lt;schacon@geemail.com&gt; 1230883200 -0700</span><br><span class="line">data 29</span><br><span class="line">imported from back_2009_01_02deleteall</span><br><span class="line">M 644 inline file.rb</span><br><span class="line">data 12</span><br><span class="line">version two</span><br><span class="line">commit refs/heads/master</span><br><span class="line">mark :2</span><br><span class="line">committer Scott Chacon &lt;schacon@geemail.com&gt; 1231056000 -0700</span><br><span class="line">data 29</span><br><span class="line">imported from back_2009_01_04from :1</span><br><span class="line">deleteall</span><br><span class="line">M 644 inline file.rb</span><br><span class="line">data 14</span><br><span class="line">version three</span><br><span class="line">M 644 inline new.rb</span><br><span class="line">data 16</span><br><span class="line">new version one</span><br><span class="line">(...)</span><br></pre></td></tr></table></figure>

<p>è¦è¿è¡Œå¯¼å…¥è„šæœ¬ï¼Œåœ¨éœ€è¦å¯¼å…¥çš„ç›®å½•æŠŠè¯¥å†…å®¹ç”¨ç®¡é“å®šå‘åˆ° <code>git fast-import</code>ã€‚ä½ å¯ä»¥å»ºç«‹ä¸€ä¸ªç©ºç›®å½•ç„¶åè¿è¡Œ <code>git init</code> ä½œä¸ºå¼€å¤´ï¼Œç„¶åè¿è¡Œè¯¥è„šæœ¬ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">$ git init</span><br><span class="line">Initialized empty Git repository in /opt/import_to/.git/</span><br><span class="line">$ ruby import.rb /opt/import_from | git fast-import</span><br><span class="line">git-fast-import statistics:</span><br><span class="line">---------------------------------------------------------------------</span><br><span class="line">Alloc&#x27;d objects:       5000</span><br><span class="line">Total objects:           18 (         1 duplicates                  )</span><br><span class="line">      blobs  :            7 (         1 duplicates          0 deltas)</span><br><span class="line">      trees  :            6 (         0 duplicates          1 deltas)</span><br><span class="line">      commits:            5 (         0 duplicates          0 deltas)</span><br><span class="line">      tags   :            0 (         0 duplicates          0 deltas)</span><br><span class="line">Total branches:           1 (         1 loads     )</span><br><span class="line">      marks:           1024 (         5 unique    )</span><br><span class="line">      atoms:              3</span><br><span class="line">Memory total:          2255 KiB</span><br><span class="line">       pools:          2098 KiB</span><br><span class="line">     objects:           156 KiB</span><br><span class="line">---------------------------------------------------------------------</span><br><span class="line">pack_report: getpagesize()            =       4096</span><br><span class="line">pack_report: core.packedGitWindowSize =   33554432</span><br><span class="line">pack_report: core.packedGitLimit      =  268435456</span><br><span class="line">pack_report: pack_used_ctr            =          9</span><br><span class="line">pack_report: pack_mmap_calls          =          5</span><br><span class="line">pack_report: pack_open_windows        =          1 /          1</span><br><span class="line">pack_report: pack_mapped              =       1356 /       1356</span><br><span class="line">---------------------------------------------------------------------</span><br></pre></td></tr></table></figure>

<p>ä½ ä¼šå‘ç°ï¼Œåœ¨å®ƒæˆåŠŸæ‰§è¡Œå®Œæ¯•ä»¥åï¼Œä¼šç»™å‡ºä¸€å †æœ‰å…³å·²å®Œæˆå·¥ä½œçš„æ•°æ®ã€‚ä¸Šä¾‹åœ¨ä¸€ä¸ªåˆ†æ”¯å¯¼å…¥äº†5æ¬¡æäº¤æ•°æ®ï¼ŒåŒ…å«äº†18ä¸ªå¯¹è±¡ã€‚ç°åœ¨å¯ä»¥è¿è¡Œ <code>git log</code> æ¥æ£€è§†æ–°çš„å†å²ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$ git log -2</span><br><span class="line">commit 10bfe7d22ce15ee25b60a824c8982157ca593d41</span><br><span class="line">Author: Scott Chacon &lt;schacon@example.com&gt;</span><br><span class="line">Date:   Sun May 3 12:57:39 2009 -0700</span><br><span class="line"></span><br><span class="line">    imported from current</span><br><span class="line"></span><br><span class="line">commit 7e519590de754d079dd73b44d695a42c9d2df452</span><br><span class="line">Author: Scott Chacon &lt;schacon@example.com&gt;</span><br><span class="line">Date:   Tue Feb 3 01:00:00 2009 -0700</span><br><span class="line"></span><br><span class="line">    imported from back_2009_02_03</span><br></pre></td></tr></table></figure>

<p>å°±å®ƒäº†â€”â€”ä¸€ä¸ªå¹²å‡€æ•´æ´çš„ Git ä»“åº“ã€‚éœ€è¦æ³¨æ„çš„æ˜¯æ­¤æ—¶æ²¡æœ‰ä»»ä½•å†…å®¹è¢«æ£€å‡ºâ€”â€”åˆšå¼€å§‹å½“å‰ç›®å½•é‡Œæ²¡æœ‰ä»»ä½•æ–‡ä»¶ã€‚è¦è·å–å®ƒä»¬ï¼Œä½ å¾—è½¬åˆ° <code>master</code> åˆ†æ”¯çš„æ‰€åœ¨ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ ls</span><br><span class="line">$ git reset --hard master</span><br><span class="line">HEAD is now at 10bfe7d imported from current</span><br><span class="line">$ ls</span><br><span class="line">file.rb  lib</span><br></pre></td></tr></table></figure>

<p><code>fast-import</code> è¿˜å¯ä»¥åšæ›´å¤šâ€”â€”å¤„ç†ä¸åŒçš„æ–‡ä»¶æ¨¡å¼ï¼ŒäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå¤šé‡åˆ†æ”¯ä¸åˆå¹¶ï¼Œæ ‡ç­¾ï¼Œè¿›å±•æ ‡è¯†ç­‰ç­‰ã€‚ä¸€äº›æ›´åŠ å¤æ‚çš„å®ä¾‹å¯ä»¥åœ¨ Git æºç çš„ <code>contib/fast-import</code> ç›®å½•é‡Œæ‰¾åˆ°ï¼›å…¶ä¸­è¾ƒä¸ºå‡ºä¼—çš„æ˜¯å‰é¢æè¿‡çš„ <code>git-p4</code> è„šæœ¬ã€‚</p>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/git/" rel="tag"># git</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2021/08/23/git/git-git%E5%B7%A5%E5%85%B7/" rel="prev" title="git-gitå·¥å…·">
      <i class="fa fa-chevron-left"></i> git-gitå·¥å…·
    </a></div>
      <div class="post-nav-item">
    <a href="/2021/08/23/git/git-%E5%86%85%E9%83%A8%E5%8E%9F%E7%90%86/" rel="next" title="git-å†…éƒ¨åŸç†">
      git-å†…éƒ¨åŸç† <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Git-%E4%B8%8E-Subversion"><span class="nav-number">1.</span> <span class="nav-text">Git ä¸ Subversion</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#git-svn"><span class="nav-number">1.1.</span> <span class="nav-text">git svn</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%9D%E5%A7%8B%E8%AE%BE%E5%AE%9A"><span class="nav-number">1.2.</span> <span class="nav-text">åˆå§‹è®¾å®š</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%A5%E9%97%A8"><span class="nav-number">1.3.</span> <span class="nav-text">å…¥é—¨</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8F%90%E4%BA%A4%E5%88%B0-Subversion"><span class="nav-number">1.4.</span> <span class="nav-text">æäº¤åˆ° Subversion</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8B%89%E5%8F%96%E6%9C%80%E6%96%B0%E8%BF%9B%E5%B1%95"><span class="nav-number">1.5.</span> <span class="nav-text">æ‹‰å–æœ€æ–°è¿›å±•</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Git-%E5%88%86%E6%94%AF%E9%97%AE%E9%A2%98"><span class="nav-number">1.6.</span> <span class="nav-text">Git åˆ†æ”¯é—®é¢˜</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Subversion-%E5%88%86%E6%94%AF"><span class="nav-number">1.7.</span> <span class="nav-text">Subversion åˆ†æ”¯</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E6%96%B0%E7%9A%84-SVN-%E5%88%86%E6%94%AF"><span class="nav-number">1.7.1.</span> <span class="nav-text">åˆ›å»ºæ–°çš„ SVN åˆ†æ”¯</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%87%E6%8D%A2%E5%BD%93%E5%89%8D%E5%88%86%E6%94%AF"><span class="nav-number">1.8.</span> <span class="nav-text">åˆ‡æ¢å½“å‰åˆ†æ”¯</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AF%B9%E5%BA%94-Subversion-%E7%9A%84%E5%91%BD%E4%BB%A4"><span class="nav-number">1.9.</span> <span class="nav-text">å¯¹åº” Subversion çš„å‘½ä»¤</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#SVN-%E9%A3%8E%E6%A0%BC%E7%9A%84%E5%8E%86%E5%8F%B2"><span class="nav-number">1.9.1.</span> <span class="nav-text">SVN é£æ ¼çš„å†å²</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#SVN-%E6%97%A5%E5%BF%97"><span class="nav-number">1.9.2.</span> <span class="nav-text">SVN æ—¥å¿—</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#SVN-%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BF%A1%E6%81%AF"><span class="nav-number">1.9.3.</span> <span class="nav-text">SVN æœåŠ¡å™¨ä¿¡æ¯</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%95%A5-Subversion-%E4%B9%8B%E6%89%80%E7%95%A5"><span class="nav-number">1.9.4.</span> <span class="nav-text">ç•¥ Subversion ä¹‹æ‰€ç•¥</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Git-Svn-%E6%80%BB%E7%BB%93"><span class="nav-number">1.10.</span> <span class="nav-text">Git-Svn æ€»ç»“</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BF%81%E7%A7%BB%E5%88%B0-Git"><span class="nav-number">2.</span> <span class="nav-text">è¿ç§»åˆ° Git</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AF%BC%E5%85%A5"><span class="nav-number">2.1.</span> <span class="nav-text">å¯¼å…¥</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Subversion"><span class="nav-number">2.2.</span> <span class="nav-text">Subversion</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Perforce"><span class="nav-number">2.3.</span> <span class="nav-text">Perforce</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%87%AA%E5%AE%9A%E5%AF%BC%E5%85%A5%E8%84%9A%E6%9C%AC"><span class="nav-number">2.4.</span> <span class="nav-text">è‡ªå®šå¯¼å…¥è„šæœ¬</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="CHENPENGBLOG"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">CHENPENGBLOG</p>
  <div class="site-description" itemprop="description">è®°å½•ï¼</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">97</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">25</span>
        <span class="site-state-item-name">æ ‡ç­¾</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/yourname" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;yourname" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:yourname@gmail.com" title="E-Mail â†’ mailto:yourname@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://weibo.com/yourname" title="Weibo â†’ https:&#x2F;&#x2F;weibo.com&#x2F;yourname" rel="noopener" target="_blank"><i class="fab fa-weibo fa-fw"></i>Weibo</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://stackoverflow.com/yourname" title="StackOverflow â†’ https:&#x2F;&#x2F;stackoverflow.com&#x2F;yourname" rel="noopener" target="_blank"><i class="fab fa-stack-overflow fa-fw"></i>StackOverflow</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">CHENPENGBLOG</span>
</div>
  <div class="powered-by">ç”± <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> å¼ºåŠ›é©±åŠ¨
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
